(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+wa7":function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return b});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("t2Ba"),s=n("p9uY"),c=n("u/Xi"),l=n("6v47"),u=n("KvFL"),d=n("47ib"),p=["Conjunctions","Determiners","Fluency","Modifiers","Nouns","Numerals","Prepositions","Pronouns","Punctuation","Syntax","Spelling","Verbs","Word Order"].map(s.a.CapiId.create),m=["Conciseness","References","Voice"].map(s.a.CapiId.create),f=["Formality","Sensitivity","Variety","Vocabulary","Conventions"].map(s.a.CapiId.create),h=p.map(function(e){return{id:e,category:s.a.Category.Accuracy,type:s.a.Type.Critical}}).concat(m.map(function(e){return{id:e,category:s.a.Category.Clarity,type:s.a.Type.Advanced}}),f.map(function(e){return{id:e,category:s.a.Category.Effectiveness,type:s.a.Type.Advanced}})).map(function(e){return r.__assign({},e,{category:e.category,codeName:e.id,title:e.id,priority:Math.trunc(100*Math.random()),description:"",exclusiveHighlights:!1})}),g=function(e){var t=e.onTransitionEnd,n=i.Atom.create(!1);return requestAnimationFrame(function(){return requestAnimationFrame(function(){return n.set(!0)})}),a.createElement("span",null,a.createElement(i.F.span,{className:u.dot,style:{opacity:n.view(Number)}},"."),a.createElement(i.F.span,{className:u.dot,style:{opacity:n.view(Number)}},"."),a.createElement(i.F.span,{className:u.dot,style:{opacity:n.view(Number)},onTransitionEnd:t},"."))},v=5,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lensesArray=i.Atom.create(Array.from({length:v}).map(function(e,t){return{id:s.a.CapiId.create(t+"empty"),codeName:"",title:"",type:s.a.Type.Critical,category:s.a.Category.Accuracy,description:"",priority:0,exclusiveHighlights:!1}}).concat(o.ArrayUtils.shuffle(h))),t._updateLensArray=function(){t._lensesArray.modify(function(e){var t=e.slice(0),n=t.shift();return n&&""!==n.title&&t.push(n),t})},t}return r.__extends(t,e),t.prototype.render=function(){var e=this;return a.createElement("div",{className:u.wrapper},a.createElement(i.F.div,{className:u.checkingWrapper},this._lensesArray.view(function(t){return t.map(function(t,n){var r=t.id,i=t.title;return a.createElement(c.a,{key:r,offset:100*n+"%",theme:d},a.createElement(l.Base,{className:u.item},i,n===v&&a.createElement(g,{onTransitionEnd:e._updateLensArray})))})})))},t}(a.Component)},"/H08":function(e,t,n){"use strict";var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("mEc7"),s=n("xEd5"),c=n("t2Ba"),l=n("n3Ao"),u=function(e){var t=e.source,n=e.linkClassName;return a.createElement("a",{className:n,onClick:l.d.preventDefault(function(){try{localStorage.setItem("pageReloadReason",JSON.stringify({source:t,location:window.location.href,timestamp:Date.now()}))}catch(e){}window.location.reload()})},"try to reload the page")},d=Object(o.f)(function(e,t){var n=e.errorMessage,r=e.linkClassName,i=t.appConfig;return a.createElement("div",{title:n},"Oops, there was a problem. Please try again later or"," ",a.createElement("a",{className:r,href:i.support.login,target:"_blank"},"contact support"))}),p=function(e){var t=e.message,n=e.description,r=e.headerClassName;return n?a.createElement("div",null,a.createElement("p",{className:r},t),a.createElement("br",null),a.createElement("span",null,n)):a.createElement("div",null,t)},m=function(e){var t=e.navigateToDocument,n=e.linkClassName;return a.createElement("div",null,"Document successfully uploaded."," ",a.createElement("span",{className:n,onClick:t},"Open document for editing."))},f=function(e){var t=e.navigateToDocument,n=e.linkClassName;return a.createElement("div",null,"New document created."," ",a.createElement("span",{className:n,onClick:t},"Open document for editing."))},h=Object(o.f)(function(e,t){var n=t.textResources;return a.createElement("div",null,"Unsupported file type. ",n.base.notificationUploadFileText,": Microsoft Word (.doc, .docx), OpenOffice (.odt), TXT and RTF.")}),g=Object(o.f)(function(e,t){var n=e.linkClassName,r=t.appConfig;return a.createElement("div",null,"Your document contains revisions. Accept all revisions and try uploading again. Click"," ",a.createElement("a",{className:n,target:"_blank",href:r.support.documentAcceptTrackedChanges,onClick:l.d.stopPropagation()},"here")," ","for details.")}),v=function(e){var t=e.email;return a.createElement("div",null,"Please check your inbox at ",a.createElement("b",null,t)," to verify your new email address.")},b=function(e){var t=e.forceRetry,n=e.timeToRetry,r=e.linkClassName,o=e.headerClassName;return a.createElement(i.F.div,null,a.createElement("p",{className:o},"Cannot log out"),n.view(function(e){return-1!==e?a.createElement("div",{key:"logoutErrorNotification"},"An error occurred while logging out.",a.createElement("br",null),a.createElement("span",{className:r,onClick:t},"Retrying in ",e," seconds.")):a.createElement("div",{key:"logoutErrorNotification"},"It seems that something is preventing a successful logout. Please reload the page and try again.")}))},y=Object(o.f)(function(e,t){var n=e.linkClassName,r=e.headerClassName,i=t.environment;return a.createElement("div",null,a.createElement("p",{className:r},"Grammarly needs to refresh this page"),"Don't worry - your documents have already been saved.",a.createElement("br",null),"Please"," ",a.createElement("span",{className:n,onClick:function(){window.location.reload()}},"reload")," ","the page (",i.textResources.commandKeyLabel("R"),").")}),_=Object(o.f)(function(e,t){var n=e.linkClassName,r=e.headerClassName,i=e.reloadMethod,o=t.environment.textResources.denali.desktopUpdate;return a.createElement("div",null,a.createElement("p",{className:r},o.softTitle),o.soft,a.createElement("br",null),a.createElement("span",{className:n,onClick:i},o.reload))}),E=Object(o.f)(function(e,t){var n=e.linkClassName,r=e.headerClassName,i=e.reloadMethod,o=t.environment.textResources.denali.desktopUpdate;return a.createElement("div",null,a.createElement("p",{className:r},o.hardTitle),o.hard,a.createElement("br",null),a.createElement("span",{className:n,onClick:i},o.reload))}),w=Object(o.f)(function(e,t){var n=e.linkClassName,r=e.headerClassName,i=e.downloadMethod,o=t.environment.textResources.denali.desktopUpdate;return a.createElement("div",null,a.createElement("p",{className:r},o.softTitle),o.soft,a.createElement("br",null),a.createElement("span",{className:n,onClick:i},o.download))}),C=Object(o.f)(function(e,t){var n=e.linkClassName,r=e.headerClassName,i=e.downloadMethod,o=t.environment.textResources.denali.desktopUpdate;return a.createElement("div",null,a.createElement("p",{className:r},o.hardTitle),o.hard,a.createElement("br",null),a.createElement("span",{className:n,onClick:i},o.download))}),k=Object(o.f)(function(e,t){var n=e.linkClassName,r=t.appConfig;return a.createElement("div",null,"You have been logged out. You are being redirected to the login page. Please click"," ",a.createElement("a",{className:n,href:r.funnel.signin},"here")," ","if your browser does not redirect you.")}),S=function(e){var t=e.resetClock,n=e.reconnectTime,r=e.linkClassName,o=e.headerClassName;return a.createElement("div",null,a.createElement("p",{className:o},"Connection failure"),"Cannot connect to Grammarly because there is no Internet access available. ",a.createElement("br",null),a.createElement("span",{className:r,onClick:t},"Trying to reconnect in ",a.createElement(i.F.span,null,n.view(function(e){return e}))," seconds."))},M=function(){return a.createElement("div",null,"Your Internet connection is unstable. Grammarly may work slower than normal.")},A=function(e){var t=e.linkClassName;return a.createElement("div",null,"Oops, there was a problem. Please check your network configuration and"," ",a.createElement(u,{source:"UnknownConnectionError",linkClassName:t}),".")},T=function(e){var t=e.errorMessage,n=e.linkClassName;return a.createElement("div",{title:t},"The server encountered an error. Please"," ",a.createElement(u,{source:"ServerErrorNotification",linkClassName:n}),".")},x=Object(o.f)(function(e,t){var n=e.linkClassName,r=e.headerClassName,i=t.appConfig;return a.createElement("div",null,a.createElement("p",{className:r},"Connection failure"),"Your network configuration blocks Grammarly services on this computer.",a.createElement("br",null),"To troubleshoot this issue,"," ",a.createElement("a",{className:n,href:i.support.diagnosticTestPath,target:"_blank"},"click here"))}),O=function(e){var t=e.errorMessage,n=e.linkClassName;return a.createElement("div",{title:t},"Your Internet connection is unstable. Please check your network configuration and"," ",a.createElement(u,{source:"ClientConnectionErrorNotification",linkClassName:n}),".")},N=function(){return a.createElement("div",null,"Error checking is temporarily unavailable. Our engineers are working quickly to resolve the issue. Please check back soon.")},L=function(e){var t=e.headerClassName;return a.createElement("div",null,a.createElement("p",{className:t},"Maximum document size exceeded"),"Currently, Grammarly supports documents of up to 60 pages (100,000 characters) and no larger than 4 MB. ",a.createElement("br",null),"We are working to increase the size of documents we support.")},I=function(){return a.createElement("div",null,"The submitted file is empty.")},P=function(){return a.createElement("div",{"data-name":"document-not-found"},"Requested document was not found.")},F=function(){return a.createElement("div",null,"Document wasn't downloaded. Please try again.")},D=function(){return a.createElement("div",null,"Document wasn't uploaded. Please try again.")},R=function(e){var t=e.documentId,n=e.documentTitle,r=e.failedToRestore,i=e.linkClassName,o=e.show,l=e.notificationsFactory,u=e.restoreDocument,d=Object(c.throttleByPromise)(function(e,t){return u().catch(function(n){s.Monitoring.Logging.getLogger("notifications").error("Document restore fail",n),o(l.documentDeleted(e,t,u,!0))})});return a.createElement("div",null,r?'Oops, there was a problem. "'+n+"\" wasn't restored.":'"'+n+'" was deleted.'," ",a.createElement("a",{className:i,onClick:function(){return d(t,n)}},r?"Restore":"Undo"))},V=Object(o.f)(function(e,t){var n=e.linkClassName,r=t.appConfig;return a.createElement("div",null,"An error occurred while installing the extension. Your browser may be blocking installation. Please try again by installing from the"," ",a.createElement("a",{className:n,href:r.extension.chrome.infoURL,target:"_blank"},"Chrome Web Store"))}),B=Object(o.f)(function(e,t){var n=t.environment;return a.createElement("div",null,"Copying is not supported by your browser, but you can still use"," ",n.textResources.commandKeyLabel("C")," for copy")}),j=function(e){var t=e.email;return a.createElement("div",null,"We’re proofreading your document. When complete, we will email a corrected version to"," ",a.createElement("span",{"data-name":"useremail"},t))},H=Object(o.f)(function(e,t){var n=e.linkClassName,r=t.appConfig;return a.createElement("div",null,"The file cannot be downloaded because this browser does not support safe downloads.",a.createElement("br",null),"Please update your browser and try again.",a.createElement("br",null),a.createElement("a",{className:n,href:r.support.safariDownloadFilesKBUrl,target:"_blank"},"Learn more"))}),W=function(){return a.createElement("div",{"data-name":"proofread-downloaded"},"Document downloaded.")},U=n("2Xsa");n.d(t,"k",function(){return q}),n.d(t,"j",function(){return K}),n.d(t,"i",function(){return Y}),n.d(t,"e",function(){return m}),n.d(t,"c",function(){return h}),n.d(t,"f",function(){return g}),n.d(t,"b",function(){return L}),n.d(t,"a",function(){return I}),n.d(t,"g",function(){return P}),n.d(t,"h",function(){return F}),n.d(t,"d",function(){return D});var z=7e3,G=400;function q(e,t,n,i,o){switch(e.type){case"error":return a.createElement(d,{errorMessage:e.args.errorMessage,linkClassName:o.link});case"documentUploaded":return a.createElement(m,{navigateToDocument:e.args.navigateToDocument,linkClassName:o.link});case"isTemporaryDownloadError":return a.createElement(F,null);case"downloadDocumentNotFoundError":case"documentNotFoundError":return a.createElement(P,null);case"newDocumentCreated":return a.createElement(f,{navigateToDocument:e.args.navigateToDocument,linkClassName:o.link});case"documentDeleted":var c=e.args,l=c.documentId,u=c.documentTitle,U=c.failedToRestore,z=c.restoreDocument;return a.createElement(R,r.__assign({},{documentId:l,documentTitle:u,failedToRestore:U,restoreDocument:z},{linkClassName:o.link,hide:t,show:n,notificationsFactory:i}));case"documentTypeUnsupported":return a.createElement(h,null);case"trackedChangesIsUnsupported":return a.createElement(g,{linkClassName:o.link});case"documentUploadGeneralError":return a.createElement(D,null);case"changeEmail":return a.createElement(v,{email:e.args.email});case"generic":var G=e.args,q=G.message,K=G.description;return a.createElement(p,r.__assign({},{message:q,description:K},{headerClassName:o.header}));case"documentSizeExceeded":return a.createElement(L,{headerClassName:o.header});case"documentIsEmpty":return a.createElement(I,null);case"logoutError":var Y=e.args,Z=Y.forceRetry,J=Y.timeToRetry;return a.createElement(b,r.__assign({},{forceRetry:Z,timeToRetry:J},{linkClassName:o.link,headerClassName:o.header}));case"selfUpdateBlocker":return a.createElement(y,{linkClassName:o.link,headerClassName:o.header});case"desktopSoftUpdate":return a.createElement(_,{linkClassName:o.link,headerClassName:o.header,reloadMethod:e.args.reloadMethod});case"desktopHardUpdate":return a.createElement(E,{linkClassName:o.link,headerClassName:o.header,reloadMethod:e.args.reloadMethod});case"desktopSoftDownload":return a.createElement(w,{linkClassName:o.link,headerClassName:o.header,downloadMethod:e.args.downloadMethod});case"desktopHardDownload":return a.createElement(C,{linkClassName:o.link,headerClassName:o.header,downloadMethod:e.args.downloadMethod});case"unauthorizedError":return a.createElement(k,{linkClassName:o.link});case"offline":var X=e.args,Q=X.resetClock,$=X.reconnectTime;return a.createElement(S,r.__assign({},{resetClock:Q,reconnectTime:$},{linkClassName:o.link,headerClassName:o.header}));case"unknownConnectionError":return a.createElement(A,{linkClassName:o.link});case"serverError":return a.createElement(T,{linkClassName:o.link});case"connectionWSError":return a.createElement(x,{linkClassName:o.link,headerClassName:o.header});case"clientConnectionError":return a.createElement(O,{linkClassName:o.link});case"slowNetwork":return a.createElement(M,null);case"checkingIsDown":return a.createElement(N,null);case"extensionInstallFailed":return a.createElement(V,{linkClassName:o.link});case"copyToClipboardFailed":return a.createElement(B,null);case"proofitInProgress":return a.createElement(j,{email:e.args.email});case"blobDownloadUnsupported":return a.createElement(H,{linkClassName:o.link});case"downloadProofread":return a.createElement(W,null);default:return s.Monitoring.Logging.getLogger("notifications").error("Notification component for '"+e.type+"' not found."),a.createElement(d,{linkClassName:o.link})}}var K=function(e){var t=e.notification,n=e.hide,o=e.visibilityState,s=e.notifications,c=e.renderNotification,l=e.show,u=e.className;return a.createElement(i.F.div,r.__assign({key:t.id},Object(i.classes)(U.notification,o.map(function(e){return e?U.show:U.hide}),u)),a.createElement("span",{className:U.content,key:t.id},c(t,function(){return s.hide(t.id)},l,s.create,U)),!t.dontCloseOnClick&&a.createElement("div",{onClick:function(){return n(t.id,!0)},className:U.close}))},Y=Object(o.f)(function(e,t){var n=e.notifications,o=e.renderNotification,s=void 0===o?q:o,l=t.appRouter,u=i.Atom.create(!1),d=i.Atom.create(void 0),p=n.items.view(i.Lens.find(function(e){return!e.expired}));function m(e){d.set(e);var t=d.get();t&&t.id===e.id&&Object(c.tick)(function(){return u.set(!0)}),e.showTimeMs===1/0||e.important||setTimeout(function(){f(e.id,!0)},e.showTimeMs||z)}function f(e,t){void 0===t&&(t=!1);var r=d.get();Object(c.tick)(function(){r&&r.id===e&&u.set(!1),setTimeout(function(){var r=d.get();if(t&&n.expire(e),r&&r.id===e){var a=p.get();a&&m(a)}},G)})}return p.subscribe(function(e){var t=d.get();t&&f(t.id),void 0===t&&void 0!==e&&m(e)}),l&&l.location&&l.location.subscribe(function(e){return n.cleanup()}),a.createElement(i.F.div,null,d.map(function(e){return void 0===e?null:a.createElement(K,r.__assign({},{notification:e,notifications:n,show:m,hide:f,visibilityState:u,renderNotification:s}))}))})},"09XH":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,a=n("gSOH"),i=n("we1s");!function(e){!function(e){e.ISO=Object(a.iso)()}(e.FromWindowTop||(e.FromWindowTop={})),function(e){e.ISO=Object(a.iso)(),e.equals=Object(a.getSetoid)(i.setoidNumber).equals}(e.FromViewportTop||(e.FromViewportTop={})),function(e){e.ISO=Object(a.iso)()}(e.AbsTop||(e.AbsTop={})),function(e){e.ISO=Object(a.iso)()}(e.CardTop||(e.CardTop={})),e.concatC=function(e){return function(t){return e+t}},e.converters=function(t,n,r){var i=Object(a.over)(e.concatC(r)).get,o=Object(a.over)(e.concatC(-t)).get;return{windowToViewport:Object(a.over)(e.concatC(-n)).get,viewportToWindow:Object(a.over)(e.concatC(n)).get,cardTopToViewport:o,viewportToCardTop:Object(a.over)(e.concatC(t)).get,absTopToViewportTop:function(e){return o(i(e))},absTopToCardTop:i}}}(r||(r={}))},"0ZLt":function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var r=n("mrSG"),a=n("ERkP"),i=n("UniK"),o=n("oZTP"),s=function(){return a.createElement("svg",{className:i.svg,viewBox:"0 0 14 11",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.createElement("defs",null,a.createElement("path",{d:"M11.864 16.273a.792.792 0 0 0-1.145 1.094l3.752 3.93 6.839-7.99a.792.792 0 1 0-1.203-1.03l-5.7 6.66-2.543-2.664z",id:"b"}),a.createElement("filter",{x:"-18.2%",y:"-10.8%",width:"136.4%",height:"143%",filterUnits:"objectBoundingBox",id:"a"},a.createElement("feOffset",{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),a.createElement("feGaussianBlur",{stdDeviation:".5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),a.createElement("feColorMatrix",{values:"0 0 0 0 0.168627451 0 0 0 0 0.176470588 0 0 0 0 0.219607843 0 0 0 0.7 0",in:"shadowBlurOuter1"}))),a.createElement("g",{transform:"translate(-9 -12)",fillRule:"nonzero",fill:"none"},a.createElement("use",{fill:"#000",filter:"url(#a)",xlinkHref:"#b"}),a.createElement("use",{fill:"#FFF",fillRule:"evenodd",xlinkHref:"#b"})))},c=function(){return a.createElement("svg",{className:i.svg2,viewBox:"0 0 12 9",width:"12",height:"9",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1.386 4.115L4.561 7.29l5.81-5.81",stroke:"#FFF",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round"}))},l=function(e){var t=e.checked,n=e.className,c=e.children,l=e.name;return a.createElement(d,{name:l,checked:t,className:n,checkedComponent:function(e){return a.createElement("div",r.__assign({key:"checkbox"},Object(o.classes)(i.rectangle)),e&&a.createElement(s,null))}},c)},u=function(e){var t=e.checked,n=e.className,r=e.children,o=e.name;return a.createElement(d,{checked:t,name:o,className:n,checkedComponent:function(e){return a.createElement("div",{key:e?"checkbox1":"checkbox2",className:e?i.rectangleFilledBlue:i.rectangle},e&&a.createElement(c,null))}},r)},d=function(e){var t=e.checked,n=e.checkedComponent,s=e.className,c=e.children,l=e.name;return a.createElement(o.F.label,r.__assign({},Object(o.classes)(i.wrapper,s),{onClick:function(e){return e.stopPropagation()}},l?{"data-name":l+"-checkbox"}:{}),a.createElement(o.F.input,{type:"checkbox",checked:t,onChange:function(e){return t.modify(function(e){return!e})},className:i.inputCheckbox}),t.view(n),a.createElement("div",null,c))}},"0oBX":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("6v47"),s=n("sVgV"),c=function(e){var t=e.title,n=e.theme,c=void 0===n?{}:n,l=e.children;return a.createElement(i.F.div,{className:c.wrapper},a.createElement(i.F.header,r.__assign({},Object(i.classes)(s.header,c.header)),a.createElement(o.H1,{className:c.title},t),l))}},"1Y2u":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("yrnK"),s=n("t2Ba"),c=n("mEc7"),l=n("ePPH"),u=n("UI30"),d=n("Jguk"),p=n("QRqj"),m=n("nQSW"),f="checking-complete",h=164,g=(28-d.c.size)/2,v=d.c.size+2,b=(28-v)/2,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._label=i.Atom.combine(t.props.checking,t.props.minimized,t.props.hasErrors,function(e,n,r){var i=e?t.context.textResources.denali.sidebar.checkingLabel:r?t.context.textResources.denali.sidebar.fixErrorsLabel:t.context.textResources.denali.sidebar.openLabel;return n?"":a.createElement("div",{className:p.labelReveal,key:"label","data-name":i},i)}),t._checkingState=s.Animation.fadeOutState(t.props.checking.skipWhile(function(e){return!1===e})),t._spinnerState=t._checkingState.state.share().startWith(t.props.checking.get()?"inProgress":"end"),t._spinner=t._spinnerState.map(function(e){return"end"!==e?a.createElement(u.a.Svg,{role:"new-spinner",key:"loading",type:"white",size:v,strokeWidth:5,className:"fadeOut"===e?p.fadeOut:void 0,onTransitionEnd:t._checkingState.complete,x:h+b,y:b}):null}),t._logo=o.Observable.combineLatest(t._spinnerState,t.props.minimized,function(e,t){return"inProgress"===e?null:t?[a.createElement(d.c,r.__assign({},Object(i.classes)(p.reveal),{transform:"translate("+(h+g)+" "+g+")",key:"logo"})),a.createElement("g",{"data-name":f,key:"complete"})]:a.createElement("g",{"data-name":f,key:"complete"})}),t}return r.__extends(t,e),t.prototype.render=function(){return a.createElement(l.a,{name:"assistant",className:this.props.minimized.view(function(e){return e?p.mini:p.full}),disabled:this.props.minimized,onClick:this.props.onClick},a.createElement(E,{closed:this.props.minimized},this._logo,this._spinner),this._label)},t}(c.a);var _=Object(i.lift)(function(e){return a.createElement("g",r.__assign({},e))}),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateToOffset=function(e){return e?h:0},t.stateToTransform=function(e){return"translateX("+t.stateToOffset(e)+"px)"},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.closed.map(this.stateToTransform).pairwise().switchMap(function(t){return n=e.el,r={transform:t},a={duration:300,easing:"ease-in",fill:"forwards"},o.Observable.create(function(e){var t=n.animate(r,a);return t.oncancel=t.onfinish=function(){return e.complete()},function(){return t.finish()}});var n,r,a}).subscribe()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){var e=this,t=this.props.closed.get();return a.createElement("svg",{viewBox:"0 0 192 28",className:this.context.environment.has(m.b.Flag.supportsSVGTransitions)?p.background:p.edgeBackground},a.createElement("defs",null,a.createElement("mask",{id:"mask"},a.createElement("circle",{cx:14,cy:14,r:14,fill:"#fff"}),a.createElement("rect",{x:14,width:h,height:28,fill:"#fff"}),a.createElement("circle",{cx:14+h,cy:14,r:14,fill:"#fff"})),a.createElement("clipPath",{id:"clip"},a.createElement("circle",{cx:178,cy:14,r:14}),a.createElement("rect",{x:-14,width:192,height:28,fill:"#fff"}))),a.createElement("g",{clipPath:"url(#clip)"},a.createElement("rect",{id:"box",x:"0",y:"0",width:192,height:28,mask:"url(#mask)",ref:function(t){return e.el=t},transform:"translate("+this.stateToOffset(t)+", 0)"})),a.createElement(_,null,this.props.children))},t}(c.a)},"1d/y":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,a=n("ERkP"),i=n("oZTP"),o=n("6v47"),s=n("ud1N"),c=n("ePPH"),l=n("RCFH"),u=n("F8cT"),d=n("mEc7"),p=n("Pe9T"),m=n("9A2v");!function(e){e.BaseNotification=function(e){var t=e.title,n=e.description,r=e.visible,u=e.children,d=e.upgradeViewModel,p=e.place;return a.createElement(i.F.div,{className:m.wrapper},a.createElement(l.b,{visible:r,alignment:"none",overlayType:"transparent"}),r.view(function(e){return e&&a.createElement("div",{key:"container",className:m.container},a.createElement("div",{className:m.messageContainer},a.createElement(o.Paper,{className:m.baseTitle},t),a.createElement(o.Base,null,n),a.createElement(c.a.Group,{className:m.buttonsContainer},a.createElement(s.a,{size:"small",upgradeViewModel:d,place:p}),a.createElement(c.a.Ghost,{name:"later",className:m.laterButton,onClick:function(){return r.set(!1)}},"maybe later"))),a.createElement("div",{className:m.imageContainer},u))}))},e.ProfessionalProofreaders=Object(d.f)(function(t,n){var r=t.visible,i=t.upgradeViewModel;return a.createElement("div",null,a.createElement(e.BaseNotification,{visible:r,upgradeViewModel:i,title:n.textResources.denali.proofitTitle,description:n.textResources.denali.proofitDescription,place:p.l.Place.DenaliDocument.editorDenaliProofit},a.createElement(f,null)),a.createElement(u.b,null,a.createElement(f,null)))}),e.Plagiarism=Object(d.f)(function(t,n){var r=t.visible,i=t.upgradeViewModel;return a.createElement(e.BaseNotification,{visible:r,upgradeViewModel:i,title:n.textResources.denali.plagiarism.title,description:n.textResources.denali.plagiarism.description,place:p.l.Place.DenaliDocument.editorDenaliPlagiarism},a.createElement(h,null))})}(r||(r={}));var f=function(){return a.createElement("picture",null,a.createElement("div",{className:m.image}))},h=function(){return a.createElement("svg",{width:"49",height:"61",viewBox:"0 0 49 61",className:m.plagiarismIcon},a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M4.692 14.29c0-1.73 1.402-3.136 3.13-3.136h37.745c1.728 0 3.197 1.41 3.264 3.134 0 0 .447 6.995-.134 16.423-.383 6.222-.94 9.332-7.02 17.072-4.657 5.925-10.963 10.785-13.665 12.74-.826.597-1.77.64-2.55.103-4.638-3.192-20.768-15.34-20.768-29.914V14.29z",fill:"#A4D3FF",opacity:".746"}),a.createElement("path",{d:"M1 7.462h43.385v19.743c0 16.704-21.693 31.026-21.693 31.026S1 44.388 1 27.206V7.462z",stroke:"#8189A9",strokeWidth:"1.568",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("g",{style:{mixBlendMode:"multiply"},strokeWidth:"1.568",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("path",{stroke:"#E9EEF4",fill:"#E9EEF4",d:"M35.727 3.99l6.628 3.826L15.782 53.84l-7.6 5.51.973-9.336z"}),a.createElement("path",{d:"M32.81 9.776l9.853 5.69-9.46 16.384-1.267-.732c-1.125-.65-1.514-2.08-.858-3.216l.985-1.706c.65-1.127 2.094-1.512 3.01-.984",stroke:"#F3F5FA",fill:"#F3F5FA"})),a.createElement("g",{stroke:"#8189A9"},a.createElement("path",{strokeWidth:"1.568",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",d:"M33.25 1.05l6.937 4.006L13.61 51.09l-7.756 5.423.818-9.428z"}),a.createElement("path",{strokeWidth:"1.568",fill:"#E9EEF4",strokeLinecap:"round",strokeLinejoin:"round",d:"M33.25 1.05l6.937 4.006-3.235 5.604-6.937-4.005z"}),a.createElement("path",{d:"M30.347 6.848l10.314 5.954L31.2 29.19l-1.428-.823c-1.12-.648-1.51-2.077-.853-3.214l.985-1.707c.65-1.127 2.09-1.513 3.094-.934",strokeWidth:"1.725",strokeLinecap:"square"}))))}},"5egB":function(e,t,n){"use strict";var r=n("mrSG"),a=n("ERkP"),i=n("ASSm"),o=n("oZTP"),s=n("t2Ba"),c=n("87V+"),l=n("cERz"),u=n("Oj6O"),d=n("l3Zs"),p=n("crDh"),m=function(e){var t=e.className,n=e.onClick,i=e.customStyle;return a.createElement(o.F.div,r.__assign({},Object(o.classes)(p.pulseWrapper,t),{style:i,onClick:function(){return n&&n()}}),a.createElement("div",{className:p.pulse}))};function f(e){var t=e.stepId,n=e.onboardingViewModel,i=r.__rest(e,["stepId","onboardingViewModel"]),o=g(t,n),s=a.useContext(l.a.Context).map(function(e){return e.rect});return o.fold(function(){return a.Children.only(e.children)},function(e){return a.createElement(v,r.__assign({},i,{onboardingStep:e,viewportRect:s}))})}var h,g=function(e,t){return void 0===t&&(t=a.useContext(f.Context)),Object(s.invariant)(Boolean(t),"onboardingViewModel should be set either in context or in props"),t.isStepEnabled(e)?Object(i.Some)(t.subscribeForStep(e)):i.None},v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._wrapperHtmlElement=null,t._containerElement=null,t._notificationElement=o.Atom.create(i.None),t._alignment=o.Atom.create(t.props.alignment||"left"),t._visibilityState=o.Atom.create(!t.props.findFirstButton),t._spotStyle=o.Atom.create({}),t._notificationStyle=o.Atom.create({}),t._triangleCustomStyle=o.Atom.create({}),t._onEventActionTaken=function(e,n){return void 0===n&&(n=!0),function(r){var a=e.state.get();if("popup"===a||n&&"dot"===a){var i=r.target;if(s.DOM.isDisabled(i))return;var o=n||s.DOM.hasParentWithClassName(i,p.containerDiv);if(t.props.findFirstButton&&!s.DOM.hasParentWithAttribute(i,"role","button"))return;o&&e.actionTaken()}else"dot"===a&&(r.preventDefault(),r.stopPropagation())}},t}return r.__extends(t,e),t.prototype.componentWillUnmount=function(){var e=this.props.onboardingStep;"popup"===e.state.get()&&e.popupIgnored(),this._subs.forEach(function(e){return e.unsubscribe()})},t.prototype.componentDidMount=function(){var e=this;if(this.props.viewportRect&&this._subs.push(this._notificationElement.map(function(e){return e.map(function(e){return e.getBoundingClientRect()})}).withLatestFrom(this.props.viewportRect,this._alignment).subscribe(function(t){var n=t[0],r=t[1],a=t[2];n.forEach(function(t){if(e._wrapperHtmlElement)if(t.bottom>r.bottom)switch(a){case"bottomCenter":e._alignment.set("topCenter"),e._notificationStyle.set({top:-t.height})}else if(t.right>r.right)switch(a){case"bottomCenter":case"bottomRight":e._alignment.set("bottomLeft")}})})),this.props.findFirstButton){var t=this.props.findFirstButton.dotPosition,n=this.props.findFirstButton.notificationPosition||"normal",r=this.props.findFirstButton.buttonOrder;this._subs.push(this.context.merge(this.props.onboardingStep.state.filter(function(e){return"dot"===e||"popup"===e})).switchMapTo("object"!=typeof r?o.Atom.create(r):r).subscribe(function(r){return setTimeout(function(){var a=e._containerElement&&e._containerElement.querySelectorAll('[role="button"]'),i=a&&a.length>0&&(void 0===r?a[a.length-1]:a[r]);if(i&&e._wrapperHtmlElement){var o=i.getBoundingClientRect(),c=e._wrapperHtmlElement.getBoundingClientRect();switch(t){case"rightTop":e._spotStyle.set({top:0,left:o.left-c.left+o.width});break;case"center":e._spotStyle.set({top:o.top-c.top+o.height/2,left:o.left-c.left+o.width/2});break;default:Object(s.assertNever)(t)}switch(n){case"normal":e._triangleCustomStyle.set({left:o.left-c.left+o.width/2+3});break;case"underButton":e._triangleCustomStyle.set({right:o.left-c.left+o.width/2}),e._notificationStyle.set({top:o.top-c.top+o.height});break;default:Object(s.assertNever)(n)}e._visibilityState.set(!0)}},500)}))}},t.prototype.render=function(){var e=this,t=this.props.onboardingStep;return a.createElement(o.F.div,r.__assign({key:"onboarding-wrapper"},Object(o.classes)(p.containerWrapper,this.props.themes&&this.props.themes.containerWrapperClassName),{mount:function(t){return e._wrapperHtmlElement=t}}),a.createElement("div",r.__assign({key:"container",ref:function(t){return e._containerElement=t}},Object(o.classes)(p.containerDiv,this.props.themes&&this.props.themes.containerClassName),{onClickCapture:this._onEventActionTaken(t,"onclick"===this.props.eventType),onMouseEnter:function(n){return"onhover"===e.props.eventType&&e._onEventActionTaken(t,!1)(n)}}),this.props.children),o.Atom.combine(t.state,this._visibilityState,function(n,s){if(!s)return null;switch(n){case"dot":var c=e.props.themes&&e.props.themes.spotClassName;return a.createElement(m,r.__assign({customStyle:e._spotStyle,key:"spot"},Object(o.classes)(p.onboardingSpot,c),{onClick:function(){return t.dotClicked()}}));case"popup":var l=e.props.themes&&e.props.themes.notificationClassName;return a.createElement(d.b,{key:"step",title:e.props.title,alignment:e._alignment,themes:{className:l,triangleClassName:e.props.themes?e.props.themes.triangleClassName:void 0},triangleCustomStyle:e._triangleCustomStyle,customStyle:e._notificationStyle,description:e.props.message,onClose:function(){return t.popupClosed()},onMount:function(t){return t&&e._notificationElement.set(i.Option.of(t))}});default:return null}}))},t.contextType=c.a.Context,t}(a.Component);(h=f||(f={})).Context=a.createContext(null),h.ContextMock=function(e){var t=e.children;return a.createElement(h.Context.Provider,{value:new u.c,children:t})};var b=n("CB9K"),y=n("rtH6"),_=n("n3Ao");function E(e,t){var n=e.stepId,s=e.onboardingViewModel,l=e.denaliEditorModel,u=e.getFirstTarget,d=e.overlay,p=e.completionTrigger,m=a.useContext(c.a.Context),f=o.Atom.create({display:"none",pointerEvents:"none"}),h=o.Atom.create(!1),g=s.subscribeForStep(n),v=o.Atom.create(i.None);return y.a.useSubscriptionTo(b.Observable.merge(g.state.view(function(e){return"dot"===e||"popup"===e}).switchMap(function(e){return e?u():b.Observable.empty()}).do(_.e.toAtom(v)),g.state.do(function(e){"popup"===e&&d&&h.set(!0),f.modify(function(t){return r.__assign({},t,{pointerEvents:"dot"===e?"all":"none"})})}).merge(l.contentUpdated,t).combineLatest(m,v.skip(1)).do(function(e){e[0];return function(e,t){return requestAnimationFrame(function(){l.flushChanges(),t.flatMap(function(e){return e.firstClientRect.toOption()}).fold(function(){return f.set({display:"none"})},function(t){var n=t.top,a=t.left,i=t.width,o=t.height;f.modify(function(t){return r.__assign({},t,{position:"absolute",left:a/e+"rem",top:n/e+"rem",width:i/e+"rem",height:o/e+"rem",display:"block"})})})})}(e[1],e[2])}),b.Observable.merge(_.e.orEmpty(h.skip(1).filter(function(e){return!e}))(!!d),p.skip(1)).do(s.getStepCompletionCallback(n)),h.switchMap(_.e.orEmpty(b.Observable.fromEvent(document,"click",{capture:!0,passive:!0}))).do(function(){return h.set(!1)}))),{visibilityOverlay:h,customStyles:f,onboardingStep:g}}var w=function(e){var t=a.useContext(l.a.Context).map(function(e){return e.rect}),n=E(e,t),i=n.visibilityOverlay,s=n.customStyles,c=n.onboardingStep;return a.createElement(a.Fragment,null,e.overlay&&e.overlay(i),a.createElement("div",{className:p.editor},a.createElement(o.F.div,{style:s,className:p.onboardingPopup},a.createElement(v,r.__assign({},e,{onboardingStep:c,viewportRect:t,eventType:"none"}),a.createElement(o.F.div,{style:s.view(function(e){return{width:e.width,height:e.height}})})))))},C=function(e){return e.onboardingViewModel.isStepEnabled(e.stepId)?a.createElement(w,r.__assign({},e)):null};n.d(t,"a",function(){return f}),n.d(t,"b",function(){return C})},"5qyr":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n("mrSG"),a=n("ERkP"),i=n("CB9K"),o=n("oZTP"),s=n("t2Ba"),c=n("n3Ao"),l=n("KL5p"),u=n("hQK4"),d=n("X87Q"),p=n("glls"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=new d.b.Keeper,t._onTransformEnd=function(e){e.target===t._el&&"transform"===e.propertyName&&t.props.completePositionAnimation.next(t.props.cardId)},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props.cardView;this._subs.push(e.view("position").view("watched").switchMap(c.e.orEmpty(s.DOM.getResizeObservable(this._el))).withLatestFrom(e).filter(function(e){var t=e[0],n=e[1];return n.position.height!==t.height||!n.position.isHeightValid}).subscribe(function(t){var n=t[0];e.modify(function(e){return e.changePosition(e.position.changeHeight(n.height))})}))},t.prototype.componentWillUnmount=function(){this._subs.cleanAll()},t.prototype.render=function(){var e=this,t=this.props,n=t.cardId,i=t.cardView,s=t.active,c=t.children,l=i.view("position"),u=l.view("absTop");return a.createElement(o.F.div,r.__assign({key:n,"data-id":n,"data-top":u},Object(o.classes)(p.card,l.view(function(e){return e.animationInProgress&&p.cardAnimate})),{style:{transform:u.view(function(e){return"translateY("+e+"px) "}),zIndex:s.view(function(e){return e?1:0})},onTransitionEnd:this._onTransformEnd,mount:function(t){return t&&(e._el=t)}}),c)},t}(a.Component),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._scrolling=o.Atom.create(!1),t._onScroll=new i.Subject,t._subs=new d.b.Keeper,t._titleChanged=new i.Subject,t._heightChanged=i.Observable.merge(t.props.lensView.view("cardsHeight").mapTo(c.e.voidValue),t._titleChanged),t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this._subs.push(i.Observable.merge(this._onScroll.debounceTime(100).mapTo(!1),this._onScroll.mapTo(!0)).subscribe(c.e.toAtom(this._scrolling)))},t.prototype.componentWillUnmount=function(){this._subs.cleanAll()},t.prototype.render=function(){var e=this.props,n=e.className,i=e.onMount;return a.createElement(l.b,r.__assign({name:"cards"},Object(o.classes)(n,p.scroller),{allowHover:!0,onMount:i,onScroll:this._onScroll,update:this._heightChanged}),a.createElement(t.Content,r.__assign({},this.props,{scrolling:this._scrolling})))},t}(a.Component);!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._titleHeight=o.Atom.create(0),t._subs=new d.b.Keeper,t._onTitleMount=function(e){null!==e&&(t._subs.push(s.DOM.getResizeObservable(e).map(function(e){return e.height}).do(function(){t.props.onTitleChange&&t.props.onTitleChange.next()}).subscribe(c.e.toAtom(t._titleHeight))),t.props.onTitleMount&&t.props.onTitleMount(e))},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.lensView,i=t.scrolling,l=t.cardsVM,d=t.children;this._cardsMap=n.lens(u.d.Prism.cards);var f=this._cardsMap.view(function(e){return e.filter(function(e){return e.position.visible||e.position.watched})}).view(function(e){return e.keys().slice(0)}),h=o.Atom.combine(n.view("cardsHeight"),this._titleHeight,s.sum);return a.createElement(o.F.div,r.__assign({},Object(o.classes)(i.view(function(e){return e&&p.scrolling}),p.scrollContent),{style:h.view(function(e){return{height:e}})}),a.createElement("div",{ref:this._onTitleMount,className:p.description},d),a.createElement(o.F.div,null,Object(o.reactiveList)(f,function(t){var r=e._cardsMap.lens(c.a.Sorted.lens(t));return a.createElement(m,{key:t,cardId:t,cardView:r,active:n.view("card").view(function(e){return e.exists(function(e){return t===e.cardId})}),completePositionAnimation:l.completePositionAnimation},e.props.renderCard(r))})))},t}(a.Component);e.Content=t;var n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.className,i=t.onMount;return a.createElement("div",r.__assign({},Object(o.classes)(n,p.scrollerRevamped),{ref:i}),a.createElement(e.Content,r.__assign({},this.props,{scrolling:o.Atom.create(!1)})))},n}(a.Component);e.Revamped=n}(f||(f={}))},"66Dp":function(e,t,n){"use strict";n.d(t,"a",function(){return A});var r=n("mrSG"),a=n("ERkP"),i=n("CB9K"),o=n("oZTP"),s=n("lycr"),c=n("n3Ao"),l=n("Jguk"),u=n("ePPH"),d=n("VI1M"),p=n("6v47"),m=n("fOM/"),f=n("p9uY"),h=n("rc17"),g=n("BTov"),v=n("5egB"),b=n("Ynql"),y=n("Oj6O"),_=n("mEc7"),E=n("BrW0"),w=n("WsCC"),C=n("fQ10"),k=n("8RpA"),S=n("Et9B"),M=n("VSrU"),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._checkingInProgress=t.props.card.view("meta","state").view(function(e){return e===m.a.CheckingState.CHECKING}),t.getProgressLabels=function(e){var n=t.context.textResources.denali.card.progressBarLabels;switch(e){case f.a.SpecialId.Readability:return n.readability;case f.a.SpecialId.SentenceVariety:return n.sentenceVariety;case f.a.SpecialId.Conciseness:return n.conciseness;default:return{}}},t._renderCardContent=function(){var e=t.props,n=e.card,r=e.lensId;return a.createElement(o.F.Fragment,{key:"card-content"},n.view("activeAlert").view(function(e){return a.createElement(a.Fragment,null,r===f.a.SpecialId.AllAlerts&&a.createElement(C.a,{className:M.lens,activeAlert:e}),e.replacementsLabels.map(function(t){return a.createElement(v.a,{key:"onboarding",alignment:"bottomFlexible",eventType:"onclick",stepId:y.a.Id.Step4,title:"Accept a correction",message:"Click on a suggestion to apply it to your text.",findFirstButton:{dotPosition:"rightTop"},themes:{notificationClassName:M.onboardingNotification}},a.createElement(S.b,{key:"replacementsLabels",replacementsLabels:t,onClick:function(t){return c.d.callOnce(function(){return e.apply(t,m.b.sidebar)})}}))}).getOrElseL(function(){return a.createElement(T,{text:e.title})}))}))},t._renderCardControls=function(){var e=t.props.card;return a.createElement(o.F.Fragment,{key:"card-controls"},e.view(function(e){return a.createElement(a.Fragment,null,m.a.isRated(e.activeAlert)&&a.createElement(N,{isLoading:t._checkingInProgress,value:E.a.VisualState.isCardPresuccess(e.visualState)?100:e.meta.percentile,initValue:E.a.VisualState.isCardPresuccess(e.visualState)?e.meta.percentile:0,labels:t.getProgressLabels(e.activeAlert.lensId)}),a.createElement(p.Base,r.__assign({className:M.description},g.a.renderToHtml(e.meta.explanation))),a.createElement(x,{key:"controls",alert:e.activeAlert}))}))},t._renderCardActions=function(){var e=t.props,n=e.card,s=e.alignmentViewModel,c=e.marksViewModel,l=e.cardsViewModel;return a.createElement(o.F.Fragment,{key:"card-actions"},n.view(function(e){return a.createElement(a.Fragment,null,a.createElement(u.a,{key:"align-button",name:"align",onClick:function(){return s.alignMarkToCard(e,b.a.ANIMATE_ALL).subscribe()},className:c.isActiveMarkInvisible(e.activeAlert.id).debounce(function(e){return e?i.Observable.timer(350):i.Observable.empty()}).map(function(e){return e?M.alignButtonVisible:M.alignButtonHidden}).startWith(M.alignButtonHidden)},"Show in text"),!e.activeAlert.extraProperties.hasAddToDictionary&&(e.activeAlert.examples.nonEmpty()||e.activeAlert.details.nonEmpty())&&[a.createElement(w.a,r.__assign({key:e.cardId},{cardsViewModel:l,className:M.expandBtn,card:e})),a.createElement(w.b,{card:e,key:"block-more",className:M.more},e.activeAlert.details.map(function(e){return a.createElement(p.Base,r.__assign({key:"details",className:M.description},g.a.renderToHtml(e)))}).orNull(),e.activeAlert.examples.map(function(e){return a.createElement(k.a,{key:"examples",examples:e})}).orNull())],e.activeAlert.replacementsLabels.isEmpty()&&a.createElement(O,{alert:e.activeAlert}))}))},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.onFocus()},t.prototype.render=function(){return a.createElement("div",{className:M.wrapper},a.createElement("div",{className:M.main},this._renderCardContent(),this._renderCardControls()),this._renderCardActions())},t}(_.a),T=function(e){var t=e.text;return a.createElement(p.P1,r.__assign({className:M.title},g.a.renderToHtml(t)))},x=Object(_.f)(function(e,t){var n=e.alert;return a.createElement(o.F.div,{className:M.buttons},a.createElement(u.a.Ghost,{name:"ignore",title:t.textResources.denali.dismiss,onClick:c.d.callOnce(function(){return n.sendFeedback(s.CAPI.AlertFeedbackType.IGNORE,m.b.sidebar)})},a.createElement(l.d.Ignore,null)),n.replacementsLabels.nonEmpty()&&a.createElement(d.a,{label:a.createElement(u.a.Ghost,{name:"report"},a.createElement(l.d.Report,null)),align:"right",key:"report",theme:M,name:"report"},a.createElement(u.a.Flat,{name:"incorrect",onClick:c.d.callOnce(function(){return n.sendFeedback(s.CAPI.AlertFeedbackType.WRONG_SUGGESTION,m.b.sidebar)})},t.textResources.denali.card.wrong),a.createElement(u.a.Flat,{name:"offensive",onClick:c.d.callOnce(function(){return n.sendFeedback(s.CAPI.AlertFeedbackType.OFFENSIVE_CONTENT,m.b.sidebar)})},t.textResources.denali.card.offensive)),n.extraProperties.hasAddToDictionary&&a.createElement(u.a.Ghost,{name:"add-to-dict",title:t.textResources.denali.card.addToDict,className:M.dictBtn,onClick:c.d.callOnce(function(){return n.sendFeedback(s.CAPI.AlertFeedbackType.ADD_TO_DICTIONARY,m.b.sidebar)})},a.createElement(l.d.Dict,null)))}),O=Object(_.f)(function(e,t){var n=e.alert;return a.createElement("div",{className:M.feedback},!n.allowUpdate&&a.createElement(u.a.Ghost,{name:"like",className:M.feedbackButton,key:"feedback-yes",onClick:function(){n.sendFeedback(s.CAPI.AlertFeedbackType.LIKE,m.b.sidebar)}},t.textResources.denali.card.like,a.createElement(l.d.Yes,null)),a.createElement(u.a.Ghost,{name:"unlike",className:M.feedbackButton,key:"feedback-no",onClick:function(){n.sendFeedback(s.CAPI.AlertFeedbackType.DISLIKE,m.b.sidebar)}},t.textResources.denali.card.dislike,a.createElement(l.d.Close,null)))}),N=function(e){var t=e.value,n=e.initValue,r=e.isLoading,i=e.labels;return a.createElement("div",null,a.createElement(h.a,{value:t,initValue:n,wrapperClass:M.progressWrapper,isLoading:r}),a.createElement("div",{className:M.progressLabels},a.createElement("span",null,i.min),a.createElement("span",null,i.max)))}},"7K1R":function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.group=function(e){return Object.values(e.reduce(function(e,t){var n=t.group,r=t.category,a=t.categoryHuman;return void 0===e[r]&&(e[r]={group:n,category:r,categoryHuman:a,count:0}),e[r].count+=1,e},{})).sort(function(e,t){return t.count-e.count})}}(r||(r={}))},"87V+":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,a=n("ERkP"),i=n("CB9K"),o=n("t2Ba"),s=n("n3Ao"),c=n("rtH6");function l(e){document.documentElement.style.fontSize=null!==e?e+"px":null}!function(e){e.Manager=function(n){var r=n.children,i=n.remSize,o=void 0===i?t:i,u=s.e.toObservable(o);return c.a.useSingleton("RemSize.Manager"),c.a.useSubscriptionTo(u.do(l).finally(l.bind(null,null))),a.createElement(e.Context.Provider,{value:u},r)};var t=i.Observable.combineLatest(o.DOM.matchMedia("(max-width: 1359px)"),o.DOM.matchMedia("(min-width: 1600px)"),function(e,t){return e?14:t?18:16});e.Context=a.createContext(t)}(r||(r={}))},"8RpA":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("mrSG"),a=n("ERkP"),i=n("n3Ao"),o=n("Har/"),s=n("6v47"),c=n("gqVY"),l=function(e){var t=e.examples;return a.createElement(s.Typography,{nodeType:"table",styleType:s.Typography.Type.Base,className:c.wrapper},t.map(function(e,t){return a.createElement("tbody",{key:t,className:c.group},e.map(function(e,t){var n=e.text,s=e.title,l=e.color;return a.createElement("tr",{key:t,className:c.item},s.map(function(e){return a.createElement("td",{className:o.a.colorMatch(l)(c)},function(e){return e.split("/").reduce(function(e,t,n){return 0!==n&&e.push(a.createElement("br",{key:n})),e.push(t),e},[])}(e))}).orNull(),a.createElement("td",r.__assign({colSpan:s.isEmpty()?2:void 0,className:c.content},i.d.setInnerHTML(n))))}))}))}},A4qE:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,a=n("mrSG"),i=n("ERkP"),o=n("oZTP"),s=n("Jguk"),c=n("UI30"),l=n("t2Ba"),u=n("n3Ao"),d=n("hbYY"),p=n("mEc7"),m=n("nQSW");!function(e){var t=1e3;function n(e){return 0===e?"":e>=t?Math.min(Math.trunc(e/t),9)+"k+":String(e)}var r=function(e){var t=e.className,n=e.isChecking,r=e.type,s=e.animateFade,u=void 0===s||s,p=l.Animation.fadeOutState(n),m=p.state,f=p.complete;return i.createElement(o.F.div,a.__assign({},Object(o.classes)(d.loader,t),{role:"loader"}),u?m.map(function(e){return"end"===e?i.createElement("div",{key:"checking-complete","data-name":"checking-complete"}):i.createElement(c.a,{key:"spinner",variation:r,size:"100%",className:"fadeOut"===e?d.fadeOut:void 0,onTransitionEnd:f})}):n.map(function(e){return e?i.createElement(c.a,{variation:r,size:"100%"}):i.createElement("div",{"data-name":"checking-complete"})}))},f=Object(p.f)(function(e,t){var r=e.name,s=e.theme,p=void 0===s?{}:s,f=e.count,h=e.type,g=void 0===h?"white":h,v=e.suffix,b=void 0===v?"":v,y=t.environment;return i.createElement(o.F.div,a.__assign({},Object(o.classes)(d.roundCounter,u.e.mapMaybeObservable(g,c.a.getClassName(d)),p.counterWrapper),{role:"counter"}),i.createElement("svg",{viewBox:"0 0 32 32",className:d.circular},i.createElement("g",null,i.createElement("circle",{r:"15.75",cx:"16",cy:"16"}),i.createElement("text",a.__assign({x:"16",y:"17"},l.DOM.svgVerticalAlignment(y.has(m.b.Flag.supportsSVGDominantBaseline)),{fontSize:f>=100?14:18,"data-name":r},Object(o.classes)(d.counterText,p.counterContent)),n(f),b))))}),h=Object(p.f)(function(e,t){var r=e.name,s=e.theme,p=void 0===s?{}:s,f=e.count,h=e.type,g=void 0===h?"white":h,v=e.suffix,b=void 0===v?"":v,y=t.environment;return i.createElement(o.F.div,a.__assign({},Object(o.classes)(d.ovalCounter,u.e.mapMaybeObservable(g,c.a.getClassName(d)),p.counterWrapper),{role:"counter"}),i.createElement("svg",{viewBox:"0 0 32 20",className:d.circular},i.createElement("rect",{width:"32",height:"20",rx:"10"}),i.createElement("text",a.__assign({x:"16",y:"10.5"},l.DOM.svgVerticalAlignment(y.has(m.b.Flag.supportsSVGDominantBaseline)),{fontSize:11,"data-name":r},Object(o.classes)(d.counterText,p.counterContent)),n(f),b)))});e.Counter=function(e){var t=e.theme,n=void 0===t?{}:t,r=e.count,s=e.type,c=void 0===s?"white":s;return r>=100?i.createElement(h,{theme:n,count:r,type:c}):i.createElement(f,{theme:a.__assign({},n,{counterWrapper:Object(o.classes)(n.counterWrapper,d.flexCounter).className}),count:r,type:c})},e.MainMeter=function(e){var t=e.count,n=e.isChecking,c=e.className,l=0===t;return i.createElement("div",a.__assign({},Object(o.classes)(d.meter,c)),i.createElement(r,{isChecking:n,type:l?"green":"red"}),0===t?i.createElement(s.d.Grammarly,null):i.createElement(f,{count:t,type:"red",name:"toolbar-mistakes"}))},e.LensNavMeter=function(e){var t=e.count,n=e.isChecking;return i.createElement("div",{className:d.lensNavMeter},i.createElement(r,{isChecking:n,type:"red"}),i.createElement(f,{count:t,type:"white",name:"toolbar-mistakes"}))},e.PlagiarismMeter=function(e){var t=e.count,n=e.isChecking,c=e.className;return i.createElement(o.F.div,a.__assign({},Object(o.classes)(d.plagiarismMeter,c)),i.createElement(r,{isChecking:n,type:"violet",animateFade:!1}),i.createElement(o.F.div,{className:d.wrapper},t.combineLatest(n).map(function(e){var t=e[0],n=e[1];return 0===t?i.createElement(s.d.NotificationInfo,{className:d.plagiarismIcon,key:"icon",width:20}):!n&&i.createElement(h,{count:t,type:"violet",key:"value",suffix:i.createElement("tspan",{fontSize:8,dominantBaseline:"center"},"%")})}).startWith(null)))}}(r||(r={}))},AECf:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("kwyh"),a=n("ERkP"),i=n("ASSm"),o=n("oZTP"),s=n("t2Ba"),c=n("rtYL"),l=n("JVM6"),u={style:{top:0,left:0},className:l.hidden},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._el=null,t._props=o.Atom.create(u),t._visible=o.Atom.create(!1),t._state=o.Atom.create(i.None),t._validateFit=function(e){var n=e.alignment,r=e.target;if(t._el){var a=document.body.getBoundingClientRect(),i=t._el.getBoundingClientRect(),o=t._getVAlign(n,a,i)+t._getHAlign(n,a,i);o!==n&&t._props.set(t._calcProps({alignment:o,targetRect:r.getBoundingClientRect(),elRect:i}))}t._visible.set(!0)},t}return r.c(t,e),t.prototype.componentDidMount=function(){this._listenStyles()},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){var e=this;return a.createElement(c.a,null,function(t){return e._visible.set(!1),t.isEmpty()&&e._state.set(i.None),t.map(function(t){return a.createElement(o.F.div,r.a({mount:function(n){e._el=n,e._state.set(Object(i.Some)(t))}},Object(o.classes)(l.tooltip,e._props.view("className"),e._visible.view(function(e){return e?l.visible:l.hidden})),{style:e._props.view("style")}),t.content)}).orNull()})},t.prototype._listenStyles=function(){var e,t=this;this._subs.push(this._state.subscribe(function(n){e&&cancelAnimationFrame(e),t._visible.set(!1),n.fold(function(){return t._props.set(u)},function(n){t._props.set(t._calcProps({alignment:n.alignment,targetRect:n.target.getBoundingClientRect(),elRect:t._el&&t._el.getBoundingClientRect()})),t._isFixed(n.alignment)?t._visible.set(!0):e=requestAnimationFrame(function(){return t._validateFit(n)})})}))},t.prototype._isFixed=function(e){switch(e){case"topCenter":case"topRight":case"topLeft":case"bottomCenter":case"bottomRight":case"bottomLeft":case"left":case"right":return!0;default:return!1}},t.prototype._getHAlign=function(e,t,n){var r=t.right>n.right,a=t.left<n.left;switch(e){case"center":return"Center";case"right":return"Right";case"left":return"Left";case"auto":case"top":case"bottom":default:return r&&a?"Center":r?"Right":"Left"}},t.prototype._getVAlign=function(e,t,n){switch(e){case"top":case"bottom":return e;case"auto":case"center":case"right":case"left":default:return t.top<n.top?"top":"bottom"}},t.prototype._calcProps=function(e){var t=e.alignment,n=e.targetRect,r=e.elRect,a=r?r.height:24,i={fromTop:n.top-a-7,fromMiddle:(n.top+n.bottom-a)/2,fromBottom:n.bottom+7,fromCenter:n.left+n.width/2,fromRight:n.left+n.width/2-12-7,fromLeft:n.left+n.width/2+12+7,fromRightBorder:n.right+7,fromLeftBorder:n.left-7};switch(t){case"auto":case"center":case"top":case"topCenter":return{style:{top:i.fromTop,left:i.fromCenter},className:l.tooltipTopCenter};case"right":return{style:{top:i.fromMiddle,left:i.fromRightBorder},className:l.tooltipMiddleRight};case"topRight":return{style:{top:i.fromTop,left:i.fromRight},className:l.tooltipTopRight};case"left":return{style:{top:i.fromMiddle,left:i.fromLeftBorder},className:l.tooltipMiddleLeft};case"topLeft":return{style:{top:i.fromTop,left:i.fromLeft},className:l.tooltipTopLeft};case"bottom":case"bottomCenter":return{style:{top:i.fromBottom,left:i.fromCenter},className:l.tooltipBottomCenter};case"bottomRight":return{style:{top:i.fromBottom,left:i.fromRight},className:l.tooltipBottomRight};case"bottomLeft":return{style:{top:i.fromBottom,left:i.fromLeft},className:l.tooltipBottomLeft};default:return Object(s.assertNever)(t)}},t}(a.Component)},AW4s:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return v}),n.d(t,"c",function(){return h});var r,a,i=n("mrSG"),o=n("ASSm"),s=n("CB9K"),c=n("oZTP"),l=n("xEd5"),u=n("lycr"),d=n("n3Ao"),p=n("nQSW"),m=n("CrFT"),f=n("p9uY");!function(e){e[e.Document=0]="Document",e[e.Plagiarism=1]="Plagiarism"}(r||(r={})),function(e){e.empty={critical:0,advanced:0,free:0,paid:0,unread:0},e.join=function(e,t){return{critical:e.critical+t.critical,advanced:e.advanced+t.advanced,free:e.free+t.free,paid:e.paid+t.paid,unread:e.unread+t.unread}},e.reverse=function(e){return{critical:-e.critical,advanced:-e.advanced,free:-e.free,paid:-e.paid,unread:-e.unread}},e.isValid=function(e){return e.critical>=0&&e.advanced>=0&&e.unread>=0}}(a||(a={}));var h,g=function(){function e(e){this._changes=c.Atom.create(e),this.changes=this._changes.skip(1)}return e.prototype._updateValue=function(e,t){this._changes.modify(function(n){var r;return Object.assign({},n,((r={})[e]=t,r))})},Object.defineProperty(e.prototype,"discoverabilityOnExitShown",{get:function(){return this._changes.view("discoverabilityOnExitShown").get()},set:function(e){this._updateValue("discoverabilityOnExitShown",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedPlagiarism",{get:function(){return this._changes.view("checkedPlagiarism").get()},set:function(e){this._updateValue("checkedPlagiarism",e)},enumerable:!0,configurable:!0}),e}(),v=function(){function e(e,t,n,r,i,f,h,v){var b=this;this._docId=e,this._doxInit=t,this._ded=n,this._getStats=r,this._doxApi=i,this._notifications=f,this._enableTrackingOnDownload=h,this._environment=v,this.saved=new s.Subject,this.checkingState=c.Atom.create("full"),this.asyncChecksState=c.Atom.create({plagiarism:"full"}),this.counters=c.Atom.create(a.empty),this.score=c.Atom.create(o.None),this.textInfo=c.Atom.create(o.None),this.recentDocumentStats=c.Atom.create(o.None),this.extraSettings=new g(this._doxInit.meta.settings.extraSettings.getOrElse(u.DoxDocumentSettings.Extra.empty)),this._log=l.Monitoring.Logging.getLogger("model.document"),this._subs=new p.e.Keeper,this.updateContext=function(e){var t=!u.DocumentContext.equals(b.context.get(),e);return b.context.set(e),t},this.title=c.Atom.create(t.meta.title),this.context=c.Atom.create(t.meta.settings.context.getOrElse(u.DocumentContext.empty)),this.documentLength=c.Atom.create(t.initialDelta.length),this.contextCompleteness=this.context.view(function(e){return 20*["general"!==e.domain,e.goals.size>0,e.audience.nonEmpty(),e.emotion.nonEmpty(),e.style.nonEmpty()].filter(Boolean).length}),this.proofit=new m.b(this._doxInit.remoteDocument,this.title),this._subs.push(n.contentUpdated.debounceTime(1e3).map(function(){return n.getTextLength()}).subscribe(d.e.toAtom(this.documentLength)))}return Object.defineProperty(e.prototype,"isInitialRevision",{get:function(){return this._doxInit.remoteDocument.isInitialRevision},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDemoDocument",{get:function(){return this._doxInit.meta.isDemoDocument},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"documentText",{get:function(){return this._ded.getText()},enumerable:!0,configurable:!0}),e.prototype.flush=function(){return this._ded.flushChanges(),this._doxInit.remoteDocument.flush()},e.prototype.downloadOriginal=function(){return i.__awaiter(this,void 0,void 0,function(){var e;return i.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,5,,6]),[4,this.flush()];case 1:return t.sent(),this._environment.has(p.b.Flag.canDownloadBlobs)?[4,this._doxApi.downloadOriginal(this._docId,this._enableTrackingOnDownload).then(u.RawFile.saveToFS)]:[3,3];case 2:return t.sent(),[3,4];case 3:this._notifications.show(this._notifications.create.blobDownloadUnsupported()),t.label=4;case 4:return[3,6];case 5:return e=t.sent(),this._handleDownloadError(e),[3,6];case 6:return[2]}})})},e.prototype.downloadProofread=function(){return i.__awaiter(this,void 0,void 0,function(){var e;return i.__generator(this,function(t){switch(t.label){case 0:if(!this._environment.has(p.b.Flag.canDownloadBlobs))return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this._doxApi.downloadProofread(this._docId).then(u.RawFile.saveToFS)];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this._handleDownloadError(e),[3,4];case 4:return[3,6];case 5:this._notifications.show(this._notifications.create.blobDownloadUnsupported()),t.label=6;case 6:return[2]}})})},e.prototype.generateReport=function(e,t){return i.__awaiter(this,void 0,void 0,function(){var n;return i.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._doxApi.generateReport(this._docId,e,t).then(u.RawFile.saveToFS)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),this._log.error("generateReport failed",n),this._notifications.show(this._notifications.create.error()),[3,3];case 3:return[2]}})})},e.prototype._handleDownloadError=function(e){this._log.error("downloadDocument failed",e);var t=e instanceof u.DoxErrors.UnauthorizedError,n=e instanceof u.DoxErrors.DocumentNotFoundError,r=e instanceof u.DoxErrors.TooManyRequestsError||e instanceof u.DoxErrors.ConnectionError;t?this._notifications.show(this._notifications.create.unauthorizedError()):n?this._notifications.show(this._notifications.create.downloadDocumentNotFoundError()):r?this._notifications.show(this._notifications.create.isTemporaryDownloadError()):this._notifications.show(this._notifications.create.error())},e.prototype.calculateStats=function(){var e=this;return this._getStats().then(function(t){return e.recentDocumentStats.set(Object(o.Some)(t)),t})},e.prototype.getCheckingForState=function(e){return e.currentLens.id!==f.a.SpecialId.Plagiarism?this.checkingState.view(function(e){return{kind:r.Document,type:e}}):c.Atom.combine(this.checkingState,this.asyncChecksState.view("plagiarism"),function(e,t){return"full"===e?{kind:r.Document,type:e}:"idle"!==t?{kind:r.Plagiarism,type:t}:{kind:r.Document,type:e}})},e.prototype.dispose=function(){this._subs.cleanAll()},e}();!function(e){var t=function(){function e(){var e=this;this.score=c.Atom.create(o.None),this.textInfo=c.Atom.create(o.None),this.title=c.Atom.create(""),this.downloadOriginal=function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){return[2,Promise.resolve()]})})},this.downloadProofread=function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){return[2,Promise.resolve()]})})},this.documentText="",this.documentLength=c.Atom.create(0),this.counters=c.Atom.create(a.empty),this.saved=c.Atom.create(!0),this.checkingState=c.Atom.create("idle"),this.asyncChecksState=c.Atom.create({plagiarism:"idle"}),this.isDemoDocument=!1,this.calculateStats=function(){return Promise.resolve(u.CAPI.DocumentStatistics.generateStats(210,1601))},this.flush=function(){return Promise.resolve()},this.context=c.Atom.create(u.DocumentContext.fromDomain("general")),this.contextCompleteness=c.Atom.create(0),this.updateContext=function(){return!1},this.proofit=new m.a.Mock,this.extraSettings=new g(u.DoxDocumentSettings.Extra.empty),this.recentDocumentStats=c.Atom.create(o.None),this.generateReport=function(){return Promise.resolve()}}return e.prototype.getCheckingForState=function(){return c.Atom.create({type:"idle",kind:r.Document})},e}();e.Mock=t}(h||(h={}))},BTov:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,a=n("n3Ao"),i=["b","i","br","ul","li"];!function(e){e.renderToHtml=function(e){return a.d.setInnerHTML(e,{allowedTags:i})}}(r||(r={}))},CCZN:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return v}),n.d(t,"d",function(){return y});var r,a=n("mrSG"),i=n("ASSm"),o=n("CB9K"),s=n("OMre"),c=n("oZTP"),l=n("xEd5"),u=n("lycr"),d=n("t2Ba"),p=n("Skuv"),m=n("n3Ao"),f=n("CrFT"),h=n("nQSW"),g=function(){function e(e,t){var n=this;this.details=e,this._ops=t,this.active=c.Atom.create(!1),this.select=function(){n._ops._updateActive(n.details.turnaround)},this.unselect=function(){n._ops._updateActive(null)},this.placeOrder=function(){return n._ops._placeOrder(n.details.turnaround)}}return e.prototype.toggleActive=function(e){return this.active.set(e),this},e}();!function(e){e.Order="Order",e.OrderOldUI="OrderOldUI",e.Success="Success"}(r||(r={}));var v,b=function(){function e(e,t,n,m,v,b,y){var _=this;this._proofit=e,this._notifications=t,this._ded=n,this._user=m,this._appTextResources=v,this._goToMyDocuments=y,this.modal=c.Atom.create(i.None),this.viewState=c.Atom.create(i.None),this._subs=new h.e.Keeper,this._log=l.Monitoring.Logging.getLogger("ProofitView"),this._getPaymentErrorText=function(e){switch(e){case"creditCard":return _._appTextResources.denali.proofitPayment.creditCard;case"payPal":return _._appTextResources.denali.proofitPayment.payPal;default:var t="Unknown payment method: "+e;throw _._log.warn(t),new Error(t)}},this.requestPlans=this._ded.contentUpdated.auditTime(1e3).startWith(void 0).switchMap(function(){return o.Observable.fromPromise(_._proofit.getPlans())}).retryWhen(p.a.OperationRetrier.RetryStrategy.conditional(function(e){return"Timeout"===e.message},p.a.OperationRetrier.RetryStrategy.linear(2,1e3))).do(function(e){_.viewState.set(Object(i.Some)({words:e.words,plans:e.turnaroundOptions.map(function(e){return new g(e,_)}).sort(function(e,t){return t.details.turnaround-e.details.turnaround}),selectedPlan:i.None,proofitState:i.None}))},function(e){_.modal.set(i.None),_._notifications.show(_._notifications.create.error()),_._log.error("Error querying proofit plan options",e)}).finally(function(){_.viewState.set(i.None)}),this._updateActive=function(e){_.viewState.modify(function(t){return t.map(function(t){var n=t.plans,r=t.words,a=t.proofitState;return{plans:n.map(function(t){return t.toggleActive(t.details.turnaround===e)}),selectedPlan:i.Option.of(n.find(function(t){return t.details.turnaround===e})),words:r,proofitState:a}})})},this._placeOrder=function(e){return _._user.features.proofitTest.map(function(e){return Object(d.delay)(2e3).then(function(){return _._proofit.updateState(_._getResultMock(u.Proofit.parseStatus(e)))})}).getOrElseL(function(){return _._proofit.placeOrder(e)})};var E=b.state.get().value;this.viewStateAndSubscription=this.viewState.combineLatest(b.state),this._subs.push(this._proofit.state.subscribe(function(e){e.map(function(e){switch(f.c.isSending(e)||_.modal.set(i.None),e.kind){case"submitted":_._showSuccessModal(),_._log.info("Document submitted for proofreading");break;case"finished":case"cancelled":case"sending":break;case"error":_._showErrorNotification(e.errorType,E),_._log.error("Error sending document for proofreading:",e.errorType);break;default:Object(d.assertNever)(e)}}),_.viewState.modify(function(t){return t.map(function(t){return a.__assign({},t,{proofitState:e})})})})),this._subs.push(this.modal.pipe(Object(s.pairwise)(),Object(s.filter)(function(e){return e[0].exists(function(e){return e.type===r.Success})})).subscribe(this._goToMyDocuments))}return e.prototype.showOrderModal=function(){this.modal.set(Object(i.Some)({type:this._user.features.denali.proofitOldUIExperiment?r.OrderOldUI:r.Order}))},e.prototype._showSuccessModal=function(){this._subs.push(this._proofit.jobDetails.switchMap(m.e.toOptionValueOnly).combineLatest(this._user.profile,function(e,t){var n=e.dueTime,a=t.email;return Object(i.Some)({type:r.Success,payload:{email:a,dueDate:n}})}).first().subscribe(m.e.toAtom(this.modal)))},e.prototype._showErrorNotification=function(e,t){switch(e){case"payment":this._notifications.show(this._notifications.create.proofitPaymentDeclinedError(this._getPaymentErrorText(t.paymentMethod)));break;case"emptyDocument":this._notifications.show(this._notifications.create.proofitEmptyDocumentError());break;case"alreadyProofread":this._notifications.show(this._notifications.create.proofitDocumentProofreadError(this._goToMyDocuments));break;case"unknown":this._notifications.show(this._notifications.create.error());break;default:Object(d.assertNever)(e)}},e.prototype._getResultMock=function(e){var t=d.DateUtils.Local.Timestamp.now(),n=d.DateUtils.Local.Timestamp.toLocal(d.DateUtils.Local.Timestamp.add(t,108e5));return{submitted:d.DateUtils.Local.Timestamp.toLocal(t),corrections:5,due:n,price:666,name:"",completed:i.None,id:1,status:e,is_dox_applied:!0}},e.prototype.dispose=function(){this._subs.cleanAll()},e}();function y(e){return c.Lens.create(function(t){return t.map(function(e){return e.type}).contains(e)},function(e){return Object(d.invariant)(!e,"Proofit modal shouldn't be set through lens"),i.None})}!function(e){var t=function(){return function(e){var t=this;this._proofit=e,this.modal=c.Atom.create(i.Option.of({type:r.Order})),this.showOrderModal=d.noop,this.showSuccessModal=d.noop,this.viewState=c.Atom.create(i.None),this.requestPlans=o.Observable.fromPromise(this._proofit.getPlans().then(function(e){t.viewState.set(Object(i.Some)({words:e.words,plans:e.turnaroundOptions.map(function(e){return new g(e,t)}).sort(function(e,t){return t.details.turnaround-e.details.turnaround}),selectedPlan:i.None,proofitState:i.None}))}).catch(console.error)),this._updateActive=function(e){return t.viewState.modify(function(t){return t.map(function(t){var n=t.plans,r=t.words,a=t.proofitState;return{plans:n.map(function(t){return t.toggleActive(t.details.turnaround===e)}),selectedPlan:i.Option.of(n.find(function(t){return t.details.turnaround===e})),words:r,proofitState:a}})})},this._placeOrder=function(){return new Promise(function(e){return setTimeout(e,1e3)})},this.dispose=d.noop,this.viewStateAndSubscription=this.viewState.combineLatest(c.Atom.create(p.a.ok({plans:[]})))}}();e.Mock=t}(v||(v={}))},CFZe:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return r});var r,a=n("mrSG"),i=n("CB9K"),o=n("oZTP"),s=n("t2Ba"),c=n("n3Ao"),l=n("p9uY"),u=function(){function e(e,t,n){var r=this;this._documentModel=e,this._alertsList=t,this._capiClient=n,this._plagiarismCheckingState=this._documentModel.asyncChecksState.lens("plagiarism"),this.plagiarismCheckedInSession=this._plagiarismCheckingState.view(function(e){return"full"!==e}),this.checkingState=o.Atom.combine(this._plagiarismCheckingState,this._alertsList.lenses.view(function(e){return e.get(l.a.SpecialId.Plagiarism)}),function(e,t){return t.fold(function(){return{type:"idle"!==e?"full":"idle",percent:0,fragments:0}},function(t){var n=t.value;return{type:e,percent:n.percentile,fragments:n.count}})}),this._subs=[],this._isEnabled=o.Atom.create(!1),this._enable=function(){r._plagiarismCheckingState.modify(function(e){return"idle"===e?"checking":e}),r._documentModel.extraSettings.checkedPlagiarism=!0,r._capiClient.capi.enablePlagiarismSearch()},this._disable=function(){r._capiClient.capi.disablePlagiarismSearch()},this._subs.push(this._isEnabled.switchMap(c.e.orEmpty(this._capiClient.events.filter(function(e){return"session_started"===e.kind}))).subscribe(this._enable))}return e.prototype.enable=function(){var e=this;return this._isEnabled.set(!0),this._enable(),function(){e._isEnabled.set(!1),e._disable()}},e.prototype.recheck=function(){return a.__awaiter(this,void 0,void 0,function(){var e;return a.__generator(this,function(t){switch(t.label){case 0:return(e=!this._isEnabled.get())&&this._enable(),[4,this._plagiarismCheckingState.filter(function(e){return"idle"===e}).first().toPromise()];case 1:return t.sent(),e&&this._capiClient.capi.disablePlagiarismSearch(),[2]}})})},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()})},e}();!function(e){var t=function(){function e(){this.enable=function(){return s.noop},this.recheck=function(){return new Promise(s.noop)},this.dispose=s.noop,this.checkingState=o.Atom.create({type:"idle",percent:20,fragments:1}),this.plagiarismCheckedInSession=o.Atom.create(!0)}return e.prototype.getPercent=function(){return i.Observable.of(20)},e}();e.Mock=t}(r||(r={}))},CrFT:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var r,a=n("ASSm"),i=n("oZTP"),o=n("xEd5"),s=n("lycr"),c=n("t2Ba");!function(e){function t(e){return"sending"===e.kind}e.isSendingState=function(e){return e.exists(t)},e.isSending=t}(r||(r={}));var l,u=function(){function e(e,t){this._doc=e,this.documentTitle=t,this.state=i.Atom.create(a.None),this.jobDetails=i.Atom.create(a.None)}return e.prototype.getPlans=function(){return this._doc.getProofitPlans()},e.prototype.placeOrder=function(e){var t=this;return this.state.set(Object(a.Some)({kind:"sending"})),this._doc.placeProofitOrder(e).then(function(e){return t._updateStatus(e.status)}).catch(function(e){o.Monitoring.Logging.getLogger("ProofitModel").warn("Error placing proofit order",e),t.state.set(Object(a.Some)({kind:"error",errorType:"unknown"}))})},e.prototype.updateState=function(e){this._updateStatus(e.status),this.jobDetails.set(Object(a.Some)({startTime:e.submitted,dueTime:e.due}))},e.prototype._updateStatus=function(e){switch(e){case s.Proofit.JobStatus.building:break;case s.Proofit.JobStatus.newJob:this.state.set(Object(a.Some)({kind:"submitted"}));break;case s.Proofit.JobStatus.completed:this.state.set(Object(a.Some)({kind:"finished"}));break;case s.Proofit.JobStatus.cancelled:this.state.set(Object(a.Some)({kind:"cancelled"}));break;case s.Proofit.JobStatus.emptyDocument:this.state.set(Object(a.Some)({kind:"error",errorType:"emptyDocument"}));break;case s.Proofit.JobStatus.duplicate:this.state.set(Object(a.Some)({kind:"error",errorType:"alreadyProofread"}));break;case s.Proofit.JobStatus.paymentError:this.state.set(Object(a.Some)({kind:"error",errorType:"payment"}));break;case s.Proofit.JobStatus.unknown:this.state.set(a.None);break;default:this.state.set(a.None)}},e}();!function(e){var t=function(){function e(){this.state=i.Atom.create(a.None),this.jobDetails=i.Atom.create(a.None),this.documentTitle=i.Atom.create("My doc")}return e.prototype.getPlans=function(){return Promise.resolve({words:666,turnaroundOptions:[{enabled:!0,label:"30 minutes",minutesToProcess:30,perWord:.15,price:35.69,turnaround:s.Proofit.PlanType.Instant},{enabled:!0,label:"3 hours",minutesToProcess:180,perWord:.12,price:28.56,turnaround:s.Proofit.PlanType.ThreeHours},{enabled:!0,label:"24 hours",minutesToProcess:1440,perWord:.05,price:11.9,turnaround:s.Proofit.PlanType.TwentyFourHours}]})},e.prototype.placeOrder=function(){return Promise.resolve()},e.prototype.updateState=function(){Object(c.noop)()},e}();e.Mock=t}(l||(l={}))},DTSS:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,a=n("ERkP"),i=n("t2Ba"),o=n("ePPH"),s=n("6v47"),c=n("Jguk"),l=n("bEyd"),u=n("FGH0");function d(e){return e.priority===l.a.Priority.high||e.priority===l.a.Priority.highest}function p(e){return e.size===l.a.Size.fixed}!function(e){e.Wrapper=function(t){var n=t.notification,r=t.onClose,i=t.children;return a.useEffect(function(){return n.actions.next("shown")},[]),a.createElement("div",{className:d(n.metadata)?u.topNotification:u.bottomNotification},a.createElement("div",{className:p(n.metadata)?u.fixedNotification:u.flexibleNotification},a.createElement(e.Base,{metadata:n.metadata,onClose:r},i)))},e.Base=function(t){var n=t.metadata,r=t.onClose,i=t.children,o=p(n);return a.createElement("div",{className:o?u.contentWrapper:u.miniContentWrapper},a.createElement(e.Icon,{metadata:n}),a.createElement("div",{className:o?u.content:u.miniContent},i),!d(n)&&a.createElement(e.CloseButton,{onClick:r,className:o?u.closeIconWrapper:u.closeIconWrapperMini}))},e.Icon=function(e){var t=e.metadata;switch(t.priority){case l.a.Priority.low:return a.createElement(c.d.NotificationInfo,{className:p(t)?u.alertIcon:u.alertIconMini});case l.a.Priority.average:return a.createElement(c.d.NotificationWarning,{className:p(t)?u.alertIcon:u.alertIconMini});case l.a.Priority.high:case l.a.Priority.highest:return a.createElement(c.d.NotificationError,{className:p(t)?u.alertIcon:u.alertIconMini});default:return Object(i.assertNever)(t.priority)}},e.CloseButton=function(e){var t=e.onClick,n=e.className;return a.createElement(o.a,{name:"closeNotification",className:n,onClick:t},a.createElement(c.d.Close,{className:u.closeIcon,width:12}))},e.TitledContent=function(t){var n=t.title,r=t.children;return r?a.createElement(a.Fragment,null,a.createElement(s.P1,{className:u.header},n),a.createElement(e.Content,null,r)):a.createElement(s.P1,{className:u.description},n)},e.Content=function(e){var t=e.children;return a.createElement(s.Base,{className:u.description},t)}}(r||(r={}))},E15D:function(e,t,n){"use strict";var r,a=n("mrSG"),i=n("ERkP"),o=n("oZTP"),s=n("t2Ba"),c=n("fOM/"),l=n("hQK4"),u=n("NQVW"),d=n("t5ZZ"),p=n("sqE2"),m=n("66Dp"),f=n("bwwc"),h=n("jjv7"),g=n("KR7Q"),v=n("woBb");n.d(t,"a",function(){return r}),function(e){e.Component=function(t){var n=t.card,r=t.cardsVM,a=t.lensId,o=t.marksVM,s=t.alignmentVM,c=t.lensAlertsCount,l=t.onFocus;return i.createElement(d.a.Card,{miniCard:i.createElement(e.Mini,{card:n,cardsVM:r}),fullCard:i.createElement(e.Full,{card:n,lensId:a,marksViewModel:o,alignmentViewModel:s,cardsViewModel:r,onFocus:l}),successCard:i.createElement(e.Success,{isLastCard:c.view(function(e){return 0===e}),actionEvents:r.actionEvents}),cardsViewModel:r,card:n})},e.Full=function(e){var t=e.card.get().type;switch(t){case l.b.Type.default:return i.createElement(m.a,a.__assign({},e,{card:e.card}));case l.b.Type.plagiarism:return i.createElement(h.a,a.__assign({},e,{card:e.card}));case l.b.Type.super:return i.createElement(g.a,a.__assign({},e,{card:e.card}));default:return Object(s.assertNever)(t)}},e.Mini=function(e){var t=e.card,n=e.cardsVM,r=t.get().type;switch(r){case l.b.Type.default:case l.b.Type.super:return i.createElement(p.a,{card:t,cardsVM:n});case l.b.Type.plagiarism:return i.createElement(f.a,{card:t,cardsVM:n});default:return Object(s.assertNever)(r)}},e.Success=function(e){return i.createElement(d.a.Success,a.__assign({},e))};var t=o.Atom.create(l.b.createFromAlert(new c.c(c.a.generate(1),c.e.mock,u.b.mock,v.b.mock)));e.FakeCard=function(n){var r=n.cardsVM;return i.createElement(d.a.Wrapper,null,i.createElement(e.Mini,{card:t,cardsVM:r}))}}(r||(r={}))},EFyp:function(e,t,n){"use strict";var r,a,i=n("mrSG"),o=n("CB9K"),s=n("at1y"),c=n("ASSm"),l=n("oZTP"),u=n("xEd5"),d=n("t2Ba"),p=n("n3Ao"),m=n("p9uY"),f=n("WhHs"),h=n("fOM/");!function(e){e.updateRanges=function(e,t){return i.__assign({},e,{updateRanges:t})},e.forceUpdate=function(e,t){return i.__assign({},e,{forceUpdate:t})},e.updateVisualState=function(e,t){return i.__assign({},e,{visualState:t})},e.from=function(e){return{visualState:e,updateRanges:!1,forceUpdate:!1}}}(r||(r={})),function(e){e.initial="initial",e.highlighted="highlighted",e.visible="visible",e.faded="faded",e.hidden="hidden",e.success="success",e.applied="applied",e.disposed="disposed"}(a||(a={}));var g=n("kf89");var v=function(){function e(t,n,i){var o=this;this.alert=t,this._bulkFactory=n,this._getMarkClasses=i,this._currentState=r.from(a.initial),this._scheduledState=r.from(a.visible),this._marksMap=new Map,this._alertRef=this.alert.takeReference("mark"),this._shouldInitMark=!0,this._dispose=function(){o._marksMap.clear(),o._alertRef.forEach(function(e){return e.dispose()})},this._disposeIfEmpty=function(){0===o._marksMap.size&&o._dispose()},this._alertRef.recover(function(t){return e._log.warn("can not take alertRef",t)})}return Object.defineProperty(e.prototype,"scheduledState",{get:function(){return this._scheduledState},enumerable:!0,configurable:!0}),e.prototype.scheduleApply=function(e){return this._throwWhenNotAllowedState(e),this._throwWhenInFinaleState(e),Object(d.invariant)(e!==a.initial,"Cannot schedule change "+this.alert.id+" from "+this._currentState.visualState+" to initial state"),this._currentState.visualState!==a.initial||e!==a.disposed&&e!==a.applied?this._scheduledState&&this._scheduledState.forceUpdate?this._scheduledState=r.updateVisualState(this._scheduledState,e):this._currentState.visualState!==e||this._currentState.updateRanges?this._scheduledState=r.updateVisualState(this._currentState,e):this._scheduledState=null:(this._scheduledState=null,this._currentState=r.from(a.disposed),this._dispose()),this},e.prototype.scheduleUpdate=function(){this._scheduledState=r.updateRanges(this._scheduledState||this._currentState,!0)},e.prototype.scheduleForceUpdate=function(){this._scheduledState=r.forceUpdate(this._scheduledState||this._currentState,!0)},e.prototype.apply=function(e){var t=this;this._throwWhenNotAllowedState(e),this._throwWhenInFinaleState(e),e&&this.scheduleApply(e),this.pending?(this.rangeChange().forEach(function(e){t._handleBasicEvent(e.rawMark)}),this.change().filter(function(e){return e.rawMark.length>0}).forEach(function(e){"apply"===e.action?t._handleApplyEvent(e.rawMark):t._handleBasicEvent(e.rawMark)})):Object(d.invariant)(this.is(a.disposed)||this.not(a.disposed)&&!this._shouldInitMark,"Mark "+this.alert.id+" is in invalid state "+this._currentState.visualState)},e.prototype._iterateOverMarkAlerts=function(e,t){var n=0;e.forEach(function(e){var r=e.rawMark,a=e.ma;r.forEach(function(e){"create"===e.action?a._setMarkAndCheckFinaleState(e.id,c.Option.of(t[n])):"remove"===e.action&&a._removeMark(e.id),n++}),a._disposeIfEmpty()})},e.prototype._handleMultipleHighlights=function(t,n){var r=t.map(function(e){return[e,n(e)]}).filter(function(t){t[0];return t[1].filter(function(t){return 0!==t.rawMark.length||(e._log.warn("rawAction must have rawMark array",{rawAction:t.action}),!1)}).nonEmpty()}).map(function(e){return{ma:e[0],rawMark:e[1].map(function(e){return e.rawMark}).get()}});if(0!==r.length){var a=d.ArrayUtils.flatMap(r.map(function(e){return e.rawMark})),i=this._bulkFactory(a);this._iterateOverMarkAlerts(r,i)}},e.prototype.applyWith=function(e){var t=e.concat([this]);this._handleMultipleHighlights(t,function(e){return e.rangeChange()}),this._handleMultipleHighlights(t,function(e){return e.change().map(function(e){if("apply"===e.action)throw new d.InvariantError("'Apply' action cannot be applied in bulk");return e})})},Object.defineProperty(e.prototype,"id",{get:function(){return this.alert.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_mark",{get:function(){return this._markbyIndex(0)},enumerable:!0,configurable:!0}),e.prototype._markbyIndex=function(e){return this._marksMap.size>e?0===e?this._marksMap.values().next().value:Array.from(this._marksMap.values())[e]:c.None},e.prototype.markByIndex=function(e){try{return this._throwWhenInFinaleState(),this._shouldInitMark&&(this._shouldInitMark=!1,this.apply()),this._markbyIndex(e)}catch(e){return c.None}},Object.defineProperty(e.prototype,"mark",{get:function(){return this.markByIndex(0)},enumerable:!0,configurable:!0}),e.prototype._setMarkAndCheckFinaleState=function(e,t){this._throwWhenInFinaleState(),this._setMark(e,t)},e.prototype._setMark=function(e,t){this._shouldInitMark=!1,this._marksMap.set(e,t)},e.prototype._removeMark=function(e){this._marksMap.delete(e)},Object.defineProperty(e.prototype,"pending",{get:function(){return null!==this._scheduledState&&(this._scheduledState.visualState!==this._currentState.visualState||this._scheduledState.updateRanges||this._scheduledState.forceUpdate)},enumerable:!0,configurable:!0}),e.prototype.is=function(e){return this._currentState.visualState===e},e.prototype.not=function(e){return this._currentState.visualState!==e},e.prototype.canBeChanged=function(e){return e&&this._currentState.visualState===a.applied?e===a.disposed:this.not(a.applied)&&this.not(a.disposed)},e.prototype.isOrWillBe=function(e){return null===this._scheduledState?this._currentState.visualState===e:this._scheduledState.visualState===e},e.prototype.willBe=function(e){return this._scheduledState&&this._scheduledState.visualState===e},e.prototype.change=function(){Object(d.invariant)(this.pending,"Next state should be scheduled to change it from "+this._currentState+" for "+this.alert.id);var e=this._transition();return e.from.visualState!==e.to.visualState||e.to.forceUpdate?Object(c.Some)(this._raw(e)):c.None},e.prototype.rangeChange=function(){return this._rawRangeUpdate(this._getTransition())},e.prototype._handleBasicEvent=function(e){var t=this,n=this._bulkFactory(e);e.forEach(function(e,r){if("remove"===e.action)t._removeMark(e.id);else{var a=c.Option.of(t._marksMap.get(e.id)).flatMap(function(e){return e}).orElseL(function(){return c.Option.of(n[r])});t._setMark(e.id,a)}}),this._disposeIfEmpty()},e.prototype._handleApplyEvent=function(t){var n=this,r=function(){return n.alert.hideApplied()};this._handleBasicEvent(t),requestAnimationFrame(function(){n.mark.fold(function(){o.Observable.timer(150).subscribe(r)},function(t){try{o.Observable.merge(o.Observable.timer(300),t.fromEvent("animationend"),t.fromEvent("animationcancel")).first().subscribe(r)}catch(t){e._log.error("Cannot animate applied alert",t,{alertId:n.alert.id,currentState:n._currentState}),r()}})})},e.prototype._getTransition=function(){return Object(d.invariant)(this.pending,"Next state should be scheduled to change it from "+this._currentState+" for "+this.alert.id),{from:this._currentState,to:this._scheduledState}},e.prototype._transition=function(){var e=this._getTransition();return this._currentState=i.__assign({},e.to,{updateRanges:!1,forceUpdate:!1}),this._scheduledState=null,e},e.prototype._rawRangeUpdate=function(e){var t=this;return e.to.updateRanges&&this.alert.hasNewRangesForUpdate?e.from.visualState===a.initial||e.to.visualState===a.disposed&&e.from.visualState===a.applied?(this.alert.applyPendingRangesUpdate(),c.None):this.alert.applyPendingRangesUpdate().filter(function(e){var t=e.addedHighlightedRanges,n=e.removedHighlightedRanges;return t.length>0||n.length>0}).map(function(n){var r=n.addedHighlightedRanges,a=n.removedHighlightedRanges,i=m.a.getSortOrder(t.alert.alertType);return{action:"updateRanges",rawMark:a.map(function(e){return f.Mark.getRemoveAction({id:e.rangeId,range:function(){return e}},f.Mark.RemoveType.partial)}).concat(r.map(function(n){return f.Mark.getCreateAction({id:n.rangeId,range:function(){return n},classes:t._getMarkClasses({state:e.from.visualState,rangeId:n.rangeId,isAnimated:!1}),order:i})}))}}):c.None},e.prototype._raw=function(e){var t=this,n=m.a.getSortOrder(this.alert.alertType),r=this.alert.highlightRanges.map(function(e){return{id:e.rangeId,range:function(){return e},order:n}}),o=function(e){return e.from.visualState===a.initial||e.from.visualState===a.hidden||e.to.visualState===a.highlighted}(e);return e.from.visualState===a.initial?{action:"create",rawMark:r.map(function(n){var r=t._getMarkClasses({state:e.to.visualState,isAnimated:o,rangeId:n.id});return f.Mark.getCreateAction(i.__assign({},n,{classes:r}))})}:e.to.visualState===a.disposed?{action:"remove",rawMark:(e.from.visualState===a.applied?this.alert.appliedRanges.get().map(function(e,n){return{id:t.alert.id+"_"+n+"_applied",range:function(){return e}}}):r).map(function(e){return f.Mark.getRemoveAction(e)})}:e.to.visualState===a.applied?{action:"apply",rawMark:r.map(function(e){return f.Mark.getRemoveAction(e)}).concat(this.alert.appliedRanges.get().map(function(r,a){return f.Mark.getCreateAction({id:t.alert.id+"_"+a+"_applied",range:function(){return r},classes:t._getMarkClasses({state:e.to.visualState,rangeId:r.rangeId,isAnimated:o}),order:n})}))}:{action:"update",rawMark:r.map(function(n){return f.Mark.getUpdateAction(n,t._getMarkClasses({state:e.to.visualState,isAnimated:o,rangeId:n.id}))})}},e.prototype._throwWhenNotAllowedState=function(e){Object(d.invariant)(!!h.a.isAlert(this.alert)||(!e||e!==a.applied),"Applied state isn't allowed for "+this.alert.id)},e.prototype._throwWhenInFinaleState=function(e){Object(d.invariant)(e&&this.is(a.applied)?e===a.disposed:this.not(a.disposed),"'"+this._currentState.visualState+"' MarkAlert '"+this.alert.id+"' cannot be changed"+(e?" to '"+e+"' ":""))},e.prototype.toJSON=function(){return{current:this._currentState,scheduled:this._scheduledState,mark:{id:this._mark.map(function(e){return e.id}).getOrElse(void 0),range:this._mark.map(function(e){return e.range}).getOrElse(void 0)},alert:this.alert}},e.prototype.equals=function(e){return this.alert.id===e.alert.id},e.prototype.hashCode=function(){return Object(c.hashCodeOfString)(this.alert.id)},e._log=u.Monitoring.Logging.getLogger("markAlert"),e}();(v||(v={})).compareTo=function(e){return function(t,n){return Object(d.compare)(Math.min.apply(Math,t.alert.highlightRanges.map(function(t){return t.distanceFrom(e)})),Math.min.apply(Math,n.alert.highlightRanges.map(function(t){return t.distanceFrom(e)})))}};var b,y=n("b0nb");n.d(t,"b",function(){return C}),n.d(t,"a",function(){return _}),function(e){e.equals=function(e,t){return e.fst===t.fst&&e.snd.equals(t.snd)}}(b||(b={}));var _,E,w,C=function(){function e(e,t,n,r,f,g,v){void 0===f&&(f=!1),void 0===v&&(v=l.Atom.create(d.DOM.Rect.empty));var y=this;this._ded=e,this._pageVM=t,this._cardEffects=n,this._alertList=r,this._useHighHighlights=f,this._features=g,this._editorViewport=v,this._marksMap=new Map,this._log=u.Monitoring.Logging.getLogger("MarksViewModelImpl",u.Logging.LogLevel.DEBUG),this._subs=[],this._focusedLens=this._pageVM.stateHolder.state.view("currentLens"),this._lockMarkUpdate=l.Atom.create(!1),this.getMarkAlert=function(e){var t=e.id;return c.Option.of(y._marksMap.get(t)).filter(function(e){return e.not(a.disposed)})},this.getVisibleMarkAlert=function(e){var t=e.id,n=y._pageVM.filterKit.get().flatMap(function(e){return e.filter});return y._getMarkAlert({id:t}).filter(function(e){return n.forAll(function(t){return t(e.alert)})})},this._getVisibleMarkAlertByMarkId=function(e){var t=y._pageVM.filterKit.get().flatMap(function(e){return e.filter}),n=h.a.fromRangeIdToAlertId(e);return y._getMarkAlert({id:n}).filter(function(e){return t.forAll(function(t){return t(e.alert)})})},this.highlightedAlert=l.Atom.create(c.None),this._marksToMarkAlertTupleArray=function(e){return e.map(function(e){return e.map(function(e){return y._getVisibleMarkAlertByMarkId(e.id).flatMap(function(t){return(n=t.alert,r=e.range,c.Try.of(function(){var e=n.highlightRanges.findIndex(function(e){return e.start===r.start&&e.end===r.end});return Object(d.invariant)(-1!==e,"Could not find higlight index by Range for provided Alert",function(){return JSON.stringify({alertRanges:n.highlightRanges,targetRange:r})}),e})).recover(function(e){throw y._log.error(e.toString(),e),e}).toOption().map(function(e){return new s.Tuple(e,t)});var n,r})}).filter(function(e){return e.nonEmpty()}).map(function(e){return e.get()}).sort(function(e,t){var n=e.snd.alert,r=t.snd.alert;return m.a.comparator({type:n.alertType,priority:n.lensPriority},{type:r.alertType,priority:r.lensPriority})})})},this.alertClicked=p.e.Scheduler.inRaf(this._ded.activeMarks).map(this._marksToMarkAlertTupleArray).map(d.OptionUtils.map(function(e){return e.filter(function(e){return!e.snd.isOrWillBe(a.success)})})).withLatestFrom(this._focusedLens).scan(function(e,t){var n=t[0],r=t[1];return n.flatMap(function(t){var n=e.filter(function(e){return t.some(function(t){return b.equals(t,e)})}),a=function(e){var t=e.snd.alert;return r.meta.filter(t)};return n.filter(a).orElseL(function(){return c.Option.of(t.find(a))}).orElse(n)}).orElseL(function(){return n.flatMap(function(e){return c.Option.of(e[0])})}).filter(function(e){var t=y._alertList.contains(e.snd.alert.id);return t||y._log.error("Mark Alerts and Alert List not synced",{ma:e.snd.alert.toString()}),t})},c.Option.empty()).distinctUntilChanged(function(e,t){return Object(d.isOptionsEq)(e,t,b.equals)}).map(d.OptionUtils.map(function(e){return{ma:e.snd,highlightIndex:e.fst}})).shareReplay(1),this.alertHovered=p.e.Scheduler.inRaf(this._ded.hoveredMarks).map(this._marksToMarkAlertTupleArray).scan(function(e,t){return t.flatMap(function(t){return e.filter(function(e){return-1!==t.indexOf(e)}).orElseL(function(){return c.Option.of(t[0])})})},c.Option.empty()).map(d.OptionUtils.map(function(e){return e.snd})).distinctUntilChanged(),this._alertsChangeWorker=new d.Worker(this._updateMarksClasses,new d.Buffer.LazyPredicateUniq(function(e){return e.pending}),this._asyncRunner(this._lockMarkUpdate,o.Observable.timer(50))),this._priorityAlertsChangeWorker=new d.Worker(this._updateMarksClasses,new d.Buffer.LazyPredicateUniq(function(e){return e.pending}),this._asyncRunner(this._lockMarkUpdate,p.e.Scheduler.inRaf(o.Observable.of(!0)))),this._getMarkAlert=function(e){var t=e.id;return c.Option.of(y._marksMap.get(t)).filter(function(e){return e.not(a.disposed)})},this._filteredAlerts=this._pageVM.filterKit.view(function(e){var t=e.flatMap(function(e){return e.filter}),n=y._alertList.getAllAlertsAsArray().reduce(function(e,n){return t.map(function(e){return e(n)}).getOrElse(!0)&&h.a.isRegistered(n)&&(e[n.id]=n),e},{});return{filter:t,alerts:n}}),this._updateMarks=function(e){return y._ded.changeMarks(e)},this._invisibleActiveMark=l.Atom.create(c.None),this.isActiveMarkInvisible=function(e){return y._features.superScroll?l.Atom.create(!1):y._invisibleActiveMark.view(function(t){return t.contains(e)})},this._listenVisibleActiveMark=function(){return o.Observable.combineLatest(y._pageVM.stateHolder.focusedAlert.switchMap(p.e.Scheduler.rafScheduler).withLatestFrom(y._pageVM.stateHolder.focusedCard,function(e,t){return t.filter(function(e){return!e.scheduledToDispose}).map(function(e){return e.activeAlert}).filter(function(t){return e.exists(function(e){return e.id===t.id})})}).map(d.OptionUtils.flatMap(function(e){return y.getVisibleMarkAlert(e)})),y._editorViewport,y._ded.scrollPosition,function(e,t){return e.flatMap(function(e){var n=e.mark,r=e.alert;return n.flatMap(function(e){return e.viewportRect.recover(function(e){throw y._log.warn("Unexpected active alert state",e),e}).toOption().map(function(e){return e.fst}).filter(function(e){return e.top>t.bottom||e.bottom<t.top}).map(function(){return r.id})})})}).distinctUntilChanged(function(e,t){return e.equals(t)}).subscribe(p.e.toAtom(y._invisibleActiveMark))},this._subs.push(this._listenMarksState(),this._listenAppliedAlerts(),this._listenHighlightState(),this._listenVisibleActiveMark(),this._listenHighlightedAlertBuffered(),this._listenFocusedMark()),Object(d.registerDebugHelper)("updateRange",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.map(function(e){return y._alertList.get(e)});r.forEach(function(t){t.enqueueRawAlertForUpdate(i.__assign({},t._raw,{highlightBegin:t.highlightRanges[0].start+e,highlightEnd:t.highlightRanges[0].end+e,begin:t.replaceRange.start+e,end:t.replaceRange.end+e})),y._marksMap.get(t.id).scheduleUpdate()}),y._updateMarksClasses(r.map(function(e){return y._marksMap.get(e.id)}))}),Object(d.registerDebugHelper)("marksManager",this)}return e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype.focusAlertHighlight=function(e){var t=this;this.getMarkAlert(e.alert).forEach(function(n){n.canBeChanged()&&(h.a.isSuperAlert(n.alert)&&n.isOrWillBe(a.highlighted)&&n.scheduleForceUpdate(),n.scheduleApply(a.highlighted),t._priorityApply(n)),e.source===h.b.sidebar&&t._moveCursorToHighlight(n.markByIndex(e.highlightIndex).map(function(e){return e.range}),"start")})},e.prototype.unfocusAlertHighlight=function(e){var t=this;this.getMarkAlert(e.alert).filter(function(e){return!e.isOrWillBe(a.hidden)&&e.canBeChanged()}).forEach(function(e){e.isOrWillBe(a.success)?(t._handleRemovedAlerts([e.alert]),t._priorityApply(e)):t._priorityApply(e.scheduleApply(a.visible))})},e.prototype.ensureAlertHighlightInViewport=function(e,t,n){var r=this;return this.getVisibleMarkAlert(e.alert).flatMap(function(t){return t.markByIndex(e.highlightIndex)}).fold(function(){return r._log.warn("Cannot ensureAlertHighlightInViewport, because mark is None"),o.Observable.empty()},function(e){return r._ded.scrollToMark(e,{animate:n,paddingTop:t})})},e.prototype._listenHighlightedAlertBuffered=function(){return this._cardEffects.hovered.debounceTime(100).switchMap(d.OptionUtils.mapOrDefault(this._pageVM.stateHolder.getCardById,l.Atom.create(c.None))).map(d.OptionUtils.map(function(e){return e.activeAlert})).subscribe(p.e.toAtom(this.highlightedAlert))},e.prototype.getFirstMark=function(){var e=this;return this._alertList.alertEvents.filter(function(e){return"alert_added"===e.kind}).mapTo(p.e.voidValue).startWith(p.e.voidValue).debounceTime(500).first().switchMap(function(t){return Array.from(e._marksMap.values()).reduce(function(e,t){return e.map(function(e){return h.a.isCritical(e.alert)&&e.alert.highlightRanges[0].start>t.alert.highlightRanges[0].start?t:e}).orElseL(function(){return h.a.isCritical(t.alert)?Object(c.Some)(t):c.None})},c.None).fold(function(){return o.Observable.of(c.None)},function(t){var n=t.alert.id;return e._alertList.alertEvents.filter(function(e){return"alert_removed"===e.kind&&e.alerts.some(function(e){return e.id===n})||"alert_updated"===e.kind&&e.alerts.some(function(e){return e.id===n&&h.a.isNotRegistered(e)})||"alert_applied"===e.kind&&e.alert.id===n}).first().mapTo(c.None).startWith(t.mark)})})},e.prototype._asyncRunner=function(e,t){return function(n){return e.switchMap(p.e.orEmptyRight(t)).first().subscribe(n)}},e.prototype._priorityApply=function(e){this._log.trace("schedule priority alert "+e.id+" to "+e.scheduledState),this._priorityAlertsChangeWorker.put([e])},e.prototype._updateMarksClasses=function(e){var t=e.filter(function(e){return e.pending}),n=t[0],r=t.slice(1);n&&n.applyWith(r)},e.prototype._moveCursorToHighlight=function(e,t){var n=this;e.fold(function(){n._log.warn("[mark-alert-get-mark] Cannot move cursor to highlight, because mark.range is None",{to:t})},function(e){n._ded.getCursor().forAll(function(t){var n=t.index;return 0===t.length&&(n<e.start||n>e.end)})&&n._ded.setCursor(e[t],0)})},e.prototype._schedule=function(e,t){Object(d.notEmpty)(e)&&(this._log.trace("Schedule alerts "+e.map(function(e){return e.id})+" to "+t),this._alertsChangeWorker.put(e.map(function(e){return e.scheduleApply(t)})))},e.prototype._handleRemovedAlerts=function(e){var t=this;if(Object(d.notEmpty)(e)){var n=e.map(function(e){var n=e.id,r=t._marksMap.get(n);return t._marksMap.delete(n),r});this._schedule(n,a.disposed)}},e.prototype._handleUpdatedAlerts=function(e){var t=this;if(e.length){var n=this._filteredAlerts.get().filter,r=e.reduce(function(e,r){return h.a.isRegistered(r)?c.Option.of(t._marksMap.get(r.id)).fold(function(){return n.forAll(function(e){return e(r)})&&e.activeToHandle.push(r)},function(e){e.scheduleUpdate(),e.isOrWillBe(a.success)&&e.scheduleApply(a.highlighted),t._priorityApply(e)}):c.Option.of(t._marksMap.get(r.id)).forEach(function(n){r.allowUpdate&&h.a.isCapiDone(r)&&h.a.isRated(r)&&n.isOrWillBe(a.highlighted)?(n.scheduleUpdate(),n.scheduleApply(a.success),t._priorityApply(n)):e.removedToHandle.push(r)}),e},{activeToHandle:[],removedToHandle:[]}),i=r.activeToHandle,o=r.removedToHandle;this._handleVisibleAlerts(i),this._handleRemovedAlerts(o)}},e.prototype._handleVisibleAlerts=function(e){var t=this;if(Object(d.notEmpty)(e)){var n=e.map(function(e){if(t._marksMap.has(e.id))return t._marksMap.get(e.id);var n,r,i,o,s,l,u,p,f=(n={isOutcome:e.outcome.nonEmpty(),lensType:e.alertType,useHighHighlights:t._useHighHighlights,ahr:t._pageVM.stateHolder.focusedCard.view(function(n){return n.filter(function(t){return t.activeAlert.id===e.id}).flatMap(function(n){return c.Option.of(e.highlightRanges[n.activeHighlightIndex]).orElseL(function(){return t._log.error("Alert highlight ranges of length "+e.highlightRanges.length+" do not contain a range at the given AHI: "+n.activeHighlightIndex),c.Option.empty()})})})},r=n.isOutcome,i=n.lensType,o=n.useHighHighlights,s=n.ahr,l=n.theme,u=void 0===l?g:l,p=r?m.a.outcomeFullTypeMatch(i)(u):m.a.fullTypeMatch(i)(u),function(e){var t=e.state,n=e.rangeId,r=e.isAnimated,i=[p];switch(t){case a.faded:r&&i.push(u.markAnimated);break;case a.visible:i.push(u.markVisible),r&&i.push(u.markAnimated);break;case a.highlighted:s.get().forAll(function(e){return n===e.rangeId})?i.push(o?u.markSelectedHigh:u.markSelected):i.push(u.markSelectedInactive),i.push(u.markVisible),r||i.push(u.noAnimation);break;case a.hidden:i.push(u.markHidden);break;case a.success:i.push(u.markSuccess);break;case a.applied:i.push(u.markApplied);break;case a.initial:case a.disposed:break;default:Object(d.assertNever)(t)}return i}),h=new v(e,t._updateMarks,f);return t._marksMap.set(e.id,h),h}).filter(function(e){return e.is(a.initial)||e.isOrWillBe(a.hidden)||e.isOrWillBe(a.visible)||e.isOrWillBe(a.faded)});this._schedule(n,a.visible)}},e.prototype._listenMarksState=function(){var e=this,t=function(e){return i.__assign({activeAlerts:[],updatedAlerts:[],removedAlerts:[],hiddenMarkAlerts:[]},e)};return o.Observable.merge(this._filteredAlerts.map(function(n){var r=n.alerts;return t({hiddenMarkAlerts:Array.from(e._marksMap.values()).filter(function(e){return void 0===r[e.alert.id]&&e.not(a.applied)&&e.not(a.success)}),activeAlerts:d.ObjectUtils.toArray(r)})}),this._alertList.alertEvents.filter(function(e){return"alert_added"===e.kind||"alert_removed"===e.kind||"alert_updated"===e.kind}).withLatestFrom(this._filteredAlerts).map(function(n){var r=n[0],a=n[1].filter;switch(r.kind){case"alert_added":return t({activeAlerts:a.map(function(e){return r.alerts.filter(e)}).getOrElse(r.alerts)});case"alert_updated":return t({updatedAlerts:r.alerts});case"alert_removed":var i=r.alerts.filter(function(t){return e._marksMap.has(t.id)});return t({removedAlerts:i});default:return Object(d.assertNever)(r)}})).do(function(t){var n=t.activeAlerts,r=t.removedAlerts,i=t.updatedAlerts,o=t.hiddenMarkAlerts;return e._handleRemovedAlerts(r),e._handleUpdatedAlerts(i),e._handleVisibleAlerts(n),e._schedule(o,a.hidden),function(){return e._alertsChangeWorker.shutdown()}}).catch(this._log.handler("_listenMarksState exception").error).retry().subscribe()},e.prototype._listenHighlightState=function(){var e=this;return this.highlightedAlert.scan(function(e,t){return{next:t,prev:e.next}},{next:c.Option.empty()}).withLatestFrom(this._pageVM.stateHolder.focusedAlert).map(function(t){var n=t[0],r=n.prev,a=n.next,i=t[1];return{prev:r.flatMap(e._getMarkAlert).filter(function(e){return i.forAll(function(t){return t.id!==e.alert.id})}),next:a.flatMap(e._getMarkAlert)}}).withLatestFrom(this._focusedLens).subscribe(function(t){var n=t[0],r=n.prev;n.next.filter(function(e){return e.canBeChanged()}).forEach(function(t){return e._priorityApply(t.scheduleApply(a.highlighted))}),r.filter(function(e){return e.canBeChanged()&&!e.isOrWillBe(a.hidden)}).forEach(function(t){return e._priorityApply(t.scheduleApply(a.visible))})})},e.prototype._listenAppliedAlerts=function(){var e=this;return this._alertList.alertEvents.filter(function(e){return"alert_applied"===e.kind}).map(function(t){var n=t.alert;return c.Option.of(e._marksMap.get(n.id))}).switchMap(p.e.toOptionValueOnly).do(function(t){e._moveCursorToHighlight(t.mark.map(function(e){return e.range}),"end"),t.apply(a.applied)}).catch(this._log.handler("_listenAppliedAlerts exception").error).retry().subscribe()},e.prototype._listenFocusedMark=function(){var e=this;return this._pageVM.stateHolder.focusedAlert.subscribe(function(t){var n=t.map(function(e){return e.highlightRanges[0]}).getOrElseL(function(){return new y.c(0,0)});e._alertsChangeWorker.order(v.compareTo(n))})},e}();E=_||(_={}),w=function(){function e(){this.isActiveMarkInvisible=function(){return l.Atom.create(!1)},this.alertHovered=l.Atom.create(c.None),this.alertClicked=l.Atom.create(c.None)}return e.prototype.ensureAlertHighlightInViewport=function(){throw new Error("Method not implemented.")},e.prototype.getVisibleMarkAlert=function(e){throw new Error("Method not implemented.")},e.prototype.getMarkAlert=function(e){throw new Error("Method not implemented.")},e.prototype.getFirstMark=function(){throw new Error("Method not implemented.")},e.prototype.focusAlertHighlight=function(e){throw new Error("Method not implemented.")},e.prototype.unfocusAlertHighlight=function(e){throw new Error("Method not implemented.")},e.prototype.dispose=function(){throw new Error("Method not implemented.")},e}(),E.Mock=w},Et9B:function(e,t,n){"use strict";var r,a=n("mrSG"),i=n("ERkP"),o=n("oZTP"),s=n("mEc7"),c=n("ePPH"),l=n("JotR"),u=n("chHG"),d=n("6v47"),p=n("nJ6A");!function(e){e.getClass=function(e,t){return null!==(n=t)&&1===n.length&&/["'”’]/.test(n)?e.deleteApostrophe:function(e){return null!==e&&null!==e.match(/["'”][.,;]/)}(t)?e.deleteQuote:function(e){return null!==e&&e.replace(/\s/g,"").length<3&&null!==e.match(/[.,;:!?\\\/-]/)}(t)?e.deletePunctuation:function(e){return null!==e&&null!==e.match(/,,/)}(t)?e.deleteDoubleComma:function(e){return null!==e&&1===e.length&&null!==e.match(/[a-z]/i)}(t)?e.deleteLetter:function(e){return null!==e&&e.match(/[.,;:!?\\\/-]\s*[a-z]/i)}(t)?e.deletePunctuationBeforeLetter:e.deleteAll;var n}}(r||(r={}));var m=n("rWCr");n.d(t,"b",function(){return E}),n.d(t,"a",function(){return w});var f=Object(s.f)(function(e,t){var n=e.transform,r=e.title,a=e.boldifier,o=void 0===a?function(e){return e.text}:a,s=e.classes,u=void 0===s?m:s,d=e.onClick;return i.createElement(c.a,{animationMode:l.a.FromClickPoint,name:"apply-insert",onClick:function(){return t.gnarSpec.suggestedReplacementButtonClick(t.pageId,"defaultCard","assistantOn",t.pageSessionId),d()},title:r,className:u.itemInsert},n.map(function(e,t){return o(e,t,m.diff)}))}),h=function(e){var t=e.transform,n=e.title,r=e.classes,o=void 0===r?m:r,s=e.onClick;return i.createElement(c.a,a.__assign({animationMode:l.a.FromClickPoint,name:"apply-remove"},{onClick:s,title:n,className:o.itemRemove}),t.map(function(e){return _(e)}))},g=function(e){var t=e.transform,n=e.boldifier,r=void 0===n?function(e){return e.text}:n;return i.createElement("div",{className:m.itemOriginal},i.createElement("span",{className:m.itemOriginalContent},t.map(function(e,t){return r(e,t,m.diff)})))},v=Object(s.f)(function(e,t){var n=e.transform,r=e.boldifier,a=void 0===r?function(e){return e.text}:r,o=e.header,s=e.classes,l=void 0===s?m:s,u=e.onClick;return i.createElement(c.a,{name:"apply-insert",onClick:function(){return t.gnarSpec.suggestedReplacementButtonClick(t.pageId,"defaultCard","assistantOff",t.pageSessionId),u()},className:l.item},o&&i.createElement("div",{className:l.inlineHeader},o),n.map(function(e,t){return a(e,t,m.diff)}))});function b(e,t,n){return"text"===e.type?e.text:i.createElement("span",{key:t,className:n},e.text)}function y(e,t){return function(n){var r=function(e,t){if(e.length<=4)return null;var n=Object(p.textdiff)(e,t),r=n.from,a=n.to,i=n.oldFragment,o=n.newFragment;if(void 0===o)return null;var s=1===o.length&&r>0&&e[r-1]===o,c=1===i.length&&0===o.length&&t[r-1]===i,l=r,u=o;return(s||c)&&(l=r-1),s&&(u=o+o),c&&(u=i),u.length>3?null:[e.substring(0,l),u,e.substring(a)]}(e,n.text);return r?[r[0],i.createElement("span",{key:t,className:m.diff},r[1]),r[2]]:n.text}}function _(e,t){return"delete"===e.type?i.createElement("span",a.__assign({key:"strike"},Object(o.classes)(r.getClass(m,e.text),t)),e.text):e.text}var E=function(e){var t=e.replacementsLabels,n=e.onClick,r=t.tooltipText;return t instanceof u.c?i.createElement(d.Paper,{className:m.list},t.labels.map(function(e,t){return i.createElement(f,a.__assign({},{key:t,title:r,onClick:n(t)},{transform:e}))})):t instanceof u.b?i.createElement(d.Paper,{className:m.list},t.labels.map(function(e,t){return i.createElement(h,a.__assign({},{key:t,title:r,onClick:n(t)},{transform:e}))})):t instanceof u.a?function(e,t){var n=e.tooltipText,r=e.labels,o=e.original,s=e.onlyReplacements,c=(1===o.length?[o[0].text,r[0][0].text].map(y):[b,b])[0];return i.createElement(d.Paper,{className:m.list},!s&&i.createElement(g,{transform:o}),i.createElement("div",{className:m.arrowInsertsList},r.map(function(e,r){return i.createElement(f,a.__assign({},{key:r,title:n,onClick:t(r)},{transform:e,boldifier:c}))})))}(t,n):t instanceof u.d?i.createElement(d.Paper,{className:m.list},i.createElement(f,a.__assign({transform:t.labels[0]},{title:r,onClick:n(0)},{boldifier:b})),i.createElement("span",{className:m.or},"or"),i.createElement(f,a.__assign({transform:t.labels[1]},{title:r,onClick:n(1)},{boldifier:b}))):i.createElement("div",null)},w=function(e){var t=e.replacementsLabels,n=e.onClick,r=e.header,o=e.customStyle,s=1===t.labels.length?o.inlineHeaderOne:o.inlineHeader;if(t instanceof u.b){var c=function(e){return _(e,o.strike)};return i.createElement("div",{className:o.inlineWrappedList},t.labels.map(function(e,t){return i.createElement(v,a.__assign({},{key:t,onClick:n(t)},{classes:{item:o.itemRemove,inlineHeader:s},boldifier:c,transform:e,header:0===t?r:""}))}))}if(t instanceof u.c||t instanceof u.d||t instanceof u.a){var l=function(e,t){return b(e,t,o.diff)};return i.createElement("div",{className:o.inlineWrappedList},t.labels.map(function(e,t){return i.createElement(v,a.__assign({},{key:t,onClick:n(t)},{classes:{item:o.itemInsert,inlineHeader:s},transform:e,boldifier:l,header:0===t?r:""}))}))}return i.createElement("div",null)}},F8cT:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var r=n("mrSG"),a=n("ERkP"),i=n("Jguk"),o=n("SoVu"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return a.createElement(c,null,a.createElement(i.b,null))},t}(a.Component),c=function(e){var t=e.children;return a.createElement("div",{className:o.preload},t)}},FTyx:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("kwyh"),a=n("ERkP"),i=n("CB9K"),o=n("oZTP"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._state=t.props.state.scan(function(e,t){return[t,e[0]]},[]).map(function(e){var n=e[0],r=e[1],a=t.props.stateToClassMapper(r,n);return{prev:{state:r,view:t._createTransition(a.prev)},next:{state:n,view:t._createTransition(a.next)}}}),t._elements=o.Atom.create([null,null]),t._done=new i.Subject,t._subs=[],t}return r.c(t,e),t.prototype._createTransition=function(e){var t=e.start,n=e.end;return i.Observable.create(function(e){e.next(t);var r=requestAnimationFrame(function(){return requestAnimationFrame(function(){return e.next(n)})});return function(){return cancelAnimationFrame(r)}})},t.prototype.componentDidMount=function(){var e=this,t=this.props.children;this._subs.push(this._state.map(function(n){var r=n.prev,a=n.next;if(void 0===t)return[null,null];var i=t;return void 0===r.state?[i({state:a.state,view:a.view,type:"next"})]:[i({state:r.state,view:r.view,type:"prev",done:function(){return e._done.next("prev")}}),i({state:a.state,view:a.view,type:"next"})]}).subscribe(function(t){var n=t[0],r=t[1];return e._elements.set([n,r])}),this._done.subscribe(function(t){"prev"===t&&e._elements.modify(function(e){e[0];return[null,e[1]]}),"next"===t&&e._elements.modify(function(){return[null,null]})}))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.onMount;return t?a.createElement(o.F.div,{className:n,mount:r},this._elements):null},t}(a.Component)},"I+/w":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r,a=n("ERkP"),i=n("oZTP"),o=n("ePPH"),s=n("DTSS"),c=n("IctS"),l={unauthorizedError:function(e){return a.createElement(r.UnauthorizedError,{signInHref:e.data.signInHref})},offline:function(e,t){return a.createElement(r.Offline,{reconnect:t("reconnect"),reconnectTime:e.args.reconnectTime})},serverError:function(){return a.createElement(r.ServerError,null)},connectionWSError:function(e){return a.createElement(r.ConnectionWSError,{diagnosticTestPath:e.data.diagnosticTestPath})},clientConnectionError:function(){return a.createElement(r.ClientConnectionError,null)},documentNotFoundError:function(e,t){return a.createElement(r.DocumentNotFoundError,{navigateToDocuments:t("navigateToDocuments")})},selfUpdateBlocker:function(e){return a.createElement(r.SelfUpdate,{hotkeyLabel:e.data.hotkeyLabelR})},desktopHardUpdate:function(e,t){return a.createElement(r.DesktopHardUpdate,{reloadMethod:t("reloadMethod"),hardTitle:e.data.hardTitle,hard:e.data.hard,reload:e.data.reload})},desktopHardDownload:function(e,t){return a.createElement(r.DesktopHardDownload,{downloadMethod:t("downloadMethod"),hardTitle:e.data.hardTitle,hard:e.data.hard,download:e.data.download})},slowNetwork:function(){return a.createElement(r.SlowNetworkError,null)},checkingIsDown:function(){return a.createElement(r.CheckingIsDownError,null)},error:function(e){return a.createElement(r.Error,{loginHref:e.data.loginHref})},proofitPaymentDeclinedError:function(e,t){return a.createElement(r.ProofitPaymentDeclinedError,{errorMessage:e.args.errorMessage,navigateToSubscription:t("navigateToSubscription")})},proofitEmptyDocumentError:function(){return a.createElement(r.ProofitEmptyDocumentError,null)},proofitDocumentProofreadError:function(e,t){return a.createElement(r.ProofitDocumentProofreadError,{navigateToDocuments:t("navigateToDocuments")})},copyToClipboardFailed:function(e){return a.createElement(r.CopyToClipboardError,{hotkeyLabel:e.data.hotkeyLabelC})},proofitCancelled:function(e){return a.createElement(r.ProofitCancelled,{loginHref:e.data.loginHref})},proofitCompleted:function(e){return a.createElement(r.ProofitCompleted,{documentTitle:e.args.documentTitle,documentDownloadUrl:e.args.documentDownloadUrl,email:e.args.email})},documentUploaded:function(e,t){return a.createElement(r.DocumentUploaded,{navigateToDocuments:t("navigateToDocuments"),uploadNotificationTitle:e.data.uploadNotificationTitle})},alertsNothingFound:function(){return a.createElement(r.AlertsNothingFound,null)},blobDownloadUnsupported:function(e){return a.createElement(r.BlobDownloadUnsupported,{safariDownloadFilesKBUrl:e.data.safariDownloadFilesKBUrl})},desktopSoftUpdate:function(e,t){return a.createElement(r.DesktopSoftUpdate,{reloadMethod:t("reloadMethod"),softTitle:e.data.softTitle,soft:e.data.soft,reload:e.data.reload})},desktopSoftDownload:function(e,t){return a.createElement(r.DesktopSoftDownload,{downloadMethod:t("downloadMethod"),softTitle:e.data.softTitle,soft:e.data.soft,download:e.data.download})},resolveLens:function(e){return a.createElement(r.ResolveLensNotification,{resolvedLens:e.data.resolvedLens(e.args.lensName)})},thanksForFeedback:function(){return a.createElement(r.ThanksForFeedbackNotification,null)}};!function(e){e.UnauthorizedError=function(e){var t=e.signInHref;return a.createElement(s.a.TitledContent,{title:"You've Been Logged Out"},"This occurs due to inactivity or logging out on another device.",a.createElement("br",null),a.createElement(o.a,{name:"login",className:c.footerLink,href:t},"Log Back In"))},e.Offline=function(e){var t=e.reconnect,n=e.reconnectTime;return a.createElement(s.a.TitledContent,{title:"Lost Connection"},"Your Internet session was interrupted. We’ll try to reconnect you in"," ",a.createElement(i.F.span,null,n.view(function(e){return e}))," seconds.",a.createElement("br",null),a.createElement(o.a,{name:"reconnect",className:c.footerLink,onClick:t},"Reconnect Now"))},e.ServerError=function(){return a.createElement(s.a.TitledContent,{title:"Sorry, Unexpected Issue"},"A small error has occurred, causing an interruption of service.",a.createElement("br",null),a.createElement(e.ReloadThePage,{source:"UnknownConnectionError",linkText:"Reload This Page",className:c.footerLink}))},e.ConnectionWSError=function(e){var t=e.diagnosticTestPath;return a.createElement(s.a.TitledContent,{title:"Can’t Connect to Grammarly"},"Your network configuration currently blocks Grammarly services on this computer. ",a.createElement("br",null),a.createElement(o.a,{name:"troubleshoot",className:c.footerLink,href:t,target:"_blank"},"Troubleshoot This Issue"))},e.ClientConnectionError=function(){return a.createElement(s.a.TitledContent,{title:"Your Internet Connection Is Unstable"},"Please check your network stability and then reload this page.",a.createElement("br",null),a.createElement(e.ReloadThePage,{source:"ClientConnectionErrorNotification",linkText:"Reload Page Now",className:c.footerLink}),".")},e.DocumentNotFoundError=function(e){var t=e.navigateToDocuments;return a.createElement(s.a.TitledContent,{title:"Can’t find this document"},"It looks like this document was removed or URL is incorrect.",a.createElement("br",null),a.createElement(o.a,{name:"goto-docs",className:c.footerLink,onClick:t},"Go to your documents"))},e.SelfUpdate=function(t){var n=t.hotkeyLabel;return a.createElement(s.a.TitledContent,{title:"Grammarly needs to refresh this page"},"Don't worry - your documents have already been saved. Please"," ",a.createElement(e.ReloadThePage,{source:"SelfUpdateBlocker",linkText:"reload",className:c.link})," the page"," ",n,".")},e.DesktopHardUpdate=function(e){var t=e.reloadMethod,n=e.hardTitle,r=e.hard,i=e.reload;return a.createElement(s.a.TitledContent,{title:n},r,a.createElement("br",null),a.createElement(o.a,{name:"reload-desktop",className:c.footerLink,onClick:t},i))},e.DesktopHardDownload=function(e){var t=e.downloadMethod,n=e.hardTitle,r=e.hard,i=e.download;return a.createElement(s.a.TitledContent,{title:n},r,a.createElement("br",null),a.createElement(o.a,{name:"download-desktop",className:c.footerLink,onClick:t},i))},e.SlowNetworkError=function(){return a.createElement(s.a.TitledContent,{title:"Your Internet Connection Is Unstable"},"Grammarly may work slower than normal.")},e.CheckingIsDownError=function(){return a.createElement(s.a.TitledContent,{title:"Text Checking Is Temporarily Unavailable"},"Grammarly is unable to check your text for errors at this time. We’re working to resolve the issue. Please check back soon.")},e.Error=function(e){var t=e.loginHref;return a.createElement(s.a.TitledContent,{title:"Sorry, Something Went Wrong"},"Please try again later or"," ",a.createElement(o.a,{name:"support",className:c.footerLink,href:t,target:"_blank"},"contact support")," ","now to report the issue.")},e.ProofitPaymentDeclinedError=function(e){var t=e.errorMessage,n=e.navigateToSubscription;return a.createElement(s.a.TitledContent,{title:"Order can not be processed"},a.createElement("div",null,t),"Please update your credit card information in the Manage Subscription section.",a.createElement("br",null),a.createElement(o.a,{name:"manage-subscription",className:c.footerLink,onClick:n},"Go to Manage Subscription"))},e.ProofitEmptyDocumentError=function(){return a.createElement(s.a.TitledContent,{title:"Document is empty"},"The document you are trying to submit is empty. Please write something and try again.")},e.ProofitDocumentProofreadError=function(e){var t=e.navigateToDocuments;return a.createElement(s.a.TitledContent,{title:"This document is already corrected"},"The text you are trying to submit is already corrected by our proofreaders. Please edit your text or choose another document.",a.createElement("br",null),a.createElement(o.a,{name:"goto-docs",className:c.footerLink,onClick:t},"Go to your documents"))},e.ReloadThePage=function(e){var t=e.source,n=e.linkText,r=e.className;return a.createElement(o.a,{name:"reload-page",className:r,onClick:function(){try{localStorage.setItem("pageReloadReason",JSON.stringify({source:t,location:window.location.href,timestamp:Date.now()}))}catch(e){}window.location.reload()}},n)},e.CopyToClipboardError=function(e){var t=e.hotkeyLabel;return a.createElement(s.a.TitledContent,{title:"Copying Is Not Supported by Your Browser"},"Please use ",t," instead.")},e.ProofitCancelled=function(e){var t=e.loginHref;return a.createElement(s.a.TitledContent,{title:"Your order has been cancelled"},"Your proofreading order has been cancelled and the payment refunded. Please check your email for more information, or contact"," ",a.createElement(o.a,{name:"support",className:c.footerLink,href:t,target:"_blank"},"Grammarly support"),".")},e.ProofitCompleted=function(e){var t=e.documentTitle,n=e.documentDownloadUrl,r=e.email;return a.createElement(s.a.TitledContent,{title:(t||"Your")+" document has been proofread"},"A version of this document with proofreaders’ marks has been emailed to you at ",r," in .docx format.",a.createElement("br",null),a.createElement(o.a,{name:"download",className:c.footerLink,href:n,target:"_blank"},"Download .docx"))},e.DocumentUploaded=function(e){var t=e.navigateToDocuments,n=e.uploadNotificationTitle;return a.createElement(s.a.TitledContent,{title:n},"Don’t worry! The previous document has been saved to"," ",a.createElement(o.a,{name:"goto-docs",className:c.link,onClick:t},"My documents"))},e.AlertsNothingFound=function(){return a.createElement(s.a.Content,null,"Grammarly found no critical writing issues in this text. Keep up the great work!")},e.BlobDownloadUnsupported=function(e){var t=e.safariDownloadFilesKBUrl;return a.createElement(s.a.Content,null,"The file cannot be downloaded because this browser does not support safe downloads.",a.createElement("br",null),"Please update your browser and try again."," ",a.createElement(o.a,{name:"support",className:c.footerLink,href:t,target:"_blank"},"Learn more"))},e.DesktopSoftUpdate=function(e){var t=e.reloadMethod,n=e.softTitle,r=e.soft,i=e.reload;return a.createElement(s.a.TitledContent,{title:n},r,a.createElement("br",null),a.createElement(o.a,{name:"reload-desktop",className:c.footerLink,onClick:t},i))},e.DesktopSoftDownload=function(e){var t=e.downloadMethod,n=e.softTitle,r=e.soft,i=e.download;return a.createElement(s.a.TitledContent,{title:n},r,a.createElement("br",null),a.createElement(o.a,{name:"download-desktop",className:c.footerLink,onClick:t},i))},e.ResolveLensNotification=function(e){var t=e.resolvedLens;return a.createElement(s.a.Content,null,t)},e.ThanksForFeedbackNotification=function(){return a.createElement(s.a.TitledContent,{title:"Your feedback has been sent"},"Thank you for helping make Grammarly better!")},e.Generic=function(e){var t=e.message;return a.createElement(s.a.TitledContent,{title:t})}}(r||(r={}))},IGo4:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return r});var r,a=n("ASSm"),i=n("CB9K"),o=n("oZTP"),s=n("lycr"),c=n("hQK4"),l=n("n3Ao"),u=function(){function e(e,t,n){var i=this;this._stateHolder=e,this._denaliEditorModel=t,this._documentModel=n,this._getTextAmount=function(){var e=i._denaliEditorModel.getText().trim().length;return 0===e?r.TextAmount.zero:e<=s.CAPI.BIG_TEXT_SIZE?r.TextAmount.small:r.TextAmount.large},this._subs=[],this.successState=o.Atom.create(r.SuccessType.zero),this.textAmount=o.Atom.create(this._getTextAmount()),this._currentLens=this._stateHolder.state.view(function(e){return{isSuccess:c.d.isInSuccess(e),type:e.currentLens.type}}),this._listenTextSize=function(){return i._currentLens.view(function(e){return e.isSuccess}).switchMap(l.e.orEmpty(i._denaliEditorModel.contentUpdated.startWith(void 0))).map(i._getTextAmount).subscribe(l.e.toAtom(i.textAmount))},this._prevLensType=this._currentLens.startWith(this._currentLens.get()).pairwise().map(function(e){var t=e[0];return e[1].isSuccess?a.Option.pure(t.type):a.None}),this._textAmountToSuccessType=function(e){return e===r.TextAmount.zero?r.SuccessType.zero:e===r.TextAmount.large?r.SuccessType.large:r.SuccessType.small},this._subs.push(this._listenTextSize(),this._listenSuccessStateChange())}return e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype._listenSuccessStateChange=function(){var e=this;return this._prevLensType.switchMap(function(t){return t.fold(function(){return i.Observable.empty()},function(t){return e.textAmount.map(e._textAmountToSuccessType).startWith(t===c.f.lensview?r.SuccessType.applied:e._textAmountToSuccessType(e.textAmount.get())).pairwise().map(function(e){var t=e[0],n=e[1];return t===r.SuccessType.applied&&n!==r.SuccessType.zero?t:n}).switchMap(function(t,n){return 0===n?i.Observable.of(t):(a=t)===r.SuccessType.applied||a===r.SuccessType.zero?i.Observable.of(a):e._documentModel.checkingState.filter(function(e){return"checking"!==e}).first().mapTo(a);var a})})}).subscribe(l.e.toAtom(this.successState))},e}();!function(e){var t,n;!function(e){e.zero="zero",e.small="small",e.large="large"}(t=e.TextAmount||(e.TextAmount={})),function(e){e.zero="zero",e.small="small",e.large="large",e.applied="applied"}(n=e.SuccessType||(e.SuccessType={}));var r=function(){function e(){this.textAmount=o.Atom.create(t.zero),this.successState=o.Atom.create(n.zero)}return e.prototype.dispose=function(){throw new Error("Method not implemented.")},e}();e.Mock=r}(r||(r={}))},JKbT:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,a=n("kwyh"),i=n("ERkP"),o=n("pMsZ"),s=n("oZTP");!function(e){e.Item=function(e){var t=e.className,n=e.children,r=e.onChange,c=e.checked,l=e.tabIndex,u=e.id;return i.createElement(s.F.label,a.a({},Object(s.classes)(o.radio,t)),c.view(function(e){return i.createElement(i.Fragment,{key:u},i.createElement("input",{onChange:r,tabIndex:l||-1,type:"radio",checked:e,className:o.radioInputHidden}),i.createElement("span",{className:o.radioInput}))}),n)},e.Group=function(t){var n=t.items,r=t.selectedItemIndex,a=t.itemWrapperClassname,o=t.onChange;return i.createElement(s.F.Fragment,null,n.map(function(t,n){return i.createElement(e.Item,{id:n,key:n,onChange:function(){r.set(n),o&&o(n)},checked:r.view(function(e){return n===e}),className:a},t)}))}}(r||(r={}))},JbXn:function(e,t,n){"use strict";var r,a=n("mrSG"),i=n("ERkP"),o=n("ASSm"),s=n("oZTP"),c=n("xEd5"),l=n("FTyx"),u=n("Jguk"),d=n("6v47"),p=n("ePPH"),m=n("UbFC"),f=n("t2Ba"),h=n("mEc7"),g=n("cIor"),v=function(e){var t=e.children,n=e.icon,r=e.onClose,a=e.className,o=e.onTransitionEnd;return i.createElement(s.F.div,{className:a,onTransitionEnd:o},i.createElement(p.a,{name:"survey-close",className:g.closeIcon,onClick:r},i.createElement(u.d.Close,null)),i.createElement("section",{className:g.imageSection},n),t)},b=n("QYHm");!function(e){e.VeryUnsatisfied="veryUnsatisfied",e.Unsatisfied="unsatisfied",e.Neutral="neutral",e.Satisfied="satisfied",e.VerySatisfied="verySatisfied"}(r||(r={}));var y,_=Object(h.f)(function(e,t){var n=e.transition,a=e.onSelect,o=e.onClose,s=e.onTransitionEnd,c=t.textResources.denali.survey;return i.createElement(v,{onTransitionEnd:s,className:n,onClose:o,icon:i.createElement(u.d.Grammarly,null)},i.createElement("section",{className:b.step1},i.createElement(d.Base,null,c.tellUs),i.createElement("div",{className:b.emoteContainer},Object.entries(r).map(function(e){var t=e[0],n=e[1],r=u.d.Emote[t];return i.createElement(p.a,{key:n,title:c.satisfaction[n],name:"emote-"+n,onClick:function(){return a(n)}},i.createElement(r,null))})),i.createElement("div",{className:b.emoteContainer},i.createElement(d.Small,null,c.satisfaction.veryUnsatisfied),i.createElement(d.Small,null,c.satisfaction.verySatisfied))))}),E=Object(h.f)(function(e,t){var n=e.transition,r=e.onFinish,a=t.textResources.denali,o=s.Atom.create({liked:"",disliked:""}),c=function(){return r("dismiss",o.get())};return i.createElement(v,{className:n,onClose:c,icon:i.createElement(u.d.Grammarly,null)},i.createElement("section",{className:b.step2},i.createElement(d.H4,{className:b.title},a.survey.thankYou),i.createElement(d.Base,null,a.survey.more),i.createElement(d.Base,{className:b.withOffset},i.createElement("b",null,a.survey.whatsBad)),i.createElement(m.b,{name:"survey-feedback-disliked",autofocus:!0,value:o.lens("disliked")}),i.createElement(d.Base,{className:b.withOffset},i.createElement("b",null,a.survey.whatsGood)),i.createElement(m.b,{name:"survey-feedback-liked",value:o.lens("liked")}),i.createElement("div",{className:b.withOffset},i.createElement(p.a.Primary,{name:"take-survey",className:b.surveyBtn,onClick:function(){return r("submit",o.get())}},a.survey.shareFeedback),i.createElement(p.a.Caps,{name:"survey-dismiss",className:b.dismissBtn,onClick:c},a.dismiss))))}),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t}(l.a),C=Object(h.f)(function(e,t){var n=e.surveyViewModel,r=t.gnarSpec,a=t.pageId,l=t.notifications,u=s.Atom.create(o.None),d=function(e,t){var i=t.liked,o=t.disliked;"submit"===e&&l.show(l.create.thanksForFeedback()),n.actions.next("close"),u.get().fold(function(){c.Monitoring.Logging.getLogger("SurveyDefaultNotificationView").error("Failed to send survey — the satisfaction score is empty")},function(t){return r.surveyButtonClick(o,e,i,a,t,n.type)})};return i.useEffect(function(){r.surveyPopupShow(a,n.type)},[]),i.createElement(w,{state:u,stateToClassMapper:function(e,t){var n=t.nonEmpty()?[b.rotateHide,b.rotateShow]:[b.notification,b.notification],r=n[0],a=n[1];return{prev:{start:b.notification,end:r},next:{start:a,end:b.notification}}}},function(e){return e.state.isEmpty()?i.createElement(_,{onTransitionEnd:"prev"===e.type?e.done:f.noop,key:"step-1",transition:e.view,onSelect:function(e){return u.set(Object(o.Some)(e))},onClose:function(){n.actions.next("remindLater"),r.remindLaterButtonClick(a,n.type)}}):i.createElement(E,{key:"step-2",transition:e.view,onFinish:d})})}),k=n("Fgeo"),S=n("YUkS"),M=((y={})[k.j.FreeClarityAlertsControl]="https://www.surveymonkey.com/r/3ZCHBMP",y[k.j.FreeClarityAlertsEnabled]="https://www.surveymonkey.com/r/3ZHVKTS",y[k.j.SuperScrollWithAutoJump]="https://www.surveymonkey.com/r/H6TH28M",y[k.j.SuperScrollWithoutAutoJump]="https://www.surveymonkey.com/r/H62KVPC",y),A=Object(h.f)(function(e,t){var n=e.surveyViewModel,r=t.gnarSpec,a=t.pageId,o=t.textResources.denali.survey.newUser,s=function(){return n.actions.next("close")};return i.useEffect(function(){r.surveyPopupShow(a,n.type)},[]),i.createElement(v,{className:S.notification,onClose:function(){s(),r.closeSurveyButtonClick(a,n.type)},icon:i.createElement("div",{className:S.designerAvatar})},i.createElement("section",{className:S.contentSection},i.createElement(d.H4,{className:S.title},o.title),i.createElement(d.Base,{className:S.content},o.content),i.createElement(p.a.Group,{className:S.btnGroup},i.createElement(p.a.Primary,{name:"take-survey",className:S.surveyBtn,onClick:function(){s(),r.takeSurveyButtonClick(a,n.type)},href:M[n.type],target:"_blank"},o.takeSurvey),i.createElement(p.a.Caps,{name:"remind-later",onClick:function(){n.actions.next("remindLater"),r.remindLaterButtonClick(a,n.type)}},o.remindLater))))});n.d(t,"b",function(){return C}),n.d(t,"a",function(){return A})},JotR:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return u});var r,a=n("kwyh"),i=n("ERkP"),o=n("oZTP"),s=n("t2Ba"),c=n("gAIq"),l=n("qHpo");!function(e){e.None="none",e.FromClickPoint="fromClickPoint",e.FromCenter="fromCenter"}(r||(r={}));var u=function(e){function t(t,n){var r=e.call(this,t)||this;return r._ripples=o.Atom.create(Array()),r._disabled=o.Atom.create(!1).view(),r._disabled=void 0===n.disabled?r._disabled:n.disabled,r}return a.c(t,e),t.prototype.componentDidMount=function(){var e=this;this._el&&(this._subscription=this.props.mouseDownEvents.do(function(t){if(!e._disabled.get()&&e._el){var n=e._getAnimationStyle(e._el,t);e._ripples.modify(function(e){return e.concat([n])})}}).debounceTime(1e3).do(function(){return e._ripples.modify(function(){return[]})}).subscribe())},t.prototype.componentWillUnmount=function(){this._subscription&&this._subscription.unsubscribe()},t.prototype._getAnimationStyle=function(e,t){var n=e.getBoundingClientRect(),a=n.width;switch(this.props.animationMode){case r.None:throw new s.InvariantError("unsupported mode, do not mount component if you do not need ripple animation");case r.FromCenter:return{className:l.rippleFromCenter,top:(n.height-a)/2,left:0,width:a,height:a};default:return{className:l.ripple,top:t.pageY-n.top-a/2,left:t.pageX-n.left-a/2,width:a,height:a}}},t.prototype.render=function(){var e=this;return i.createElement("span",{key:"rippleAnimation",className:l.rippleContainer,ref:function(t){return e._el=t}},i.createElement(o.F.span,null,this._ripples.map(function(e){return e.map(function(e,t){return i.createElement("span",{className:e.className,key:t,style:e})})})))},t.contextTypes=a.a({},c.a.DisabledContextTypes),t}(i.Component)},KL5p:function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return f});var r=n("kwyh"),a=n("ERkP"),i=n("CB9K"),o=n("at1y"),s=n("6oqc"),c=n("oZTP"),l=n("t2Ba"),u=n("xEd5"),d=n("n3Ao"),p=n("rNz/");n("//Ra");var m,f,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._classes={hidden:"ps-hidden",visible:"ps-hovered",fastTransition:"ps-fast-transition"},t._mount=function(e){t._el=e,t.props.onMount&&e&&t.props.onMount(e)},t._update=function(){requestAnimationFrame(function(){t._el&&s.update(t._el)})},t}return r.c(t,e),t.prototype.componentDidMount=function(){var e,t=this.props,n=t.name,r=t.update,a=t.allowHover,i=t.className,o=this._el;s.initialize(o,{suppressScrollX:!0,minScrollbarLength:40,handlers:["click-rail","drag-scrollbar","keyboard","passiveWheel","touch"]}),this._update(),(e=this._subs).push.apply(e,m.customize(o,{name:n,allowHover:a||!1,classes:this._classes})),this._subs.push(l.DOM.windowResize.debounceTime(200).subscribe(this._update)),r&&this._subs.push(r.subscribe(this._update)),i&&this._subs.push(d.e.toObservable(i).map(function(e){return e?e.split(" "):[]}).scan(function(e,t){var n,r;return e&&(n=o.classList).remove.apply(n,e),t&&(r=o.classList).add.apply(r,t),t},[]).subscribe())},t.prototype.componentWillUnmount=function(){s.destroy(this._el),this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){var e=this.props,t=e.children,n=e.allowHover,i=e.onScroll,o=e.name;return a.createElement(c.F.div,r.a({},Object(c.classes)(!n&&this._classes.hidden),{onScroll:i?function(){return i.next()}:void 0,mount:this._mount,role:"scrollbar-"+o}),t)},t}(a.Component);!function(e){var t=["mousewheel","DOMMouseScroll","wheel","touchmove"];e.customize=function(e,n){var r=n.name,a=n.allowHover,o=n.classes,s=u.Monitoring.Logging.getLogger("scrollBarY."+r,u.Logging.LogLevel.DEBUG),c=e.querySelector(".ps__scrollbar-y"),d=e.querySelector(".ps__scrollbar-y-rail"),m=i.Observable.merge(i.Observable.fromEvent(e,"mouseenter",{passive:!0}).mapTo(!0),i.Observable.fromEvent(e,"mouseleave",{passive:!0}).mapTo(!1)).distinctUntilChanged().startWith(!1),f=i.Observable.merge(i.Observable.fromEvent(d,"mouseenter",{passive:!0}).mapTo(!0),i.Observable.fromEvent(d,"mouseleave",{passive:!0}).mapTo(!1)).distinctUntilChanged().startWith(!1),h=i.Observable.merge(i.Observable.fromEvent(c,"mousedown",{passive:!0}).mapTo(!0),i.Observable.fromEvent(document,"mouseup",{passive:!0}).mapTo(!1)).startWith(!1),g=new i.BehaviorSubject(!1),v=i.Observable.merge(i.Observable.fromEvent(document,"paste",{passive:!0}),i.Observable.fromEvent(document,"mousedown",{passive:!0}).filter(function(e){var t=e.target;return t!==c&&t!==d}).do(function(e){return s.trace("force hide event",e)})).switchMap(function(){return i.Observable.from([!0,!1])}).startWith(!1);return[i.Observable.merge.apply(i.Observable,t.map(function(t){return i.Observable.fromEvent(e,t,{passive:!0})})).mapTo(!0).subscribe(g),i.Observable.combineLatest(m,h,f,v).switchMap(function(e){var t=e[0],n=e[1],r=e[2];return e[3]?i.Observable.of("forceHide"):n||r?r&&!n?i.Observable.of("show").delay(600):i.Observable.of("show"):t?i.Observable.merge(g.skip(1).throttleTime(100).mapTo("show"),g.mapTo("hide").throttleTime(100).switchMap(function(){return i.Observable.of("hide").delay(600)})):i.Observable.of("hide").delay(600)}).distinctUntilChanged().do(function(t){switch(p.a.emit(t),s.trace("new scroll action",{action:t}),t){case"show":e.classList.remove(o.hidden,o.fastTransition),e.classList.add(o.visible);break;case"hide":e.classList.remove(o.visible);break;case"forceHide":e.classList.remove(o.visible),e.classList.add(o.fastTransition);break;default:Object(l.assertNever)(t)}return t}).switchMap(function(e){return"show"===e?i.Observable.never():i.Observable.of(!0).delay(300)}).subscribe(function(){a||e.classList.add(o.hidden)})]}}(m||(m={})),function(e){function t(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),new o.Tuple(t,n)}e.verticalScrollByWhellEvent=function(e){return i.Observable.fromEvent(e,"wheel",{passive:!0},t).map(function(e){return e.snd}).do(function(t){return e.scrollTop-=t})}}(f||(f={}))},KR7Q:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("lycr"),s=n("t2Ba"),c=n("Jguk"),l=n("ePPH"),u=n("JKbT"),d=n("6v47"),p=n("n3Ao"),m=n("mEc7"),f=n("BTov"),h=n("fOM/"),g=n("aC+x"),v=n("WsCC"),b=n("UI30"),y=n("p9uY"),_=n("fQ10"),E=n("8RpA"),w=n("GCdO"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._checkingInProgress=t.props.card.view("meta","state").view(function(e){return e===h.a.CheckingState.CHECKING}),t._changeAhi=function(e){t.props.cardsViewModel.actionEvents.next({type:g.a.Type.changeAlert,alertHighlight:{alert:t.props.card.get().activeAlert,highlightIndex:e}})},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.onFocus()},t.prototype.render=function(){var e=this,t=this.props,n=t.card,s=t.cardsViewModel,u=t.lensId,m=n.view("activeHighlightIndex"),g=i.Atom.create(0),b=n.view("activeAlert");return a.createElement(i.F.Fragment,null,n.view(function(t){return a.createElement("div",{className:w.wrapper},u===y.a.SpecialId.AllAlerts&&a.createElement(_.a,{className:w.lens,activeAlert:t.activeAlert}),a.createElement("div",{className:w.title},a.createElement(d.H4,null,t.activeAlert.title)),a.createElement("div",{className:w.content},a.createElement(d.Base,r.__assign({},f.a.renderToHtml(t.meta.explanation)))),a.createElement(k,{key:"transformation",options:t.activeAlert.labels,selected:g,examples:t.activeAlert.replacementTexts}),(t.activeAlert.details.nonEmpty()||t.activeAlert.examples.nonEmpty())&&a.createElement(v.b,{key:"block-more",card:t,className:w.more},t.activeAlert.details.map(function(e){return a.createElement("div",{className:w.contentMore},a.createElement(d.Base,r.__assign({},f.a.renderToHtml(e))))}).orNull(),t.activeAlert.examples.map(function(e){return a.createElement(E.a,{key:"examples",examples:e})}).orNull()),a.createElement("div",{className:w.footer},a.createElement(A,{key:"update-btn",title:e.context.textResources.denali.card.todoAction(b.get().todoAction),checkingInProgress:e._checkingInProgress,onClick:p.d.callOnce(function(){return b.get().applyTransformJson(g.get(),h.b.sidebar)})}),t.activeAlert.highlightRanges.length>0&&a.createElement(M,{highlightsCount:t.activeAlert.highlightRanges.length,activeHighlightIndex:m,onChangeAhi:e._changeAhi}),(t.activeAlert.details.nonEmpty()||t.activeAlert.examples.nonEmpty())&&a.createElement(v.a,r.__assign({key:t.cardId},{cardsViewModel:s,className:w.expandBtn,card:t}))),a.createElement(i.F.div,{className:w.buttons},a.createElement(l.a.Ghost,{name:"ignore",title:e.context.textResources.denali.dismiss,onClick:p.d.callOnce(function(){return t.activeAlert.sendFeedback(o.CAPI.AlertFeedbackType.IGNORE,h.b.sidebar)})},a.createElement(c.d.Ignore,null))))}))},t}(m.a),k=Object(m.f)(function(e,t){var n=e.options,r=e.selected,i=e.examples;return a.createElement(a.Fragment,null,a.createElement("div",{className:w.correctionOptionsContainer},a.createElement(u.a.Group,{itemWrapperClassname:w.correctionOptionsRadio,items:n.map(function(e){return a.createElement("span",{key:e,className:w.correctionOption},e)}),selectedItemIndex:r,onChange:function(e){t.gnarSpec.alternativeReplacementRadioButtonClick(t.pageId,e)}})),a.createElement(S,{selected:r,examples:i}))}),S=function(e){var t=e.selected,n=e.examples;return a.createElement(i.F.div,{className:w.occurencesContainer},t.view(function(e){return a.createElement(d.Small,r.__assign({key:"transformation-result"},f.a.renderToHtml(n[e].join("; "))))}))},M=Object(m.f)(function(e,t){var n=e.highlightsCount,r=e.activeHighlightIndex,i=e.onChangeAhi,o=t.gnarSpec,s=t.pageId,u=t.pageSessionId,p=t.textResources.denali.card.matchesNavigation;return a.createElement("span",null,a.createElement(l.a.Ghost,{name:"left",title:p.prev,className:w.matchesButton,onClick:function(){var e=(r.get()+n-1)%n;i(e),o.cardMatchesNavigationButtonClick("left",s,u)}},a.createElement(c.d.Arrow,{className:w.leftButtonIcon})),a.createElement(l.a.Ghost,{name:"right",title:p.next,className:w.matchesButton,onClick:function(){var e=(r.get()+1)%n;i(e),o.cardMatchesNavigationButtonClick("right",s,u)}},a.createElement(c.d.Arrow,{className:w.rightButtonIcon})),a.createElement(d.Lawyer,{className:w.matchesCount},r.view(function(e){return p.currentMatchPosition(e+1,n)})))}),A=Object(m.f)(function(e,t){var n=e.title,r=e.checkingInProgress,i=e.onClick,o=t.gnarSpec,c=t.pageId,u=t.pageSessionId,d=t.textResources.denali.card;return a.createElement(l.a.Primary,{key:"update-all",name:"update-all",title:n,className:r.view(Object(s.choose)(w.updateAllBtnLoading,w.updateAllBtn)),disabled:r,children:r.view(Object(s.choose)(a.createElement(a.Fragment,{key:"update-all-checking"},d.checking,a.createElement(b.a,{size:16,strokeWidth:4,wrapperClassName:w.updateBtnSpinner,variation:"gray"})),a.createElement(a.Fragment,{key:"update-all-checked"},d.updateAll))),onClick:function(){o.suggestedReplacementButtonClick(c,"superCard","assistantOn",u),i()}})})},L096:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("mEc7"),a={summary:r.e.page({path:"/subscription",exact:!0}),manage:r.e.page({path:"/subscription/manage"}),billing:r.e.page({path:"/subscription/billing"}),notFound:r.e.page({path:"*"})}},LSvY:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("xEd5"),s=n("lycr"),c=n("t2Ba"),l=n("6v47"),u=n("ePPH"),d=n("RCFH"),p=n("rtH6"),m=n("mEc7"),f=n("UI30"),h=n("tuFE"),g=function(e){var t=e.proofit,n=e.close;return p.a.useSubscriptionTo(t.requestPlans),a.createElement(d.a,{className:h.proofitModal,close:n},a.createElement(d.a.Header,{className:h.proofitModalHeader},a.createElement(l.H1,null,"Human Proofreading")),a.createElement(d.a.Body,{className:h.proofitModalBody,name:"proofitmodal"},a.createElement(l.Base,{className:h.proofitInfo},"Save time and ensure accuracy with professional proofreaders. They are ready to check your text right now."),a.createElement(i.F.div,{className:h.proofitWrapper},t.viewStateAndSubscription.map(function(e){var t=e[0],n=e[1];return t.fold(function(){return a.createElement(f.a,{variation:"blue",className:h.loader})},function(e){return a.createElement("div",{className:h.proofitDetailsWrapper},a.createElement(l.P1,null,"How fast do you need your document returned?"),a.createElement(i.F.div,{className:h.plansContainer},e.plans.map(function(t){return a.createElement(v,{key:t.details.turnaround,plan:t,words:e.words,subscription:n.value,proofitState:e.proofitState})})))})}))))},v=Object(m.g)(function(e,t){var n=e.plan,o=e.words,d=e.subscription,p=e.proofitState,m=n.details,g=m.label;return a.createElement(i.F.div,r.__assign({},Object(i.classes)(n.active.view(function(e){return n.details.enabled?e?h.planWrapperActive:h.planWrapper:h.planWrapperDisabled}),m.turnaround===s.Proofit.PlanType.ThreeHours&&h.mostPopular),{"data-name":g.replace(" ","")}),a.createElement("div",{className:h.iconContainer},function(e){switch(e){case s.Proofit.PlanType.TwentyFourHours:return a.createElement(y,null);case s.Proofit.PlanType.ThreeHours:return a.createElement(_,null);case s.Proofit.PlanType.Instant:return a.createElement(E,null);default:return void Object(c.assertNever)(e)}}(m.turnaround)),a.createElement(i.F.div,{className:h.plans},a.createElement(i.F.div,{className:h.planContainer},n.details.enabled?a.createElement("div",null,a.createElement(l.Paper,{className:h.planTitle},g),a.createElement(l.Paper,{className:h.price},"$ ",c.StringUtils.formatPrice(m.price))):m.turnaround===s.Proofit.PlanType.Instant?a.createElement(l.Paper,{className:h.planTitle},"30 minutes"):a.createElement(l.Paper,{className:h.planTitle},g),n.active.view(function(e){return e?a.createElement(u.a.Primary,{key:"place-order",name:"place-order",className:h.orderButton,onClick:function(){return t.gnarSpec.professionalProofreadingPlaceOrderButtonClick(t.docId,t.pageId,s.Proofit.PlanType.getPlanName(n.details.turnaround)),n.placeOrder()},active:!0},"place order",p.fold(function(){return a.createElement(f.a,{className:h.planLoading,variation:"white",size:18})},function(){return null})):a.createElement(u.a.Ghost,{key:"select-order",name:"select-order",className:h.button,onClick:function(){return t.gnarSpec.professionalProofreadingSelectButtonClick(t.docId,t.pageId,s.Proofit.PlanType.getPlanName(n.details.turnaround)),n.select()},disabled:!n.details.enabled},n.details.enabled?"select":"disabled")})),n.details.enabled?a.createElement(l.Small,{"data-name":"price-per-word"},"$ ",m.perWord," per word x ",o," words"):a.createElement(l.Small,{className:h.descriptionDisabled},"Proofreaders are busy",a.createElement("br",null),"or the document is too long"),n.active.view(function(e){return e&&a.createElement(b,{key:"warning",price:n.details.price,subscription:d})})))}),b=function(e){var t=e.price,n=e.subscription;switch(n.paymentMethod){case"payPal":return a.createElement(l.Small,{className:h.paymentWarning},"By clicking ",a.createElement("b",null,"Place order")," you authorize a charge of"," ",a.createElement("b",{"data-name":"payment-warning-price"},"$",c.StringUtils.formatPrice(t))," to your PayPal account.");case"creditCard":if(!n.creditCard)throw new Error("Missing credit card");return a.createElement(l.Small,{className:h.paymentWarning},"By placing an order you agree that your card will be charged for"," ",a.createElement("b",{"data-name":"payment-warning-price"},"$",c.StringUtils.formatPrice(t)),".");default:return o.Monitoring.Logging.getLogger("ProofitView").warn("Unknown payment method: "+n.paymentMethod),null}},y=function(){return a.createElement("svg",{width:64,viewBox:"0 0 64 64"},a.createElement("g",{fill:"none"},a.createElement("circle",{cx:"32",cy:"32",r:"32",fill:"#A1E7D7"}),a.createElement("path",{fill:"#FFF",d:"M49.45 44.602l-18.694-7.337L54.636 3.94"}),a.createElement("path",{fill:"#B5EADE",d:"M28.3 44.808l1.98-6.515 1.91.755"}),a.createElement("path",{fill:"#D1F6ED",d:"M22.774 34.385L51.43 6.545l-21.97 30.65v.07c0 .068-.068.068-.068.137l-2.866 9.394-3.752-12.41z"}),a.createElement("path",{fill:"#FFF",d:"M51.43 4.9L21.954 33.56l-10.78-3.977"}),a.createElement("path",{fill:"#8189A9",fillRule:"nonzero",d:"M56 1.813v-.205c0-.07 0-.07-.068-.138-.068 0-.137-.068-.137-.068-.068-.07-.068-.07-.136-.07h-.208c-.136 0-.136 0-.204.07L9.605 29.242c-.204.137-.273.343-.273.548 0 .206.137.412.34.48l11.94 4.39 4.368 14.262c.07.206.274.41.547.41s.478-.136.546-.41l.137-.412 6.002-8.982 16.443 6.445c.068 0 .136.07.205.07.068 0 .204 0 .273-.07.136-.068.272-.205.272-.41L55.932 2.02 56 1.81zM51.43 4.9L21.954 33.56l-10.78-3.977L51.43 4.9zM22.773 34.384L51.43 6.544l-21.97 30.65c0 .14-.068.14-.068.208l-2.866 9.394-3.752-12.41zM28.3 44.808l1.98-6.515 1.91.755-3.89 5.76zm21.15-.206l-18.694-7.337L54.636 3.94 49.45 44.6z"})))},_=function(){return a.createElement("svg",{width:98,viewBox:"0 0 98 64",className:h.jetIcon},a.createElement("g",{fill:"none"},a.createElement("circle",{cx:"47",cy:"32",r:"32",fill:"#99CBF9"}),a.createElement("path",{fill:"#D9EEFF",fillRule:"nonzero",stroke:"#99CBF9",d:"M64.227 35.22h-5.112c-.918 0-1.72-.62-1.94-1.506-.525-2.085-2.71-3.43-4.853-2.922-.85.198-1.74-.173-2.186-.924-1.46-2.463-4.154-3.993-7.026-3.993-3.035 0-5.8 1.66-7.217 4.33-.502.946-1.667 1.327-2.635.867-1.113-.53-2.45-.516-3.558.042-.508.256-1.103.284-1.633.08-.53-.206-.948-.625-1.147-1.155-.94-2.49-3.37-4.17-6.05-4.17-2.502 0-4.802 1.457-5.86 3.712-.37.785-1.216 1.236-2.07 1.13-.172-.02-.35-.035-.528-.035-1.857 0-3.467 1.247-3.917 3.032-.22.884-1.022 1.504-1.94 1.504H5.13c-2.482 0-4.503 2.003-4.503 4.468 0 2.464 2.02 4.468 4.504 4.468h59.1c2.486 0 4.507-2.003 4.507-4.467 0-2.465-2.02-4.47-4.503-4.47z"}),a.createElement("g",{stroke:"#8189A9"},a.createElement("path",{fill:"#FFF",d:"M30.293 44.795s6.3 4.423 11.563 3.495l52.22-9.208c1.985-.35 3.31-2.243 2.96-4.228-.35-1.986-2.243-3.31-4.228-2.96l-3.464.552c-1.57-2.593-2.467-2.954-4.548-3.15l-46.654 8.227-7.85 7.272z",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{fill:"#E8EAF1",d:"M42.757 42.74L31.2 44.776c-1.597.28-3.122-.8-3.406-2.414-.285-1.615.778-3.152 2.374-3.434l11.558-2.04c1.596-.28 3.12.8 3.405 2.416.29 1.614-.772 3.15-2.37 3.433zm40.138-1.687L58.54 45.348c-1.444.255-2.822-.71-3.076-2.154-.255-1.444.71-2.82 2.154-3.075l24.355-4.3c1.444-.256 2.82.71 3.076 2.153.25 1.444-.71 2.82-2.16 3.075z"}),a.createElement("path",{fill:"#FFF",d:"M30.85 38.81l-8.9-15.88 4.352-.768s17.838 14.304 27.67 12.57L30.85 38.81z",strokeLinecap:"round",strokeLinejoin:"round"}))))},E=function(){return a.createElement("svg",{width:98,viewBox:"0 0 98 85",className:h.rocketIcon},a.createElement("g",{fill:"none",transform:"translate(0 1)"},a.createElement("circle",{cx:"32",cy:"38.667",r:"32",fill:"#F9E799"}),a.createElement("path",{fill:"#FFF",stroke:"#99CBF9",d:"M32.137 58.667c3.556 2.19 6 6.74 6 12 0 5.258-2.444 9.808-6 12-3.556-2.192-6-6.742-6-12 0-5.26 2.444-9.81 6-12z"}),a.createElement("path",{fill:"#FF987C",d:"M32.137 58.667c2.276 1.587 3.84 4.883 3.84 8.692 0 3.8-1.564 7.1-3.84 8.69-2.275-1.59-3.84-4.89-3.84-8.69 0-3.81 1.565-7.11 3.84-8.7z"}),a.createElement("path",{fill:"#FFF",d:"M32.137 58.667c1.386.793 2.34 2.44 2.34 4.346 0 1.904-.954 3.552-2.34 4.346-1.386-.8-2.338-2.45-2.338-4.35 0-1.91.95-3.56 2.33-4.35z"}),a.createElement("path",{fill:"#FFF",stroke:"#99CBF9",d:"M44.546 58.667c2.376 1.46 4.008 4.494 4.008 8 0 3.504-1.632 6.537-4.008 7.998-2.376-1.46-4.01-4.494-4.01-8 0-3.504 1.634-6.538 4.01-7.998z"}),a.createElement("path",{fill:"#FF987C",d:"M44.546 58.667c1.52 1.058 2.565 3.255 2.565 5.794 0 2.54-1.04 4.74-2.56 5.8-1.52-1.06-2.56-3.25-2.56-5.79s1.047-4.734 2.567-5.792z"}),a.createElement("path",{fill:"#FFF",d:"M44.546 58.667c.926.53 1.562 1.627 1.562 2.897 0 1.27-.636 2.368-1.562 2.897-.926-.52-1.563-1.62-1.563-2.89s.637-2.37 1.563-2.893z"}),a.createElement("path",{fill:"#FFF",stroke:"#99CBF9",d:"M19.68 58.667c2.375 1.46 4.008 4.494 4.008 8 0 3.504-1.633 6.537-4.01 7.998-2.375-1.46-4.008-4.494-4.008-8 0-3.504 1.633-6.538 4.01-7.998z"}),a.createElement("path",{fill:"#FF987C",d:"M19.68 58.667c1.52 1.058 2.564 3.255 2.564 5.794 0 2.54-1.045 4.74-2.565 5.8-1.52-1.06-2.57-3.25-2.57-5.79s1.04-4.734 2.56-5.792z"}),a.createElement("path",{fill:"#FFF",d:"M19.68 58.667c.925.53 1.56 1.627 1.56 2.897 0 1.27-.635 2.368-1.56 2.897-.927-.52-1.563-1.62-1.563-2.89s.636-2.37 1.562-2.893z"}),a.createElement("path",{fill:"#D9EEFF",stroke:"#8189A9",d:"M22.34 38.825V15.68S24.657.218 32 .218c7.342 0 9.66 15.464 9.66 15.464v23.145H22.34z"}),a.createElement("path",{fill:"#FFF",stroke:"#8189A9",d:"M37.89 54.766h11.142v-6.02s.12-4.03-4.754-7.642c-4.368-3.235-6.08-6.52-6.387-9.634v23.296zm-11.733 0h-11.19v-6.02s-.12-4.03 4.755-7.642c4.716-3.494 6.335-7.043 6.435-10.377v24.04zm11.68 0V19.5s-.72-7.7-5.837-8.49c-5.116.788-5.838 8.487-5.838 8.487v35.266h11.676z"}),a.createElement("path",{fill:"#D9EEFF",stroke:"#8189A9",d:"M41.812 38.852V25.157s.485-6.92 3.24-6.92c2.757 0 3.243 6.92 3.243 6.92v20.885l-6.483-7.19zm-19.472 0V25.157s-.485-6.92-3.24-6.92c-2.756 0-3.242 6.92-3.242 6.92v20.365l6.482-6.67z"}),a.createElement("path",{stroke:"#8189A9",d:"M28.98 21.03c0-1.667 1.352-3.018 3.02-3.018 1.667 0 3.018 1.35 3.018 3.018",strokeLinecap:"round"}),a.createElement("path",{fill:"#D9EEFF",stroke:"#8189A9",d:"M29.134 54.77l-1.888 3.103h9.508l-1.886-3.102zm-11.77-.004l-1.506 2.477h7.59l-1.506-2.477zm24.846 0l-1.505 2.477h7.59l-1.506-2.477z"}),a.createElement("path",{stroke:"#8189A9",d:"M48.085 23.11h-6.063M38.667 5.778H25.333M22.13 23.11h-6.063"})))}},Lmm7:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u});var r,a,i=n("mrSG"),o=n("xEd5"),s=n("oZTP"),c=n("CB9K"),l=n("lycr");!function(e){e.Querying="querying",e.SynonymsReady="ready",e.SynonymsEmpty="empty",e.SynonymsError="error",e.SynonymsNone="none"}(r||(r={})),function(e){e.isReady=function(e){return null!==e&&e.kind===r.SynonymsReady},e.isEmpty=function(e){return null!==e&&e.kind===r.SynonymsEmpty},e.isQuerying=function(e){return null!==e&&e.kind===r.Querying},e.defaultState={kind:r.SynonymsNone,query:{id:-1,start:-1,word:""}}}(a||(a={}));var u=function(){function e(e,t){this.positionManager=e,this._capiClient=t,this.state=s.Atom.create(a.defaultState),this.changes=new c.Subject,this._log=o.Monitoring.Logging.getLogger("editor.SynonymsModelImpl")}return e.prototype.query=function(e){return i.__awaiter(this,void 0,Promise,function(){var t,n=this;return i.__generator(this,function(a){switch(a.label){case 0:return this._log.trace("SynonymsQuery: "+e.word),this.state.set({kind:r.Querying,query:e}),t=Object(l.retryCountPredicate)(2),[4,Object(l.promiseRetrier)(function(){return n._capiClient.requestSynonyms(e.start,e.word)},function(e){return t()&&l.CAPI.DroppedFromQueueError.isDroppedFromQueueError(e)}).then(function(t){var a=t.map(function(t){return{kind:r.SynonymsReady,query:e,synonyms:t}}).getOrElse({kind:r.SynonymsEmpty,query:e});return n._onResponse(a),a}).catch(function(t){return n.abortQuery(),t.message&&-1!==t.message.indexOf("Timeout")?n._log.info("Synonyms timeout",t):n._log.warn("Error getting synonyms",t),{kind:r.SynonymsError,query:e}})];case 1:return[2,a.sent()]}})})},e.prototype.abortQuery=function(){var e=this.state.get();a.isQuerying(e)&&this.state.set(a.defaultState)},e.prototype._onResponse=function(e){var t=this,n=window.SQT;setTimeout(function(){t._log.trace("_onResponse() newState: "+e);var n=t.state.get();a.isQuerying(n)&&n.query.word===e.query.word?t.state.set(e):t._log.trace("Discarding result for "+e.query.word)},n)},e.prototype.applySynonym=function(e,t){var n=this;this._log.debug("_applySynonym(#"+e.id+")");var r=e.range,a=r.start,i=r.end-r.start,o=this.positionManager.getTextLength(),s=l.Change.delta((new l.Delta).retain(a).delete(i).insert(t),o);return this.changes.next(s),this._capiClient.reportAlertFeedback(e.id,a,l.CAPI.AlertFeedbackType.SYNONYM_ACCEPTED,t),o=this.positionManager.getTextLength(),{action:l.CAPI.AlertFeedbackType.SYNONYM_ACCEPTED,replacement:t,commit:function(){n._log.debug("_applySynonym(#"+e.id+"):commit()"),e.dispose()},undo:function(){n._log.debug("_applySynonym(#"+e.id+"):undo()");var r=n.positionManager.getTextLength();r!==o&&n._log.error("Text has changed while uncommitted apply is present");var i=l.Change.delta((new l.Delta).retain(a).delete(t.length).insert(e.range.value),r);return n.changes.next(i),e.dispose(),[]}}},e}()},MIkE:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n("ASSm"),a=n("yrnK"),i=n("l1F0"),o=n("xEd5"),s=n("t2Ba"),c=n("n3Ao"),l=n("fOM/"),u=n("p9uY"),d=n("lycr"),p=n("hQK4"),m=n("pt0e"),f=function(){function e(e,t,n,f,h){var g=this;this._state=e,this._stateProvider=t,this._stateSideEffects=n,this._shouldAutoScroll=f,this._getAlertClosestToCursor=h,this.focusLens=function(e,t,n){void 0===n&&(n={}),g._log.debug("Focus Lens "+e),g._changeLensActions.next({lensId:e,alertSource:t,options:n})},this.focusAlert=function(e,t,n){g._changeAlertActions.next({alertHighlight:e,alertSource:t,options:{order:n}})},this._log=o.Monitoring.Logging.getLogger("FocusedLensManagerImpl"),this._changeLensActions=new i.Subject,this._changeAlertActions=new i.Subject,this.focusLensEffect=function(e){var t=e.lensId,n=e.alertSource,r=e.options;if(g._log.debug("Focus Lens "+t),u.a.isClosedId(t))return a.Observable.of(p.d.Effect.Applicator.Source.override(Object(m.b)()));var i=g._state.get(),o=i.patch({switchOrder:r.order||i.switchOrder,alertSource:n});return g._stateProvider.getLensEventsByLensId(o,t,r.focusFirst)},this.focusAlertEffect=function(e){var t=e.alertHighlight,n=e.alertSource,r=e.options;g._log.isEnabled(o.Logging.LogLevel.TRACE)&&g._log.trace("focusAlert("+alert+")");var a=g._state.get(),i=a.patch({switchOrder:r.order||a.switchOrder,alertSource:n===p.g.toAllAlerts?l.b.sidebar:n});return g._stateProvider.getLensEventsByAlert(i,t.alert.lensId,t)},this._focusFirstOnActiveLensSwitch=!0,this._validateState=function(e){return p.d.hasCards(e)&&e.currentLens.shouldVerify?g._updateActiveState(e):Object(r.Left)(e)},this.isStateScrollable=function(e){return g._shouldAutoScroll.get()};var v=this._state.get();this._effects=a.Observable.merge.apply(a.Observable,this._stateSideEffects.map(function(e){var t=e.when,n=e.what;return g._state.view("currentLens","id").view(t).switchMap(c.e.orEmpty(g._effectToApplicator(n)))}).concat([a.Observable.merge(this._changeAlertActions.map(function(e){return g.focusAlertEffect(e)}),this._changeLensActions.map(function(e){return g.focusLensEffect(e)})).switch()])),this._subs=[this._effects.catch(function(e,t){return g._log.error("Got error from effects: ",e),t}).withLatestFrom(this._state,function(e,t){return e(t)}).catch(function(e,t){return g._log.error("Got error while applying new state: ",e),t}).map(this._validateState).catch(function(e,t){return g._log.error("Got error while validating state: ",e),t}).subscribe(function(e){return e.fold(function(e){return g.shouldAllow(e)&&g._state.set(e)},function(e){return e.fold(function(e){return g._changeAlertActions.next(e)},function(e){return g._changeLensActions.next(e)})})}),this._state.view(p.d.getActiveAlert).switchMap(c.e.observeIfExists(function(e){return e.takeReference("activeCard").recover(g._log.handler("can not take alertRef").error).map(function(t){return t.dispose.bind(e)}).getOrElse(s.noop)})).subscribe(),a.Observable.merge(this._state.distinctUntilChanged(p.d.idAndStateMatch).map(function(e){return p.d.isInGlobalSuccess(e)?r.None:p.d.mapper(function(e){return Object(r.Some)(e.currentLens.meta)})(e)}).switchMap(c.e.observeIfExists(function(e){return e.sendFeedback(d.CAPI.LensFeedbackType.LENS_OPEN).recover(function(e){return g._log.error("Failed to send LENS_OPEN feedback",e)}),function(){return e.sendFeedback(d.CAPI.LensFeedbackType.LENS_CLOSE).recover(function(e){return g._log.error("Failed to send LENS_CLOSE feedback: ",e)})}})),this._state.view(p.d.getActiveAlert).map(s.OptionUtils.filter(function(e){return l.a.isRegistered(e)&&!l.a.isPremium(e)})).switchMap(c.e.observeIfExists(function(e){return e.sendFeedback(d.CAPI.AlertFeedbackType.LOOKED,l.b.sidebar).recover(function(e){return g._log.error("Failed to send LOOKED feedback",e)}),function(){l.a.isRegistered(e)&&e.sendFeedback(d.CAPI.AlertFeedbackType.CLOSED,l.b.sidebar).recover(function(e){return g._log.error("Failed to send CLOSED feedback: ",e)})}}))).subscribe()],p.d.hasCards(v)&&p.d.getActiveAlertHighlight(v).filter(function(e){return l.a.isRegistered(e.alert)}).fold(function(){return g._changeLensActions.next({lensId:v.currentLens.id,alertSource:v.alertSource,options:{order:v.switchOrder,focusFirst:!1}})},function(e){return g._changeAlertActions.next({alertHighlight:e,alertSource:v.alertSource,options:{lensId:v.currentLens.id,order:v.switchOrder}})})}return e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype.findNextAlert=function(t,n){var r=this;return("textOrder"===n&&this._shouldAutoScroll.get()?p.d.getActiveAlertHighlight(t).fold(this._getAlertClosestToCursor,function(e){return r._stateProvider.findNextAlertInText(e)}):t.currentLens.findNextAlert().orElseL(function(){return r._stateProvider.findNextAlertInLenses(t)})).map(e.toLensAlert)},e.prototype.shouldAllow=function(e){return!p.d.is(u.a.SpecialId.AllAlerts)(e)||p.d.isInGlobalSuccess(e)},e.prototype._updateActiveState=function(e){var t=this,n=this.isStateScrollable(e);return this._log.debug("Oops. Current alert removed, focusing next one..."),this._nextAlert(e).map(function(e){return Object(s.invariant)(l.a.isRegistered(e.alert),"lens alert should be in registered state",function(){return e.alert.toString()}),e}).fold(function(){return e.currentLens.kind===p.e.active?Object(r.Right)(Object(r.Right)({lensId:u.a.SpecialId.AllAlerts,alertSource:e.alertSource,options:{order:e.switchOrder}})):Object(r.Left)(e)},function(a){var i=a.alert,o=a.highlightIndex,s=a.lensId;return e.currentLens.meta.filter(i)?Object(r.Left)(n?p.d.Prism.getLens().set(e.currentLens.select({alert:i,highlightIndex:o}),e):e):Object(r.Right)(n?Object(r.Left)({alertHighlight:{alert:i,highlightIndex:o},alertSource:e.alertSource,options:{lensId:s,order:e.switchOrder}}):Object(r.Right)({lensId:s,alertSource:e.alertSource,options:{order:e.switchOrder,focusFirst:t._focusFirstOnActiveLensSwitch}}))})},e.prototype._effectToApplicator=function(e){var t=this;switch(e.type){case p.d.Effect.Type.Applicator:return e.source;case p.d.Effect.Type.ChangeLens:return e.source.do(function(e){return t._changeLensActions.next(e)}).switchMapTo(a.Observable.never());case p.d.Effect.Type.ChangeAlert:return e.source.do(function(e){return t._changeAlertActions.next(e)}).switchMapTo(a.Observable.never());default:return Object(s.assertNever)(e)}},e.prototype._nextAlert=function(t){var n=this,a=t.currentLens,i=t.switchOrder;return a.kind===p.e.abstract?r.None:a.kind===p.e.persistent?a.findNextAlert().orElseL(function(){return p.d.isInGlobalSuccess(t)||u.a.isOutcomeId(t.currentLens.id)&&0===n._stateProvider.getPersistentLens(u.a.SpecialId.AllAlerts).get().count?n._stateProvider.findPremiumAlert():r.None}).map(e.toLensAlert):this.findNextAlert(t,i).orElseL(function(){return n._stateProvider.findPremiumAlert().map(e.toLensAlert)})},e.toLensAlert=function(e){var t=e.alert;return{alert:t,highlightIndex:e.highlightIndex,lensId:t.lensId}},e}()},MPiU:function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return r});var r,a=n("CB9K"),i=n("ASSm"),o=n("oZTP"),s=n("xEd5"),c=n("t2Ba"),l=n("n3Ao"),u=n("fOM/"),d=n("p9uY"),p=n("hQK4"),m=n("qZDk"),f=function(){function e(e,t,n,r,a,d){var p=this;this.stateHolder=e,this._sidebarVM=t,this._lensStateVM=n,this._getClosestByPositionAlert=r,this._features=a,this._context=d,this._log=s.Monitoring.Logging.getLogger("PageViewModelImpl"),this._stateChangeCounter=s.Monitoring.TimeSeries.root.getCounter("pagevm.state"),this._subs=[],this._filter=o.Atom.create("free"),this.filterKit=o.Atom.create(i.None),this._alertsFilter=function(e){switch(e){case"free":return Object(i.Some)(u.a.isCriticalImpact);case"all":return Object(i.Some)(function(e){return!e.hasLongHighlight});default:return Object(c.assertNever)(e),i.None}};var m=l.e.createRetrySubscriber(this._log);this._subs.push(m("_ensureAlertsFilter",this._ensureAlertsFilter()),m("_listenFilterChange",this._listenFilterChange()),m("_trackSidebarState",this._trackSidebarState()),m("_trackLensChange",this._trackLensChange()),m("_trackAdvancedLensOpen",this._trackAdvancedLensOpen()),this.stateHolder.state.subscribe(function(e){var t=e.currentLens;return p._stateChangeCounter.getCounter(t.type).increment()})),Object(c.registerDebugHelper)("pageState",function(){return p.stateHolder.state.get()})}return e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype.closeSidebar=function(){this._lensStateVM.focusLens(d.a.SpecialId.Closed,u.b.api,{order:"lensOrder"})},e.prototype.switchTo=function(e){switch(e){case p.f.plagiarism:this._lensStateVM.focusLens(d.a.SpecialId.Plagiarism,u.b.api,{order:"lensOrder"});break;case p.f.advanced:this._lensStateVM.focusLens(d.a.SpecialId.Premium,u.b.sidebar,{order:"lensOrder"});break;case p.f.lensview:this._focusClosestAlert();break;case p.f.closed:this._lensStateVM.focusLens(d.a.SpecialId.Closed,u.b.api,{order:"lensOrder"});break;default:Object(c.assertNever)(e)}},e.prototype.switchToCritical=function(){this._features.isFree.get()||this._features.denali.outcomesUI?this.switchTo(p.f.lensview):this._switchToAlertByLensType(d.a.Type.Critical)},e.prototype.switchToAdvanced=function(){this._features.isFree.get()?this.switchTo(p.f.advanced):this._features.denali.outcomesUI?this.switchTo(p.f.lensview):this._switchToAlertByLensType(d.a.Type.Advanced)},e.prototype.switchToLens=function(e,t,n){this._lensStateVM.focusLens(e,t,{order:n})},e.prototype.switchToUnfocusedLens=function(e,t){this._lensStateVM.focusLens(e,t,{focusFirst:!1})},e.prototype.switchToAlert=function(e,t,n){try{this._lensStateVM.focusAlert(e,t,n)}catch(e){this._log.error("Cannot switchToAlert",e)}},e.prototype._listenFilterChange=function(){var e=this;return a.Observable.combineLatest(this._filter,this.stateHolder.state.view("currentLens").distinctUntilChanged(function(e,t){return e.id===t.id})).map(function(t){var n=t[0],r=t[1];return Object(i.Some)({filter:r.type===p.f.lensview||r.type===p.f.plagiarism?Object(i.Some)(function(t){return r.meta.filter(t)||!(e._features.denali.withAllAlerts&&u.a.isAlert(t)||r.meta.exclusiveHighlights||t.hasLongHighlight)}):e._alertsFilter(n),lensId:Object(i.Some)(r.id)})}).do(l.e.toAtom(this.filterKit))},e.prototype._ensureAlertsFilter=function(){var e=this;return this.stateHolder.sidebarOpen.do(function(t){return e._filter.set(t?"all":"free")})},e.prototype._trackLensChange=function(){var e=this;return this.stateHolder.state.skip(1).filter(function(e){if(p.d.isInGlobalSuccess(e))return!1;switch(e.currentLens.type){case p.f.lensview:case p.f.advanced:case p.f.plagiarism:return!0;case p.f.closed:return!1;default:return Object(c.assertNever)(e.currentLens)}}).map(function(e){return e.currentLens.meta.title}).distinctUntilChanged().do(function(t){return e._context.trackLensChange(t)})},e.prototype._trackAdvancedLensOpen=function(){var e=this;return this.stateHolder.state.filter(p.d.is(d.a.SpecialId.Premium)).do(function(){return e._context.trackAdvancedLensOpen(e._sidebarVM.getPersistentLens(d.a.SpecialId.Premium).get().count)})},e.prototype._trackSidebarState=function(){var e=this;return this.stateHolder.sidebarOpen.skip(1).do(function(t){t?e._context.assistantSidebarShow():e._context.assistantSidebarClose()})},e.prototype._focusClosestAlert=function(){var e=this,t=u.b.sidebar;this._getClosestByPositionAlert().fold(function(){return e._lensStateVM.focusLens(e._sidebarVM.getFirstLensId("default").getOrElse(d.a.SpecialId.AllAlerts),t,{order:"lensOrder"})},function(n){return e._lensStateVM.focusAlert(n,t,"lensOrder")})},e.prototype._switchToAlertByLensType=function(e){var t=this;this._getClosestByPositionAlert(function(t){return u.a.isAlert(t)&&t.alertType===e}).fold(function(){return t.switchTo(p.f.lensview)},function(e){return t.switchToAlert(e,u.b.sidebar,"lensOrder")})},e}();!function(e){var t=function(){return function(e){void 0===e&&(e=new m.a),this.stateHolder=e,this.filterKit=o.Atom.create(i.None),this.switchTo=c.noop,this.switchToCritical=c.noop,this.switchToAdvanced=c.noop,this.switchToLens=c.noop,this.switchToUnfocusedLens=c.noop,this.switchToAlert=c.noop,this.closeSidebar=c.noop,this.dispose=c.noop}}();e.Mock=t}(r||(r={}))},NQVW:function(e,t,n){"use strict";n.d(t,"c",function(){return m}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return g});var r=n("mrSG"),a=n("CB9K"),i=n("ASSm"),o=n("xEd5"),s=n("lycr"),c=n("t2Ba"),l=n("b0nb");function u(e){return null===e||c.StringUtils.isBreakWordChar(e.charCodeAt(0))}var d,p=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=!1),this._textLength=e,this._verify=t}return e.prototype.pushChanges=function(e){s.Change.isReset(e)?this._textLength=e.length:s.Change.isDelta(e)&&(this._verify&&Object(s.assert)(e.prevLen,this._textLength,"Incorrect textLength on insert."),this._textLength+=e.length)},Object.defineProperty(e.prototype,"textLength",{get:function(){return this._textLength},enumerable:!0,configurable:!0}),e}(),m=function(e){function t(t,n,r,a){var i=e.call(this,t,n,r)||this;return i.rangeId=a,i}return r.__extends(t,e),t.prototype.narrow=function(){return new t(this.start+1,this.end-1,this.type,this.rangeId)},t.prototype.toString=function(){return"R(#"+this.rangeId+": "+this.start+"; "+this.end+")"},t}(l.c),f=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a)||this;return o.alertId=i,o}return r.__extends(t,e),t.prototype.toString=function(){return"R(#"+this.alertId+";"+this.rangeId+": "+this.start+"; "+this.end+")"},t}(m);!function(e){e.hasAlertId=function(e){return Boolean(e.alertId)}}(m||(m={})),function(e){var t=function(){function e(){}return e.prototype.registerRange=function(e,t,n){return n?new f(t.start,t.end,t.type,e,n):new m(t.start,t.end,t.type,e)},e.prototype.deregisterRange=function(e){return l.c.empty},e.prototype.findClosestAlertRange=function(e,t){return i.None},e}();e.RangeManagerMock=t,e.mock=new t}(d||(d={}));var h=function(e,t){var n=e.end-t.end;return 0===n?e.start-t.start:n},g=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var n=this;this._strictMode=t,this._log=o.Monitoring.Logging.getLogger("position_manager",o.Logging.LogLevel.DEBUG),this._verifyState=this._log.isEnabled(o.Logging.LogLevel.INFO),this._ranges={},this._rangesArray=[],this._rangeChanged=new a.Subject,this._changes=new a.Subject,this.changes=this._changes,this.rangeChanged=this._rangeChanged,this._lenCalc=new p(e,this._verifyState),Object(c.registerDebugHelper)("positions",function(){n._log.info("PositionManager",n.toString()),n._verifyIsSorted()})}return e.prototype.pushChanges=function(e){var t=this;this._log.trace("PM Incoming: ",{changes:e,currentLen:this._lenCalc.textLength});try{this._lenCalc.pushChanges(e)}catch(e){if(this._strictMode)throw e;this._log.error("TextLengthCalc check failed",e)}var n=!1,r=0,a=new Set;s.Change.isFlush(e)||(s.Change.isReset(e)?this._rangesArray.forEach(function(e){e.start=0,e.end=0,a.add(e.rangeId)}):e.delta.ops.forEach(function(e){if(s.DeltaUtils.isRetain(e))r+=e.retain;else if(s.DeltaUtils.isInsert(e)){var i=r,o=c.ArrayUtils.lowerBound(t._rangesArray,function(e){return e.end<i}),l=e.insert,d="string"==typeof l?l.length:1;if(r+=d,o<t._rangesArray.length){n=!0;for(var p="string"==typeof l?l.charAt(l.length-1):null,m="string"==typeof l?l.charAt(0):null,f=o;f<t._rangesArray.length;++f){(v=t._rangesArray[f]).start<i?v.end===i&&u(m)||(a.add(v.rangeId),v.end+=d):(v.start!==i||u(p)?v.start+=d:a.add(v.rangeId),v.end+=d)}}}else if(s.DeltaUtils.isDelete(e)){var h=r;if((o=c.ArrayUtils.lowerBound(t._rangesArray,function(e){return e.end<h}))<t._rangesArray.length){n=!0;var g=h+e.delete;for(f=o;f<t._rangesArray.length;++f){var v;(v=t._rangesArray[f]).start,v.start<g?(a.add(v.rangeId),v.start<h?v.end=v.end-Math.min(e.delete,v.end-h):v.end<=g?(v.start=h,v.end=h):(v.start=h,v.end-=e.delete)):(v.start-=e.delete,v.end-=e.delete)}}}}),this._verifyState&&this._verifyIsSorted(),n&&this._changes.next(),a.size>0&&this._rangeChanged.next(Array.from(a).map(function(e){return t.getRange(e)})))},e.prototype.registerRange=function(e,t,n){if(void 0!==this._ranges[e])throw new Error("Range already registered "+e);this._log.trace("Registered range: "+e);var r=n?new f(t.start,t.end,t.type,e,n):new m(t.start,t.end,t.type,e);return this._ranges[e]=r,this._rangesArray.push(r),this._rangesArray.sort(h),r},e.prototype.getRange=function(e){var t=this._ranges[e];if(void 0===t)throw new Error("Range is not registered");return t},e.prototype.deregisterRange=function(e){this._log.trace("deregisterRange #"+e);var t=this._ranges[e];if(void 0===t)throw new Error("Range is not registered: "+e);this._verifyState&&this._verifyIsSorted(),delete this._ranges[e];try{for(var n=c.ArrayUtils.lowerBound(this._rangesArray,function(e){return e.end<t.end});n<this._rangesArray.length&&this._rangesArray[n].rangeId!==e;)n++;return Object(c.invariant)(n<this._rangesArray.length&&this._rangesArray[n].rangeId===e,"Range should be present: "+e),this._rangesArray.splice(n,1),t}catch(t){throw this._log.error("Cannot deregister range "+e,this._rangesArray),t}},e.prototype.findById=function(e){return i.Option.of(this._ranges[e])},e.prototype.findByRange=function(e){for(var t=[],n=c.ArrayUtils.lowerBound(this._rangesArray,function(t){return t.end<e.end});n<this._rangesArray.length&&this._rangesArray[n].end===e.end;)this._rangesArray[n].start===e.start&&t.push(this._rangesArray[n]),n++;return t},e.prototype.findIntersections=function(e){for(var t=[],n=c.ArrayUtils.lowerBound(this._rangesArray,function(t){return t.end<e.start});n<this._rangesArray.length;){var r=this._rangesArray[n];r.end>e.start&&e.end>r.start&&t.push(this._rangesArray[n]),n++}return t},e.prototype.findClosestAlertRange=function(e,t){var n=this._rangesArray.filter(function(e){return m.hasAlertId(e)&&t(e.alertId)}),r=c.ArrayUtils.lowerBound(n,function(t){return e>=t.end}),a=i.Option.of(n[r]),o=i.Option.of(n[r-1]);return a.map(function(t){return o.fold(function(){return t},function(n){return t.start-e<=e-n.end?t:n})}).orElse(o)},e.prototype.getRegisteredRanges=function(){return this._rangesArray},e.prototype.getTextLength=function(){return this._lenCalc.textLength},e.prototype._verifyIsSorted=function(){for(var e=1;e<this._rangesArray.length;++e)this._rangesArray[e-1].end>this._rangesArray[e].end&&(this._log.isEnabled(o.Logging.LogLevel.DEBUG)?this._log.error("Houston, we have a problem: Array is not sorted anymore @ "+e,this._rangesArray):this._log.error("Houston, we have a problem: Array is not sorted anymore"),this._rangesArray.sort(h))},e.prototype.toString=function(){return JSON.stringify(this,void 0,2)},e.prototype.toJSON=function(){return{textLength:this.getTextLength(),ranges:this._rangesArray}},e}()},Ow96:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("ERkP"),a=n("t2Ba"),i=n("RCFH"),o=n("6v47"),s=n("ePPH"),c=n("mEc7"),l=n("/hXU"),u=Object(c.g)(function(e,t){var n=e.payload,c=e.close,u=t.textResources.denali;return r.createElement(i.a,{close:c,className:l.proofitOrderSuccess},r.createElement(i.a.Body,{name:"proofitmodalsuccess"},r.createElement(o.H3,null,u.proofitSuccessModal.title),r.createElement("div",{className:l.timeWrapper},r.createElement(o.H2,{className:l.time,"data-name":"success-time"},a.DateUtils.Local.shortTime(n.dueDate)),r.createElement("div",{className:l.date,"data-name":"success-date"},a.DateUtils.Local.fullDate(n.dueDate))),r.createElement(o.Base,{className:l.description},u.proofitSuccessModal.description(n.email)),r.createElement(s.a.Primary,{name:"got-it",onClick:c},u.actions.gotIt)))})},RCFH:function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return f});var r=n("kwyh"),a=n("ERkP"),i=n("CB9K"),o=n("oZTP"),s=n("t2Ba"),c=n("n3Ao"),l=n("Jguk"),u=n("ePPH"),d=n("KL5p"),p=n("lkbY"),m=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._overlayIndex=t._index++,n._subs=[],n._visibilityState=o.Atom.create("hidden"),n}return r.c(t,e),t.prototype.componentDidMount=function(){var e=this;if(this._visibilityState.set(this.props.visible.get()?"visible":"hidden"),this._subs.push(this._visibilityState.map(function(e){return"visible"===e}).distinctUntilChanged().subscribe(function(n){return t._activeOverlays.modify(function(t){var r=new Set(t);return n?r.add(e._overlayIndex):r.delete(e._overlayIndex),r})}),this.props.visible.skip(1).subscribe(function(t){var n=e.props.animate?"fadeOut":"hidden";e._visibilityState.set(t?"visible":n)})),!this.props.preventClose){var n=this.props.visible;this._subs.push(this._visibilityState.switchMap(function(e){return"visible"===e?i.Observable.fromEvent(document,"keydown"):i.Observable.empty()}).filter(function(e){return e.keyCode===s.Keys.ESC_CODE}).subscribe(function(){return n.set(!1)}))}},t.prototype.componentWillUnmount=function(){var e=this;t._activeOverlays.modify(function(t){var n=new Set(t);return n.delete(e._overlayIndex),n}),this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){var e=this;return a.createElement(o.F.Fragment,null,this._visibilityState.view(function(t){switch(t){case"visible":case"fadeOut":return a.createElement(o.F.div,r.a({role:"overlay-wrapper"},Object(o.classes)(e.props.animate?e._getAnimatedTypeClass(t):e._getTypeClass(t)),{onClick:function(){return!e.props.preventClose&&e.props.visible.set(!1)},onTransitionEnd:function(){"fadeOut"===t&&e._visibilityState.set("hidden")}}),a.createElement(o.F.div,r.a({},Object(o.classes)(e.props.animate&&e._getContentClass(t))),a.createElement(d.b,{name:"modal",allowHover:!0,className:p.scroll},a.createElement(o.F.div,r.a({},Object(o.classes)(e._getAlignmentClass(),e._getSmallResolutionClass())),e.props.children))));case"hidden":return null;default:return Object(s.assertNever)(t)}}))},t.prototype._getSmallResolutionClass=function(){switch(this.props.smallResolution){case"resize":return p.wrapperResize;case"cut":default:return""}},t.prototype._getAlignmentClass=function(){switch(this.props.alignment){case"top-center":return p.wrapperTopCenter;case"bottom-right":return p.wrapperBottomRight;case"none":return"";case"center":default:return p.wrapperCenter}},t.prototype._getTypeClass=function(e){if("visible"!==e)return p.wrapperTransparent;switch(this.props.overlayType){case"light":return p.wrapperLight;case"transparent":return p.wrapperTransparent;case"dark":default:return p.wrapperDark}},t.prototype._getAnimatedTypeClass=function(e){var t="visible"===e;switch(this.props.overlayType){case"light":return s.Animation.rafSequence(t?[p.wrapperTransparent,p.wrapperLight]:[p.wrapperLight,p.wrapperTransparent],!0);case"transparent":return i.Observable.of(p.wrapperTransparent);case"dark":default:return s.Animation.rafSequence(t?[p.wrapperTransparent,p.wrapperDark]:[p.wrapperDark,p.wrapperTransparent],!0)}},t.prototype._getContentClass=function(e){var t=this.props.theme||p,n=t.contentFaded,r=t.content,a="visible"===e?[n,r]:[r,n];return s.Animation.rafSequence(a,!0)},t.defaultProps={visible:o.Atom.create(!0)},t._activeOverlays=o.Atom.create(new Set),t.activeCount=t._activeOverlays.view(function(e){return e.size}),t._index=0,t}(a.Component);function f(e){var t=e.children,n=e.className,i=e.close;return a.createElement(o.F.div,r.a({},Object(o.classes)(p.modal,n),{onClick:c.d.stopPropagation(s.noop)}),t,i?a.createElement("div",{className:p.closeIconButtonContainer},a.createElement(u.a,{name:"modal-close",onClick:i},a.createElement(l.d.Close,{className:p.closeIcon,width:13}))):null)}!function(e){e.Header=function(e){var t=e.children,n=e.className;return a.createElement(o.F.header,r.a({},Object(o.classes)(p.header,n)),t)},e.Body=function(e){var t=e.children,n=e.className,i=e.name;return a.createElement(d.b,{name:i,className:p.scrollBody,allowHover:!0},a.createElement(o.F.div,r.a({},Object(o.classes)(p.body,n))," ",t," "))},e.Footer=function(e){var t=e.children,n=e.className;return a.createElement(o.F.div,r.a({},Object(o.classes)(p.footer,n))," ",t," ")}}(f||(f={}))},RfT4:function(e,t,n){"use strict";var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("t2Ba"),s=n("mEc7"),c=n("REil"),l=n("hQK4"),u=n("Oj6O"),d=n("5egB"),p=n("1Y2u"),m=n("ePPH"),f=n("A4qE"),h=n("6v47"),g=n("pJ9/"),v=n("4XP+"),b=Object(s.f)(function(e,t){var n=e.pageViewModel,r=e.minimized,o=e.counters,s=t.textResources,c=t.pageId,l=t.gnarSpec;return a.createElement(i.F.div,{className:r.view(function(e){return e?v.fadeOutCounters:v.counters})},o.view("critical").view(function(e){return e>0?a.createElement(m.a,{key:"critical-issues",name:"critical-issues",styleType:h.Typography.Type.H3Legacy,className:g.issuesWrapper,onClick:function(){l.assistantOpenButtonClick(c,"critical"),n.switchToCritical()}},a.createElement(f.a.Counter,{count:e,type:"red",theme:g}),s.denali.sidebar.criticalIssue(e)):null}),o.view("advanced").view(function(e){return e>0?a.createElement(m.a,{key:"advanced-issues",name:"advanced-issues",styleType:h.Typography.Type.H3Legacy,className:g.issuesWrapper,onClick:function(){l.assistantOpenButtonClick(c,"advanced"),n.switchToAdvanced()}},a.createElement(f.a.Counter,{count:e,type:"yellow",theme:g}),s.denali.sidebar.advancedIssue(e)):null}))}),y=n("+ukg"),_=n("j1Ag"),E=Object(s.f)(function(e,t){var n=e.pageViewModel,r=e.minimized,o=e.counters,s=e.features,c=t.textResources,l=t.pageId,u=t.gnarSpec,d=s.denali.alertGroupNames===y.a.CRITICAL_ADVANCED?{critical:c.denali.sidebar.critical,advanced:c.denali.sidebar.advanced}:{critical:c.denali.sidebar.free,advanced:c.denali.sidebar.premium},p=o.view(s.denali.alertGroupNames===y.a.CRITICAL_ADVANCED?"critical":"free"),f=o.view(s.denali.alertGroupNames===y.a.CRITICAL_ADVANCED?"advanced":"paid");return a.createElement(i.F.div,{className:r.view(function(e){return e?v.fadeOutCounters:v.counters})},p.view(function(e){return e>0?a.createElement(m.a,{key:"critical-issues",name:"critical-issues",styleType:h.Typography.Type.H3Legacy,className:_.issuesWrapper,onClick:function(){n.switchToCritical(),u.assistantOpenButtonClick(l,"critical")}},a.createElement("span",{className:_.criticalCounter},e),a.createElement("span",null," ",d.critical(e))):null}),f.view(function(e){return e>0?a.createElement(m.a,{key:"advanced-issues",name:"advanced-issues",styleType:h.Typography.Type.H3Legacy,className:_.issuesWrapper,onClick:function(){n.switchToAdvanced(),u.assistantOpenButtonClick(l,"advanced")}},a.createElement("span",{className:_.advancedCounter},e),a.createElement("span",null," ",d.advanced(e))):null}))});n.d(t,"a",function(){return C});var w=function(e){var t=e.features,n=e.pageViewModel,r=e.counters,i=e.minimized;return t.denali.counterType.fold(function(){return null},function(e){switch(e){case c.DenaliFeatures.CounterType.small:return a.createElement(E,{pageViewModel:n,counters:r,minimized:i,features:t});case c.DenaliFeatures.CounterType.large:return a.createElement(b,{pageViewModel:n,counters:r,minimized:i});default:return Object(o.assertNever)(e)}})},C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._minimized=t.props.pageViewModel.stateHolder.sidebarOpen,t}return r.__extends(t,e),t.prototype._assistantProps=function(){var e=this,t=this.props.documentModel,n=t.checkingState,r=t.counters;return{checking:n.view(function(e){return"idle"!==e}),minimized:this._minimized,hasErrors:i.Atom.combine(r.view("critical"),r.view("advanced"),function(e,t){return e>0||t>0}),onClick:function(){e.context.gnarSpec.assistantOpenButtonClick(e.context.pageId,"default"),e.props.pageViewModel.switchTo(l.f.lensview)}}},t.prototype.render=function(){var e=this.props,t=e.features,n=e.pageViewModel;return a.createElement(i.F.section,{className:v.wrapper},a.createElement(w,{features:t,pageViewModel:n,minimized:this._minimized,counters:this.props.documentModel.counters}),a.createElement(d.a,{key:"onboarding",alignment:"bottomLeft",eventType:"onclick",stepId:u.a.Id.Step3,title:"Writing Assistant",message:"Open the Writing Assistant to see Premium alerts and organized feedback.",themes:{spotClassName:v.onboardingSpot}},a.createElement(p.a,r.__assign({},this._assistantProps()))))},t}(s.a)},SxAM:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return m});var r=n("mrSG"),a=n("ERkP"),i=n("CB9K"),o=n("oZTP"),s=n("ePPH"),c=n("Jguk"),l=n("RCFH"),u=n("fT1+"),d=n("2Xcb"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this._title&&(this._title.focus(),this._subs.push(i.Observable.fromEvent(document,"keydown").subscribe(function(t){u.a.isCmdKeyPressed(t,u.a.KEY_F)?(e._title&&(e._title.focus(),e._title.select()),t.preventDefault()):u.a.isCmdShiftKeyPressed(t,u.a.KEY_G)?(e._resultFunctionOrSelect(function(e){return e.prev()}),t.preventDefault()):u.a.isCmdKeyPressed(t,u.a.KEY_G)?(e._resultFunctionOrSelect(function(e){return e.next()}),t.preventDefault()):t.which===u.a.KEY_Esc&&(e.props.searchViewModel.visible.set(!1),t.preventDefault())}),this.props.searchViewModel.visible.filter(Boolean).subscribe(function(){requestAnimationFrame(function(){e._title&&(e._title.focus(),e._title.select())})})))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype._resultFunctionOrSelect=function(e){var t=this;this.props.searchViewModel.result.get().fold(function(){return t.props.searchViewModel.select()},e)},t.prototype.render=function(){var e=this,t=this.props.searchViewModel;return a.createElement("div",{className:d.view},a.createElement(o.F.div,{className:d.searchInputWrapper},a.createElement(c.d.SearchQuestion,{className:d.searchIcon}),a.createElement(o.F.input,r.__assign({name:u.a.SEARCH_INPUT_NAME,spellCheck:!1,mount:function(t){return e._title=t},placeholder:"Find in document",className:d.searchInput,autoFocus:!0},Object(o.bind)({value:t.term}),{onKeyDown:function(t){return t.keyCode===u.a.KEY_Enter&&e._resultFunctionOrSelect(function(e){return e.next()})}})),t.result.view(function(e){return e.getOrElse({count:0,current:0})}).view(function(e){var t=e.count,n=e.current;return t>0&&a.createElement("span",{className:d.counter,key:"count"},n,"/",t)})),a.createElement(s.a.Ghost,{className:d.roundButton,name:"search-prev",disabled:t.result.view(function(e){return e.filter(function(e){return 1!==e.current}).isEmpty()}),onClick:function(){return e._resultFunctionOrSelect(function(e){return e.prev()})}},a.createElement(c.d.Arrow,{className:d.lessIconUp})),a.createElement(s.a.Ghost,{className:d.roundButton,name:"search-next",disabled:t.result.view(function(e){return e.filter(function(e){return e.current!==e.count}).isEmpty()}),onClick:function(){return e._resultFunctionOrSelect(function(e){return e.next()})}},a.createElement(c.d.Arrow,{className:d.lessIcon})),a.createElement(s.a.Ghost,{className:d.closeButton,name:"search-close",onClick:function(){return t.visible.set(!1)}},a.createElement(c.d.Close,null)))},t}(a.Component),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this._subs.push(i.Observable.fromEvent(document,"keydown").filter(function(e){return u.a.isCmdKeyPressed(e,u.a.KEY_F)||u.a.isCmdKeyPressed(e,u.a.KEY_G)||u.a.isCmdShiftKeyPressed(e,u.a.KEY_G)}).subscribe(function(t){t.preventDefault(),0===l.b.activeCount.get()&&e.props.searchViewModel.visible.set(!0)}),l.b.activeCount.filter(function(e){return e>0}).subscribe(function(){return e.props.searchViewModel.visible.set(!1)}))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){var e=this;return a.createElement(o.F.div,{className:d.wrapper},this.props.searchViewModel.visible.view(function(t){return t&&a.createElement(p,{searchViewModel:e.props.searchViewModel})}))},t}(a.Component)},U7CB:function(e,t,n){"use strict";var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("xEd5"),s=n("mEc7"),c=n("Jguk"),l=n("ePPH"),u=n("RCFH"),d=n("t2Ba"),p=n("6v47"),m=n("L096"),f=n("OPKf"),h=function(e){var t=e.source,n=e.theme,r=e.linkText;return a.createElement(l.a,{name:"reload-page",className:n.link,onClick:function(){try{localStorage.setItem("pageReloadReason",JSON.stringify({source:t,location:window.location.href,timestamp:Date.now()}))}catch(e){}window.location.reload()}},r)};function g(e){var t=e.title,n=e.children,r=e.theme,i=void 0===r?{}:r;return t&&n?a.createElement("div",null,a.createElement(p.P1,{className:i.header},t),a.createElement(p.Base,{className:f.description},n)):t?a.createElement(p.P1,{className:f.description},t):a.createElement(p.Base,{className:f.description},n)}!function(e){e.Error=Object(s.f)(function(t,n){var i=t.theme,o=n.appConfig;return a.createElement(e,r.__assign({title:"Sorry, Something Went Wrong"},{theme:i}),"Please try again later or"," ",a.createElement(l.a,{name:"support",className:i.link,href:o.support.login,target:"_blank"},"contact support")," ","now to report the issue.")}),e.UnauthorizedError=Object(s.f)(function(t,n){var i=t.theme,o=n.appConfig;return a.createElement(e,r.__assign({title:"You've Been Logged Out"},{theme:i}),"This occurs due to inactivity or logging out on another device.",a.createElement("br",null),a.createElement(l.a,{name:"login",className:i.link,href:o.funnel.signin},"Log Back In"))}),e.Offline=function(t){var n=t.reconnect,o=t.reconnectTime,s=t.theme;return a.createElement(e,r.__assign({title:"Lost Connection"},{theme:s}),"Your Internet session was interrupted. We’ll try to reconnect you in"," ",a.createElement(i.F.span,null,o.view(function(e){return e}))," seconds.",a.createElement("br",null),a.createElement(l.a,{name:"reconnect",className:s.link,onClick:n},"Reconnect Now"))},e.SlowNetworkError=function(t){var n=t.theme;return a.createElement(e,r.__assign({title:"Your Internet Connection Is Unstable"},{theme:n}),"Grammarly may work slower than normal.")},e.ServerError=function(t){var n=t.theme;return a.createElement(e,r.__assign({title:"Sorry, Unexpected Issue"},{theme:n}),"A small error has occurred, causing an interruption of service.",a.createElement("br",null),a.createElement(h,r.__assign({source:"UnknownConnectionError",linkText:"Reload This Page"},{theme:n})))},e.ConnectionWSError=Object(s.f)(function(t,n){var i=t.theme,o=n.appConfig;return a.createElement(e,r.__assign({title:"Can’t Connect to Grammarly"},{theme:i}),"Your network configuration currently blocks Grammarly services on this computer. ",a.createElement("br",null),a.createElement(l.a,{name:"troubleshoot",className:i.link,href:o.support.diagnosticTestPath,target:"_blank"},"Troubleshoot This Issue"))}),e.ClientConnectionError=function(t){var n=t.theme;return a.createElement(e,r.__assign({title:"Your Internet Connection Is Unstable"},{theme:n}),"Please check your network stability and then reload this page.",a.createElement("br",null),a.createElement(h,r.__assign({source:"ClientConnectionErrorNotification",linkText:"Reload Page Now"},{theme:n})),".")},e.CheckingIsDownError=function(t){var n=t.theme;return a.createElement(e,r.__assign({title:"Text Checking Is Temporarily Unavailable"},{theme:n}),"Grammarly is unable to check your text for errors at this time. We’re working to resolve the issue. Please check back soon.")},e.CopyToClipboardError=Object(s.f)(function(t,n){var i=t.theme,o=n.environment;return a.createElement(e,r.__assign({title:"Copying Is Not Supported by Your Browser"},{theme:i}),"Please use ",o.textResources.commandKeyLabel("C")," instead.")}),e.Undo=function(t){var n=t.action,r=t.content;return a.createElement(e,null,a.createElement("div",{className:f.alertUndoWrapper},a.createElement("div",{className:f.alertUndoContent},r),a.createElement(l.a,{name:"alertUndoButton",className:f.alertUndoBtn,onClick:n},a.createElement(c.d.Undo,{className:f.alertUndoIcon}),"UNDO")))},e.ProofitPaymentDeclinedError=Object(s.f)(function(t,n){var i=t.errorMessage,o=t.theme,s=n.appRouter;return a.createElement(e,r.__assign({title:"Order can not be processed"},{theme:o}),a.createElement("div",null,i),"Please update your credit card information in the Manage Subscription section.",a.createElement("br",null),a.createElement(l.a,{name:"manage-subscription",className:o.link,onClick:function(){return s.navigate(m.a.manage.href({}))}},"Go to Manage Subscription"))}),e.ProofitEmptyDocumentError=function(t){var n=t.theme;return a.createElement(e,r.__assign({title:"Document is empty"},{theme:n}),"The document you are trying to submit is empty. Please write something and try again.")},e.ProofitDocumentProofreadError=function(t){var n=t.theme,i=t.navigateToDocuments;return a.createElement(e,r.__assign({title:"This document is already corrected"},{theme:n}),"The text you are trying to submit is already corrected by our proofreaders. Please edit your text or choose another document.",a.createElement("br",null),a.createElement(l.a,{name:"goto-docs",className:n.link,onClick:i},"Go to your documents"))},e.ProofitCancelled=Object(s.f)(function(t,n){var i=t.theme,o=n.appConfig;return a.createElement(e,r.__assign({title:"Your order has been cancelled"},{theme:i}),"Your proofreading order has been cancelled and the payment refunded. Please check your email for more information, or contact"," ",a.createElement(l.a,{name:"support",className:i.link,href:o.support.login,target:"_blank"},"Grammarly support"),".")}),e.ProofitCompleted=function(t){var n=t.theme,i=t.documentTitle,o=t.documentDownloadUrl,s=t.email;return a.createElement(e,r.__assign({title:(i||"Your")+" document has been proofread"},{theme:n}),"A version of this document with proofreaders’ marks has been emailed to you at ",s," in .docx format.",a.createElement("br",null),a.createElement(l.a,{name:"download",className:n.link,href:o,target:"_blank"},"Download .docx"))},e.DenaliDocumentUploadedNotification=Object(s.f)(function(t,n){var i=t.navigateToDocuments,o=t.theme,s=n.textResources;return a.createElement(e,r.__assign({title:s.denali.uploadNotificationTitle},{theme:o}),"Don’t worry! The previous document has been saved to"," ",a.createElement(l.a,{name:"goto-docs",className:o.link,onClick:i},"My documents"))}),e.DocumentNotFoundError=function(t){var n=t.theme,i=t.navigateToDocuments;return a.createElement(e,r.__assign({title:"Can’t find this document"},{theme:n}),"It looks like this document was removed or URL is incorrect.",a.createElement("br",null),a.createElement(l.a,{name:"goto-docs",className:n.link,onClick:i},"Go to your documents"))},e.AlertsNothingFound=function(){return a.createElement(e,null,"Grammarly found no critical writing issues in this text. Keep up the great work!")},e.BlobDownloadUnsupportedNotification=Object(s.f)(function(t,n){var i=t.theme,o=n.appConfig;return a.createElement(e,r.__assign({},{theme:i}),"The file cannot be downloaded because this browser does not support safe downloads.",a.createElement("br",null),"Please update your browser and try again."," ",a.createElement(l.a,{name:"support",className:f.link,href:o.support.safariDownloadFilesKBUrl,target:"_blank"},"Learn more"))}),e.SelfUpdateNotification=Object(s.f)(function(t,n){var i=t.theme,o=n.environment;return a.createElement(e,r.__assign({title:"Grammarly needs to refresh this page"},{theme:i}),"Don't worry - your documents have already been saved. Please"," ",a.createElement(h,r.__assign({source:"SelfUpdateBlocker",linkText:"reload"},{theme:i}))," the page (",o.textResources.commandKeyLabel("R"),").")}),e.DesktopSoftUpdateNotification=Object(s.f)(function(t,n){var i=t.theme,o=t.reloadMethod,s=n.environment.textResources.denali.desktopUpdate;return a.createElement(e,r.__assign({title:s.softTitle},{theme:i}),s.soft,a.createElement("br",null),a.createElement(l.a,{name:"reload-desktop",className:i.link,onClick:o},s.reload))}),e.DesktopHardUpdateNotification=Object(s.f)(function(t,n){var i=t.theme,o=t.reloadMethod,s=n.environment.textResources.denali.desktopUpdate;return a.createElement(e,r.__assign({title:s.hardTitle},{theme:i}),s.hard,a.createElement("br",null),a.createElement(l.a,{name:"reload-desktop",className:i.link,onClick:o},s.reload))}),e.DesktopSoftDownloadNotification=Object(s.f)(function(t,n){var i=t.theme,o=t.downloadMethod,s=n.environment.textResources.denali.desktopUpdate;return a.createElement(e,r.__assign({title:s.softTitle},{theme:i}),s.soft,a.createElement("br",null),a.createElement(l.a,{name:"download-desktop",className:i.link,onClick:o},s.download))}),e.DesktopHardDownloadNotification=Object(s.f)(function(t,n){var i=t.theme,o=t.downloadMethod,s=n.environment.textResources.denali.desktopUpdate;return a.createElement(e,r.__assign({title:s.hardTitle},{theme:i}),s.hard,a.createElement("br",null),a.createElement(l.a,{name:"download-desktop",className:i.link,onClick:o},s.download))}),e.ResolveLensNotification=Object(s.f)(function(t,n){var r=t.lensId,i=n.environment;return a.createElement(e,null,i.textResources.denali.resolveLens(r))});var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.componentDidMount=function(){this.context.gnarSpec.undoTextRemovedNotificationShow(this.context.pageId)},n.prototype.render=function(){var t=this,n=this.props,i=n.theme,o=n.action;return a.createElement(e.Undo,r.__assign({},{theme:i},{action:function(){t.context.gnarSpec.undoTextRemovedButtonClick(t.context.pageId),o()},content:a.createElement("div",null,this.context.environment.textResources.denali.textRemoved)}))},n}(s.a);e.TextRemovedNotification=t,e.ThanksForFeedbackNotification=function(t){var n=t.theme;return a.createElement(e,{title:"Your feedback has been sent",theme:n},"Thank you for helping make Grammarly better!")}}(g||(g={}));var v=n("/H08"),b=n("rJIe");n.d(t,"c",function(){return _}),n.d(t,"b",function(){return E}),n.d(t,"a",function(){return w});var y={header:f.header,link:f.link};function _(e){switch(e.type){case"alertUndoDenali":return a.createElement(g.Undo,{action:e.undoHandler,content:Object(b.a)(e.args)});case"error":return a.createElement(g.Error,r.__assign({},{theme:y}));case"unauthorizedError":return a.createElement(g.UnauthorizedError,r.__assign({},{theme:y}));case"offline":var t=e.args.reconnectTime;return a.createElement(g.Offline,r.__assign({},{reconnect:d.noop,reconnectTime:t,theme:y}));case"unknownConnectionError":case"serverError":return a.createElement(g.ServerError,r.__assign({},{theme:y}));case"connectionWSError":return a.createElement(g.ConnectionWSError,r.__assign({},{theme:y}));case"clientConnectionError":return a.createElement(g.ClientConnectionError,r.__assign({},{theme:y}));case"slowNetwork":return a.createElement(g.SlowNetworkError,r.__assign({},{theme:y}));case"checkingIsDown":return a.createElement(g.CheckingIsDownError,r.__assign({},{theme:y}));case"copyToClipboardFailed":return a.createElement(g.CopyToClipboardError,r.__assign({},{theme:y}));case"proofitPaymentDeclinedError":var n=e.args.errorMessage;return a.createElement(g.ProofitPaymentDeclinedError,r.__assign({},{errorMessage:n,theme:y}));case"proofitEmptyDocumentError":return a.createElement(g.ProofitEmptyDocumentError,r.__assign({},{theme:y}));case"proofitDocumentProofreadError":return a.createElement(g.ProofitDocumentProofreadError,r.__assign({},{theme:y},{navigateToDocuments:e.args.navigateToDocuments}));case"proofitCancelled":return a.createElement(g.ProofitCancelled,r.__assign({},{theme:y}));case"proofitCompleted":var i=e.args,s=i.email,c=i.documentTitle,l=i.documentDownloadUrl;return a.createElement(g.ProofitCompleted,r.__assign({},{theme:y,documentTitle:c,documentDownloadUrl:l,email:s}));case"alertsNothingFound":return a.createElement(g.AlertsNothingFound,null);case"generic":var u=e.args,p=u.message,m=u.description;return a.createElement(g,r.__assign({},{title:p,children:m,theme:y}));case"documentUploaded":return a.createElement(v.e,{navigateToDocument:e.args.navigateToDocument,linkClassName:f.link});case"denaliDocumentUploaded":return a.createElement(g.DenaliDocumentUploadedNotification,{theme:y,navigateToDocuments:e.args.navigateToDocuments});case"documentSizeExceeded":return a.createElement(v.b,{headerClassName:f.header});case"documentTypeUnsupported":return a.createElement(v.c,null);case"trackedChangesIsUnsupported":return a.createElement(v.f,{linkClassName:f.link});case"documentIsEmpty":return a.createElement(v.a,null);case"documentUploadGeneralError":return a.createElement(v.d,null);case"isTemporaryDownloadError":return a.createElement(v.h,null);case"downloadDocumentNotFoundError":return a.createElement(v.g,null);case"documentNotFoundError":return a.createElement(g.DocumentNotFoundError,r.__assign({navigateToDocuments:e.args.navigateToDocuments},{theme:y}));case"blobDownloadUnsupported":return a.createElement(g.BlobDownloadUnsupportedNotification,r.__assign({},{theme:y}));case"selfUpdateBlocker":return a.createElement(g.SelfUpdateNotification,r.__assign({},{theme:y}));case"desktopSoftUpdate":return a.createElement(g.DesktopSoftUpdateNotification,r.__assign({},{theme:y,reloadMethod:e.args.reloadMethod}));case"desktopHardUpdate":return a.createElement(g.DesktopHardUpdateNotification,r.__assign({},{theme:y,reloadMethod:e.args.reloadMethod}));case"desktopSoftDownload":return a.createElement(g.DesktopSoftDownloadNotification,r.__assign({},{theme:y,downloadMethod:e.args.downloadMethod}));case"desktopHardDownload":return a.createElement(g.DesktopHardDownloadNotification,r.__assign({},{theme:y,downloadMethod:e.args.downloadMethod}));case"resolveLens":return a.createElement(g.ResolveLensNotification,r.__assign({},{lensId:e.args.lensId}));case"textRemoved":return a.createElement(g.TextRemovedNotification,r.__assign({},{theme:y},{action:e.undoHandler}));case"thanksForFeedback":return a.createElement(g.ThanksForFeedbackNotification,r.__assign({},{theme:y}));default:return o.Monitoring.Logging.getLogger("denali.notifications").error("Unrecognized notification type "+e.type),a.createElement(g.Error,r.__assign({},{theme:y}))}}var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype._getNotificationClass=function(){var e=this.props.notification.size;switch(e){case"flexible":return f.flexibleNotification;case void 0:return f.fixedNotification;default:return Object(d.assertNever)(e)}},t.prototype._isClosable=function(){var e=this.props.notification;return!e.important&&!e.dontCloseOnClick||e.denaliCloseOnClick},t.prototype._getNotificationIcon=function(){var e=this.props.notification.severity,t="flexible"===this.props.notification.size;switch(e){case void 0:case"warn":return a.createElement(c.d.NotificationWarning,{className:t?f.alertIconMini:f.alertIcon});case"info":return a.createElement(c.d.NotificationInfo,{className:t?f.alertIconMini:f.alertIcon});case"error":return a.createElement(c.d.NotificationError,{className:t?f.alertIconMini:f.alertIcon});default:return Object(d.assertNever)(e)}},t.prototype.render=function(){var e=this.props,t=e.notification,n=e.hide,o=e.render,s="flexible"===t.size;return a.createElement("div",null,a.createElement("div",r.__assign({key:t.id},Object(i.classes)(f.notification,this._getNotificationClass())),a.createElement("div",{className:s?f.miniContentWrapper:f.contentWrapper,key:t.id},this._getNotificationIcon(),a.createElement("span",{className:s?f.miniContent:f.content},o(t)),this._isClosable()&&a.createElement(l.a,{name:"closeNotification",className:s?f.closeIconWrapperMini:f.closeIconWrapper,onClick:function(){n(t.id)}},a.createElement(c.d.Close,{className:f.closeIcon,width:12})))))},t}(a.Component),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subscriptions=[],t._renderNotification=function(e){return _(e)},t._hide=function(e){var n=t.props.notifications.items.view(i.Lens.find(function(t){return e===t.id})).view(i.Lens.prop(function(e){return e.type})).get();t.props.notifications.hide(e),t.context.gnarSpec.notificationCloseButtonClick(n,t.context.pageId)},t._bottom=t.props.wootricViewModel.map(function(e){return t.props.notifications.items.switchMap(function(t){if(0===t.length)return i.Atom.create({});var n=t[0].severity;return void 0===n||"info"===n||"warn"===n?e.height.view(function(e){return e>0?{bottom:e+"px"}:{}}):i.Atom.create({})})}).getOrElse(void 0),t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this._subscriptions.push(this.props.denaliEditorModel.dontFreezeWhen(this.props.notifications.items.view(function(e){return e.some(function(e){return"error"===e.severity})}),"notificationCenter"))},t.prototype.componentWillUnmount=function(){this._subscriptions.forEach(function(e){return e.unsubscribe()}),this._subscriptions=[]},t.prototype._getNotificationClass=function(e){var t=e.severity;switch(t){case void 0:case"info":case"warn":return f.bottomNotification;case"error":return Object(i.classes)(f.topNotification,f.overContent).className;default:return Object(d.assertNever)(t)}},t.prototype.render=function(){var e=this;return a.createElement(i.F.div,r.__assign({},Object(i.classes)(f.notificationWrapper,this.props.notifications.items.map(function(t){return t.length>0?e._getNotificationClass(t[0]):""})),{style:this._bottom}),this.props.notifications.items.map(function(t){return t.map(function(t){var n=a.createElement(E,{key:t.id,notification:t,hide:e._hide,render:e._renderNotification});return"error"===t.severity?a.createElement(u.b,{key:t.id,preventClose:!0,overlayType:"light",alignment:"top-center",animate:!0,theme:{content:f.overlayContent,contentFaded:f.overlayContentFaded}},n):n})}))},t}(s.a)},UI30:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("t2Ba"),s=n("n3Ao"),c=n("5zve");function l(e){var t=e.wrapperClassName,n=e.variation,o=(e.ref,r.__rest(e,["wrapperClassName","variation","ref"]));return a.createElement(i.F.span,{role:"spinner",className:t},s.e.mapMaybeObservable(n,function(e){return a.createElement(l.Svg,r.__assign({},o,{type:e}))}))}!function(e){e.getClassName=function(e){return function(t){switch(t){case"red":return e.red;case"green":return e.green;case"blue":return e.blue;case"white":return e.white;case"violet":return e.violet;case"yellow":return e.yellow;case"gray":return e.gray;case"cyan":return e.cyan;default:return Object(o.assertNever)(t)}}};var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.componentDidMount=function(){Object(o.invariant)(null!==this.groupEl,"groupEl should be already mounted"),this.groupAnimation=this.groupEl.animate({transform:["rotate(0deg)","rotate(360deg)"]},{duration:2e3,easing:"linear",fill:"forwards",iterations:1/0})},n.prototype.componentWillUnmount=function(){this.groupAnimation&&this.groupAnimation.cancel()},n.prototype.render=function(){var t=this,n=this.props,o=n.className,s=n.size,l=void 0===s?64:s,u=n.strokeWidth,d=void 0===u?2:u,p=n.type,m=n.name,f=r.__rest(n,["className","size","strokeWidth","type","name"]);return a.createElement("svg",r.__assign({"data-role":m},Object(i.classes)(o),{viewBox:"25 25 50 50",width:l,height:l},f),a.createElement("g",{transform:"translate(50 50)"},a.createElement("g",{ref:function(e){return t.groupEl=e}},a.createElement("circle",r.__assign({},Object(i.classes)(c.path,e.getClassName(c)(p)),{cx:"50",cy:"50",r:"20",fill:"none",transform:"translate(-50 -50)",strokeWidth:d,strokeMiterlimit:"10"})))))},n}(a.PureComponent);e.Svg=t}(l||(l={}))},UIYh:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("mrSG"),a=n("ERkP"),i=n("ASSm"),o=n("oZTP"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._tourModal=o.Atom.create(i.Option.empty()),t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;(new Image).src=n("cppq"),Promise.all([n.e(0),n.e(17)]).then(n.bind(null,"BecQ")).then(function(t){var n=t.TourInit;e._tourModal.set(Object(i.Some)(a.createElement(n,{type:e.props.type,settings:e.props.settings,onReady:function(){return e.props.tourLoaded.set(!0)}})))})},t.prototype.render=function(){return a.createElement(o.F.div,null,this._tourModal.view(function(e){return e.orNull()}))},t}(a.Component)},UbFC:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var r=n("kwyh"),a=n("ERkP"),i=n("oZTP"),o=n("6v47"),s=n("wUCQ"),c=function(e){var t=e.value,n=e.placeholder,c=e.className,l=e.nodeType,u=e.name,d=e.autofocus;return a.createElement(o.Typography,r.a({"data-name":u,mount:d?function(e){return e&&requestAnimationFrame(function(){return e.focus()})}:void 0,styleType:o.Typography.Type.P1,nodeType:l,placeholder:n},Object(i.classes)(c,s.inputField),Object(i.bind)({value:t})))},l=function(e){return a.createElement(c,r.a({},e,{nodeType:"input"}))},u=function(e){return a.createElement(c,r.a({},e,Object(i.classes)(s.textArea,e.className),{nodeType:"textarea"}))}},VI1M:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return f});var r=n("kwyh"),a=n("ERkP"),i=n("ASSm"),o=n("CB9K"),s=n("oZTP"),c=n("t2Ba"),l=n("gAIq"),u=n("FTyx"),d=n("Bdj+"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t}(u.a),m=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._uuid=c.StringUtils.alphanumeric(12),n._initialState=!1,n._hovered=s.Atom.create(n._initialState),n._hidden=s.Atom.create(!n._initialState),n._listPosState=s.Atom.create({}),n._dropdownEl=null,n._subs=[],n.hovered=n._hovered.pairwise().switchMap(function(e){var t=e[0];return e[1]?o.Observable.timer(n.props.showDelay).mapTo(!0):t?o.Observable.timer(500).mapTo(!1):o.Observable.of(!1)}).merge(t._hoveredForce.map(function(e){return e.contains(n._uuid)})).distinctUntilChanged().do(function(e){return e&&t._hoveredForce.next(Object(i.Some)(n._uuid))}).do(function(e){return e&&n._hidden.set(!1)}).share().startWith(n._initialState),n}return r.c(t,e),t.prototype.getChildContext=function(){return{hovered:this._hovered}},t.prototype._getHAlign=function(e){switch(e){case"left":case"auto":return{left:"0"};case"right":return{right:"0"};case"center":return{right:"50%",marginRight:"-"+(this._dropdownEl?this._dropdownEl.offsetWidth:0)/2+"px"};default:return Object(c.assertNever)(e)}},t.prototype._getVAlign=function(e){switch(e){case"top":return{bottom:"100%"};case"bottom":case"auto":return{top:"100%"};default:return Object(c.assertNever)(e)}},t.prototype.calcDropdownPosition=function(){var e=this;if(this.props.customPosition)return this._listPosState.set(this.props.customPosition);var t=this.props.align,n=this.props.vAlign;this._listPosState.set(r.a({},this._getHAlign(t),this._getVAlign(n)));var a="auto"===t,i="auto"===n;(a||i)&&requestAnimationFrame(function(){if(e._dropdownEl){var o=document.body.getBoundingClientRect(),s=e._dropdownEl.getBoundingClientRect();e._listPosState.set(r.a({},e._getHAlign(a?o.right<s.right?"right":"left":t),e._getVAlign(i?o.bottom<s.bottom?"top":"bottom":n)))}})},t.prototype.componentDidMount=function(){var e=this;this._subs.push(this.hovered.subscribe(function(t){t&&e.calcDropdownPosition(),e.props.onVisibilityChange&&e.props.onVisibilityChange(t)}))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.componentWillReciveProps=function(){this.calcDropdownPosition()},t.prototype.mapStateToClass=function(e,t){var n={start:"",end:""};return t?{prev:n,next:{start:d.transparent,end:""}}:{prev:{start:"",end:d.transparent},next:n}},t.prototype.render=function(){var e=this,n=this.props,o=n.label,l=n.theme,u=void 0===l?{}:l;return a.createElement("div",r.a({},Object(s.classes)(d.wrapper,u.dropdownContainer),{onMouseEnter:function(){return e._hovered.set(!0)},onMouseLeave:function(){return e._hovered.set(e._initialState)},onClickCapture:function(n){var r=n.target;if(!c.DOM.isDisabled(r)){var a=!c.DOM.hasParentWithClassName(r,d.list);t._hoveredForce.next(a?Object(i.Some)(e._uuid):i.None),e._hovered.set(a)}}}),o,a.createElement(p,{state:this.hovered,stateToClassMapper:this.mapStateToClass},function(t){return t.state?a.createElement(f,r.a({key:"list",name:e.props.name,onTransitionEnd:"prev"===t.type?function(){return e._hidden.set(!0)}:c.noop},Object(s.classes)(u.dropdownList,t.view,e._hidden.view(function(e){return e?d.hidden:""})),{mount:function(t){return e._dropdownEl=t},style:e._listPosState}),e.props.children):null}))},t.defaultProps={align:"auto",vAlign:"auto",showDelay:500},t.childContextTypes=l.a.HoveredContextTypes,t.Delimiter=function(){return a.createElement("div",{className:d.delimiter})},t._hoveredForce=new o.Subject,t}(a.PureComponent),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t.prototype.getChildContext=function(){var e=void 0!==this.context.name?this.context.name+"/":"";return l.a.emptyWithName(e+"dropdown-"+this.props.name)},t.prototype.render=function(){return a.createElement(s.F.div,r.a({},Object(s.classes)(this.props.className,d.list),{style:this.props.style,mount:this.props.mount,role:"dropdown-list","data-name":"dropdown-"+this.props.name,onTransitionEnd:this.props.onTransitionEnd}),this.props.children)},t.displayName="DropdownList",t.contextTypes=l.a.GroupedContextTypes,t.childContextTypes=l.a.contextTypes,t}(a.Component)},WsCC:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m});var r=n("ERkP"),a=n("ePPH"),i=n("Jguk"),o=n("lycr"),s=n("n3Ao"),c=n("mEc7"),l=n("BrW0"),u=n("fOM/"),d=n("MqdC"),p=Object(c.f)(function(e,t){var n=e.card,c=e.cardsViewModel,p=e.className;return r.createElement(a.a.Ghost,{key:"toggle-more",name:f(n.visualState,t),title:f(n.visualState,t),className:p,onClick:s.d.callOnce(function(){c.startTransitionTo.next([n.cardId,{type:l.a.VisualState.isCardOpen(n.visualState)?"focused":"expanded",clockwise:!0}]),l.a.VisualState.isCardOpen(n.visualState)&&n.activeAlert.sendFeedback(o.CAPI.AlertFeedbackType.EXPANDED,u.b.sidebar)})},l.a.VisualState.isCardOpen(n.visualState)?r.createElement(i.d.Arrow,{key:"more",className:d.lessIcon}):r.createElement(i.d.Expand,{key:"expand"}))}),m=function(e){var t=e.card,n=e.children,a=e.className;return r.createElement("div",{className:(l.a.VisualState.isCardOpen(t.visualState)?d.more:d.moreHidden)+" "+a},n)};function f(e,t){var n=t.textResources.denali.card;return l.a.VisualState.isCardOpen(e)?n.less:n.more}},XGpl:function(e,t,n){"use strict";n.d(t,"a",function(){return M}),n.d(t,"b",function(){return A});var r=n("mrSG"),a=n("ERkP"),i=n("CB9K"),o=n("ASSm"),s=n("oZTP"),c=n("lycr"),l=n("t2Ba"),u=n("n3Ao"),d=n("gAIq"),p=n("cERz"),m=n("mEc7"),f=n("fOM/"),h=n("Oj6O"),g=n("q9Ib"),v=n("Et9B"),b=n("Jguk"),y=n("ePPH"),_=n("UgFH"),E=function(e){var t=e.title,n=e.className;return a.createElement("div",r.__assign({className:n},u.d.setInnerHTML(t.toLowerCase(),{allowedTags:["i","b"]})))},w=function(e){var t=e.title,n=e.explanation;return a.createElement("div",null,a.createElement(E,{className:_.bigTitle,title:t}),a.createElement("div",r.__assign({className:_.explanation},u.d.setInnerHTML(n,{allowedTags:["i","b"]}))))},C=function(e){var t=e.alert,n=e.onApply,r=e.onAddToDictionary,i=e.onIgnore,o=e.openAlert,s=function(e){return/Unknown/.test(e.patternName)};return a.createElement("div",{className:_.card},t.replacementsLabels.isEmpty()?!s(t)&&a.createElement(w,{title:t.title,explanation:t.explanation}):t.replacementsLabels.map(function(e){return a.createElement(v.a,{key:"replacementsLabels",replacementsLabels:e,onClick:n,header:(r=t,i=e.tooltipText.replace("Click to",""),/Unknown/.test(r.patternName)?"Unknown word":/Misspelled\/General/.test(r.patternName)?"":r.extraProperties.didYouMean||r.extraProperties.showTitle?"Check word usage":i),customStyle:_});var r,i}).orNull(),a.createElement(y.a.Group,{align:"vertical"},t.extraProperties.hasAddToDictionary?a.createElement(y.a.Ghost,{name:"add-to-dictionary",textPosition:"right",className:s(t)?_.footerButtonBig:_.footerButtonShort,onClick:r},s(t)&&a.createElement(E,{className:_.unknownWordTitle,title:t.title}),a.createElement(b.d.Dict,null),"Add to dictionary"):null,a.createElement(y.a.Ghost,{name:"dismiss",className:_.footerButtonShort,onClick:function(){return i()}},a.createElement(b.d.Ignore,null),"Dismiss"),a.createElement(y.a.Ghost,{name:"see_more",className:_.footerButtonShort,onClick:o},a.createElement(b.d.Expand,null),"See more")))},k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isMaxWidth:!1},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.el&&this.el.firstElementChild&&this.el.firstElementChild.clientWidth>=288&&this.setState({isMaxWidth:!0})},t.prototype.render=function(){var e=this,t=this.props,n=t.alert,i=t.onApply,o=t.onIgnore,c=t.onAddToDictionary,l=t.openAlert;return a.createElement("div",r.__assign({onClick:function(e){return e.stopPropagation()},key:n.id,ref:function(t){return e.el=t}},Object(s.classes)(this.state.isMaxWidth&&_.maxWidthReached)),a.createElement(C,{alert:n,onApply:i,onIgnore:o,onAddToDictionary:c,openAlert:l}))},t}(a.Component),S=8,M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._state=s.Atom.create({visibility:"visible",position:{top:0,left:0},direction:"down"}),t._updatePosition=function(e){t.props.getPosition().forEach(function(n){var a=n.abs,i=n.relative,o=t._el.offsetHeight,s=a.height+a.top+o>e.height+e.top&&i.height<e.height?"up":"down";t._state.modify(function(e){return r.__assign({},e,{direction:s,position:{top:"up"===s?i.top-o-S:i.top+i.height,left:i.left}})})})},t._getClass=function(e,n){return l.DOM.classes(t._getMainClass(e),"up"===n&&_.directionUp)},t._withOnClose=function(e){return function(){e(),t.props.onClose()}},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){(0,this.props.onMount)(),this._subs.push(i.Observable.combineLatest(this.context.map(function(e){return e.rect}),this._state.filter(function(e){return"visible"===e.visibility}),function(e){return e}).subscribe(this._updatePosition))},t.prototype.componentWillReceiveProps=function(e){var t=this;if(this.props.mode!==e.mode)switch(e.mode){case"removed":this._state.modify(function(e){return r.__assign({},e,{visibility:"invisible"})});break;case"added":requestAnimationFrame(function(){return t._state.modify(function(e){return r.__assign({},e,{visibility:"visible"})})}),e.onMount();break;default:Object(l.assertNever)(e.mode)}},t.prototype.componentWillUnmount=function(){this._resetSubs()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype._resetSubs=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype._getMainClass=function(e){switch(e){case"invisible":return _.invisible;case"visible":return _.visible;default:return Object(l.assertNever)(e)}},t.prototype.render=function(){var e=this,t=this.props,n=t.alert,i=t.onMouseLeave,o=t.onMouseEnter,l=t.openAlert;return a.createElement(s.F.div,r.__assign({key:n.id,tabIndex:-1,"data-name":g.b.DATA_NAME,mount:function(t){return e._el=t},style:this._state.view("position")},Object(s.classes)(_.container,this._state.view(function(t){var n=t.visibility,r=t.direction;return e._getClass(n,r)})),{onMouseEnter:o,onMouseLeave:i}),a.createElement(k,{alert:n,onAddToDictionary:this._withOnClose(function(){n.sendFeedback(c.CAPI.AlertFeedbackType.ADD_TO_DICTIONARY,f.b.text)}),onApply:function(t){return e._withOnClose(function(){return n.apply(t,f.b.text)})},onIgnore:this._withOnClose(function(){return n.sendFeedback(c.CAPI.AlertFeedbackType.IGNORE,f.b.text)}),openAlert:this._withOnClose(function(){return l()})}))},t.contextType=p.a.Context,t}(a.Component),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.getChildContext=function(){return d.a.emptyWithName("inline-card")},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillUnmount=function(){this.props.inlineCardVM.dispose()},t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.inlineCardVM,i=t.openAlert,c=t.onboardingViewModel;return a.createElement(s.F.div,{className:n},r.state.startWith(o.None).pairwise().map(function(t){var n=t[0],s=t[1];return[n.map(function(e){var t=e.alert;return a.createElement(M,{key:t.id,alert:t,onMouseEnter:l.noop,onMouseLeave:l.noop,onClose:l.noop,onMount:l.noop,getPosition:function(){return o.Try.pure({abs:l.DOM.Rect.empty,relative:l.DOM.Rect.empty})},openAlert:l.noop,mode:"removed"})}).orNull(),s.map(function(t){return a.createElement(M,{key:t.alert.id,alert:t.alert,getPosition:function(){return o.Try.map2(t.mark.viewportRect.map(function(e){return e.fst}),t.mark.firstClientRect,function(e,t){return{abs:e,relative:t}})},onMouseEnter:function(){r.setAlertHoveredState({type:g.a.Type.hovered,ma:t})},onMouseLeave:function(){r.setAlertHoveredState({type:g.a.Type.unhovered,ma:t})},onClose:function(){r.setAlertHoveredState({type:g.a.Type.disabled})},onMount:function(){r.setAlertHoveredState({type:g.a.Type.unhovered,ma:t}),c.getStepCompletionCallback(h.a.Id.Step2)(),e.context.gnarSpec.alertUnderlineHover(e.context.pageId,"assistantOff",e.context.pageSessionId)},openAlert:function(){return i(t.alert,t.highlightIndex)},mode:"added"})}).orNull()]}).startWith(null))},t.childContextTypes=d.a.contextTypes,t}(m.a)},YWUB:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r,a=n("mrSG"),i=n("ERkP"),o=n("oZTP"),s=n("lycr"),c=n("t2Ba"),l=n("mEc7"),u=n("RCFH"),d=n("6v47"),p=n("jm6F"),m=n("ePPH"),f=n("Jguk"),h=n("sN39"),g=n("weRr"),v=n("RC2M"),b=n("vgpX");!function(e){e.number="number",e.time="time",e.percentage="percentage"}(r||(r={}));var y=function(e){switch(e){case r.number:case r.percentage:return v.numberRowData;case r.time:return v.timeRowData;default:return Object(c.assertNever)(e)}},_=function(e){var t=e.type,n=e.value,a=e.info,o=e.children,s=e.dataName;return i.createElement("div",{className:v.row,"data-name":s},i.createElement("div",{className:y(t)},i.createElement("div",{className:v.metricTitle},o),i.createElement("div",{className:v.metric},function(e,t){switch(e){case r.number:return(Math.round(10*t)/10).toLocaleString();case r.time:return c.DateUtils.convertTimeToShortString(t);case r.percentage:return Math.round(t)+"%";default:return Object(c.assertNever)(e)}}(t,n))),a&&i.createElement(m.b,{title:a}))},E={radialProgressBar:v.circleProgressBar},w=Object(l.f)(function(e,t){var n=e.stats,l=e.documentModel,m=e.successLensViewModel,y=t.textResources.denali.performance;return i.createElement(i.Fragment,null,i.createElement(u.a.Header,{className:v.modalHeader},i.createElement(d.H2,{className:v.sectionHeaderUnderline},y.title)),i.createElement(u.a.Body,{name:"performanceBody",className:v.modalBody},i.createElement("section",{className:v.titleSection},i.createElement("div",{className:v.titleColumns},i.createElement(o.F.div,a.__assign({},Object(o.classes)(b.performanceText,v.headerDescription)),l.score.map(function(e){return y.score(e.map(function(e){return e.rank}).getOrElse(0))})),i.createElement(h.a,{documentModel:l,successLensViewModel:m,successIcon:i.createElement(f.d.CheckmarkAnimated,{key:"modal-checkmark",width:50,className:v.checkmark}),progressIcon:function(e){return i.createElement(g.a,{key:"modal-performance-progress",colorType:g.a.ColorType.royalBlue,fontSize:g.a.FontSize.small,percentage:e,theme:E})}}))),i.createElement("section",{className:v.wordCountSection},i.createElement(d.H2,{className:v.sectionHeaderUnderline},y.wordCount),i.createElement("div",{className:v.wordCountColumns},i.createElement("div",{className:v.firstColumn},i.createElement(_,{type:r.number,value:Math.max(n.chars-1,0)},y.characters),i.createElement(_,{type:r.number,value:n.words},y.words),i.createElement(_,{type:r.number,value:n.sentences},c.StringUtils.pluralize(n.sentences,y.sentence,y.sentences))),i.createElement("div",{className:v.secondColumn},i.createElement(_,{type:r.time,value:s.CAPI.DocumentStatistics.calculateReadingTime(n.words)},y.readingTime),i.createElement(_,{type:r.time,value:s.CAPI.DocumentStatistics.calculateSpeakingTime(n.words)},y.speakingTime)))),i.createElement("section",{className:v.readabilitySection},i.createElement("div",{className:v.sectionHeaderWrapper},i.createElement(d.H2,null,y.readability),i.createElement(d.Small,null,y.sectionTitleDescription)),i.createElement("div",{className:v.readabilityColumns},i.createElement("div",{className:v.firstColumn},i.createElement(_,{type:r.number,value:n.wordLength},y.wordLengthTitle),i.createElement(_,{type:r.number,value:n.sentenceLength},y.sentenceLengthTitle),i.createElement(_,{type:r.number,value:n.readabilityScore,info:y.readabilityDescription,dataName:"readability"},y.readabilityScore)),i.createElement("div",{className:v.secondColumn},i.createElement("div",{className:v.row},i.createElement(p.a,{value:n.wordLengthIndex,className:v.progressBar,leftCustomClass:v.leftProgress,rightCustomClass:v.rightProgress}),i.createElement(p.a.Label,{value:n.wordLengthIndex,className:v.progressLabel})),i.createElement("div",{className:v.row},i.createElement(p.a,{value:n.sentenceLengthIndex,className:v.progressBar,leftCustomClass:v.leftProgress,rightCustomClass:v.rightProgress}),i.createElement(p.a.Label,{value:n.sentenceLengthIndex,className:v.progressLabel})),i.createElement("div",{className:v.verticalPillar}))),i.createElement(d.Small,{className:v.readabilityDescr},n.readabilityDescription)),i.createElement("section",null,i.createElement("div",{className:v.sectionHeaderWrapper},i.createElement(d.H2,null,y.vocabulary),i.createElement(d.Small,null,y.sectionTitleDescription)),i.createElement("div",{className:v.vocabularyColumns},i.createElement("div",{className:v.firstColumn},i.createElement(_,{type:r.percentage,value:n.uniqueWords,info:y.uniqueWords},y.uniqueWordsTitle),i.createElement(_,{type:r.percentage,value:n.rareWords,info:y.rareWords},y.rareWordsTitle)),i.createElement("div",{className:v.secondColumn},i.createElement("div",{className:v.row},i.createElement(p.a,{value:n.uniqueWords,className:v.progressBar,leftCustomClass:v.leftProgress,rightCustomClass:v.rightProgress}),i.createElement(p.a.Label,{value:n.uniqueWords,className:v.progressLabel})),i.createElement("div",{className:v.row},i.createElement(p.a,{value:n.rareWords,className:v.progressBar,leftCustomClass:v.leftProgress,rightCustomClass:v.rightProgress}),i.createElement(p.a.Label,{value:n.rareWords,className:v.progressLabel})),i.createElement("div",{className:v.verticalPillar}))))))})},YeQk:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.group=function(e){return Object.values(e.reduce(function(e,t){var n=t.lensName,r=t.isFree;return void 0===e[n]&&(e[n]={lensName:n,free:0,premium:0}),e[n][r?"free":"premium"]+=1,e},{})).sort(function(e,t){return t.premium-e.premium})}}(r||(r={}))},Ynql:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return l});var r,a=n("ASSm"),i=n("CB9K"),o=n("n3Ao"),s=n("xEd5"),c=n("WhHs");!function(e){e[e.ANIMATE_ALL=0]="ANIMATE_ALL",e[e.ANIMATE_MARK=1]="ANIMATE_MARK",e[e.NO_ANIMATION=2]="NO_ANIMATION"}(r||(r={}));var l,u=function(){function e(e,t){this._cardPositions=e,this._markPositions=t,this._log=s.Monitoring.Logging.root.getLogger("AlignmentViewModel")}return e.prototype.alignCardToMark=function(e,t){var n=this;return this._cardPositions.ensureCardPosition(e.cardId,t===r.ANIMATE_ALL,this._markPositions.getMarkAlertPositionSync(e.activeAlert)).mapTo(o.e.voidValue).catch(function(e){return n._log.error("Cannot align card to mark",e),i.Observable.empty()})},e.prototype.alignMarkToCard=function(e,t){var n=this,s=e.cardId,l=e.activeHighlightIndex,u=e.activeAlert;return this._cardPositions.ensureCardPosition(s,t===r.ANIMATE_ALL,a.None).distinctUntilChanged().switchMap(function(e){var a=e.top,i=e.contentOffset;return n._markPositions.ensureAlertHighlightInViewport({alert:u,highlightIndex:l},a+i,t===r.NO_ANIMATION?c.AnimateMode.none:c.AnimateMode.initial)}).mapTo(o.e.voidValue).catch(function(e){return n._log.error("Cannot align mark to card",e),i.Observable.empty()})},e}(),d=function(){function e(e,t){this._cardPositions=e,this._markPositions=t,this._log=s.Monitoring.Logging.root.getLogger("AlignmentViewModel")}return e.prototype.alignCardToMark=function(e,t,n){var s=this;return i.Observable.defer(function(){return i.Observable.of(n?s._markPositions.getMarkAlertPositionSync(e.activeAlert):s._markPositions.getMarkAlertPositionCached(e.activeAlert))}).switchMap(o.e.toOptionValueOnly).map(function(t){return{mark:t,card:s._cardPositions.getCardSuggestedPosition(e.cardId,Object(a.Some)(t))}}).switchMap(function(a){return i.Observable.merge(s._cardPositions.setCardPosition(e.cardId,t===r.ANIMATE_ALL,a.mark-a.card.contentOffset),o.e.orEmpty(s._markPositions.ensureAlertHighlightInViewport({alert:e.activeAlert,highlightIndex:e.activeHighlightIndex},a.card.top+a.card.contentOffset,t===r.ANIMATE_ALL?c.AnimateMode.initial:c.AnimateMode.none))(n))}).mapTo(o.e.voidValue).catch(function(e){return s._log.error("Cannot align card to mark",e),i.Observable.empty()}).share()},e.prototype.alignMarkToCard=function(e,t){var n=this,s=e.cardId,l=e.activeHighlightIndex,u=e.activeAlert;return i.Observable.defer(function(){return i.Observable.of(n._markPositions.getMarkAlertPositionSync(u))}).switchMap(o.e.toOptionValueOnly).map(function(e){return{mark:e,card:n._cardPositions.getCardSuggestedPosition(s,a.None)}}).switchMap(function(e){return i.Observable.merge(n._markPositions.ensureAlertHighlightInViewport({alert:u,highlightIndex:l},e.card.top+e.card.contentOffset,t===r.ANIMATE_ALL?c.AnimateMode.fake:c.AnimateMode.none),n._cardPositions.setCardPosition(s,!1,e.mark-e.card.contentOffset).distinctUntilChanged())}).mapTo(o.e.voidValue).catch(function(e){return n._log.error("Cannot align mark to card",e),i.Observable.empty()}).share()},e}();!function(e){var t=function(){return function(){this.alignCardToMark=function(){return i.Observable.empty()},this.alignMarkToCard=function(){return i.Observable.empty()}}}();e.Mock=t}(l||(l={}))},YxLS:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r,a=n("mrSG"),i=n("xEd5"),o=n("CB9K"),s=n("ASSm"),c=n("lycr"),l=n("t2Ba"),u=n("n3Ao"),d=n("p9uY"),p=n("fOM/"),m=n("Ux9p"),f=n("NQVW");function h(e){return function(t){return t.fold(e,e)}}!function(e){e.Unmatched="Unmatched",e.Merged="Merged",e.Restored="Restored"}(r||(r={}));var g=function(){function e(e,t,n,r,m){var g=this;this._positionManager=e,this._deltaManager=t,this._capiClient=n,this._transformRawAlert=m,this._log=i.Monitoring.Logging.getLogger("AlertManager",i.Logging.LogLevel.TRACE),this._subs=[],this._addAlerts=new o.Subject,this._removeAlerts=new o.Subject,this._changeAlerts=new o.Subject,this._flush=new o.Subject,this._alertsPerRevision=0,this._allAlerts=new Map,this._capiAlertsIdMapping=new Map,this.alertEvents=new o.Subject,this.changes=new o.Subject,this.get=function(e){var t=g._getExistingAlert(e);return Object(l.invariant)(p.a.isRegistered(t),"can not get non registered alert",function(){return t.toString()}),t},this._hideAlert=function(e){if(g._log.debug("_hideAlert("+e.toLiteString()+")"),!p.a.isApplied(e))throw new l.InvariantError("can not hide not applied alert",e.toString());g._notifySystem([e])},this._lensFeedback=function(e,t){t===c.CAPI.LensFeedbackType.DISMISS_BY_LENS?g._dismissAll(e):g._capiClient.capi.reportLensFeedback(e.id,t)},this._dismissAll=function(e){var t=g.getAllAlertsAsArray().filter(function(t){return p.a.isRegistered(t)&&e.filter(t)}),n=!1,r=function(){n||(g._capiClient.capi.reportLensFeedback(e.id,c.CAPI.LensFeedbackType.DISMISS_BY_LENS),n=!0)};g.flushChanges();var a=t.map(function(e){return g._applyFeedbackToAlert(e,c.CAPI.LensFeedbackType.DISMISS_BY_LENS,p.b.sidebar,r)});g._notifySystem(a)},this._dismissBatch=function(e){g.flushChanges();var t=e.map(function(e){return g._applyFeedbackToAlert(e,c.CAPI.AlertFeedbackType.IGNORE,p.b.sidebar,function(){return g._commitToCapi(e,c.CAPI.AlertFeedbackType.IGNORE)})});g._notifySystem(t)},this._applyAlert=function(e,t,n){g._log.debug("_applyAlert("+e.toLiteString()+", rrange: "+e.replaceRange+")"),Object(l.invariant)(p.a.isRegistered(e),"can not apply alert in non registered state",function(){return e.toString()}),g.flushChanges(),g._invalidateAlert(e),e.registerAppliedRanges();var r=e.replaceRange,a=r.start,i=r.end-r.start,o=g._positionManager.getTextLength(),s=!1,u={action:c.CAPI.AlertFeedbackType.ACCEPTED,replacement:t,commit:function(){s||g._log.debug("_applyAlert("+e.toLiteString()+"):commit()")},undo:function(){s=!0,g._log.debug("_applyAlert("+e.toLiteString()+"):undo()");var n=g._positionManager.getTextLength();n!==o&&g._log.error("Text has changed while uncommitted apply is present. Expected: "+o+", actual: "+n);var r=c.Change.delta((new c.Delta).retain(a).delete(t.length).insert(e.replaceText),n);g.changes.next(r),g.flushChanges(),e.registerRanges()}};e.changeState(p.a.State.Applied.create(u,n)),e.rawId.fold(function(){return g._log.debug("skip feedback for local alert",e)},function(n){return g._capiClient.capi.reportAlertFeedback(n,e.replaceRange.start,c.CAPI.AlertFeedbackType.ACCEPTED,t)}),i>0&&g.changes.next(c.Change.del(a,i,o)),g.changes.next(c.Change.ins(a,t,o-i)),g.flushChanges(),o=g._positionManager.getTextLength(),g.alertEvents.next({kind:"alert_applied",alert:e})},this._applyTransformJson=function(e,t,n){Object(l.invariant)(e.deltas.nonEmpty(),"Alert doesn't have any deltas to be applied",g.toString());var r=e.deltas.get()[t].delta;Object(l.invariant)(void 0!==r,"Unknown alternativeIndex",function(){return"alternativeIndex("+t+") "+g.toString()});var a=g._deltaManager.getInvertedDelta(r);g._invalidateAlert(e),e.registerAppliedRanges(),e.deregisterDeltas();var i=g._positionManager.getTextLength(),o=!1,s={action:c.CAPI.AlertFeedbackType.ACCEPTED,commit:function(){o||g._log.debug("_applyAlert("+e.toLiteString()+"):commit()")},undo:function(){o=!0,g.changes.next(c.Change.delta(a,i)),g.flushChanges(),e.registerRanges(),e.registerDeltas()}};e.changeState(p.a.State.Applied.create(s,n)),e.rawId.fold(function(){return g._log.debug("skip feedback for local alert",e)},function(n){return g._capiClient.capi.reportAlertFeedback(n,e.replaceRange.start,c.CAPI.AlertFeedbackType.ACCEPTED,e.labels[t])}),g.changes.next(c.Change.delta(r,i)),g.flushChanges(),i=g._positionManager.getTextLength(),g.alertEvents.next({kind:"alert_applied",alert:e})},this._alertFeedback=function(e,t,n){if(g._log.debug("_alertFeedback("+e.toLiteString()+", feedbackType: "+t+", source: "+n+")"),t!==c.CAPI.AlertFeedbackType.LOOKED||e.isRead||(g._lensManager.readAlert(e),e.isRead=!0),c.CAPI.FeedbackType.willRemoveAlert(t)){g.flushChanges();var r=g._applyFeedbackToAlert(e,t,n,function(){return g._commitToCapi(e,t)});g._notifySystem([r])}else g._commitToCapi(e,t)},this._releaseRef=function(e){g._log.trace("_releaseRef("+e.toLiteString()+")"),0===e.references&&p.a.isNotRegistered(e)&&g._cleanupAlerts([e])},this._getAlertId=function(e){var t=g._capiAlertsIdMapping.get(e);return Object(l.invariant)(void 0!==t,"unknown raw alert id",e),t},this._getExistingAlert=function(e){var t=g._allAlerts.get(e);return Object(l.invariant)(void 0!==t,"alert should exist",e),t},this._getExistingAlertByRawId=function(e){return g._getExistingAlert(g._getAlertId(e))},this._disposeAlert=function(e){Object(l.invariant)(0===e.references,"can not dispose alert in use",function(){return e.toString()}),Object(l.invariant)(!1===e.isValid,"can not dispose valid alert",function(){return e.toString()}),Object(l.invariant)(g._allAlerts.delete(e.id),"alert should exist in alerts list",e.id),e.dispose()},this._invalidateAlert=function(e){e.isValid&&(e.rawId.forEach(function(t){g._log.trace("clean valid alert capi mapping for: "+e.toLiteString()),Object(l.invariant)(g._capiAlertsIdMapping.delete(t),"valid alert should had valid raw id",function(){return e.toString()})}),e.invalidate())},this._registerAlert=function(e){e.isValid||e.rawId.fold(function(){return g._log.debug("skip register of local alert in capi mapping",e)},function(t){g._log.trace("register alert in capi mapping",e.toLiteString()),Object(l.invariant)(void 0===g._capiAlertsIdMapping.get(t),"unexpected overlap of rawid alert",function(){return e.toString()}),e.validate(),g._capiAlertsIdMapping.set(t,e.id)})},this._invalidateAlerts=function(){g.flushAlerts();var e=l.ArrayUtils.partition(g.getAllAlertsAsArray(),function(e){return e.isValid}),t=e[0],n=e[1];g._log.debug("Invalidate alerts...",{valid:t.length,invalid:n.length}),t.forEach(function(e){g._invalidateAlert(e),e.clearCapiId()}),n.forEach(function(e){return e.clearCapiId()})},this._removeInvalidAlerts=function(e){g._log.debug("Removing invalid alerts by type '"+e+"'..."),g.flushAlerts();var t=g._getTypeFilter(e),n=g.getAllAlertsAsArray().filter(function(e){return!e.isValid&&p.a.isRegistered(e)&&t(e)});n.forEach(function(e){return g._removeAlertBuffered(Object(s.Right)(e.id))}),g._log.debug(n.length+" alerts removed"),g._log.isEnabled(i.Logging.LogLevel.TRACE)&&g._log.trace("Removed alerts",n)},this._onCapiEvent=function(e){try{switch("alert_received"===e.kind&&g._alertsPerRevision++,e.kind){case"alert_received":case"plagiarism_alert_received":if(!1===e.alert.hidden&&void 0===e.alert.cardLayout)return void g._log.warn("got alert with empty mapping",{pname:e.alert.pname});g._addAlertBuffered(p.a.create(g._transformRawAlert(e.alert),g,g._positionManager,g._deltaManager));break;case"alert_removed":g._log.debug("Remove from capi #"+e.alertId+", merged in #"+e.mergedIn.getOrElse("None")+", hint: "+e.hint.getOrElse("None")),g._removeAlertBuffered(Object(s.Left)({id:e.alertId,mergedIn:e.mergedIn,hint:e.hint}));break;case"alert_changed":g._log.debug("Alert change from capi #"+e.alertId),g._changeAlertBuffered({id:e.alertId,extraProperties:e.extraProperties});break;case"finish":g._log.debug("Alerts per revision (#"+e.revision+"): "+g._alertsPerRevision),g._alertsPerRevision=0,"idle"===g._capiClient.capi.checkingState&&g._finishAlertsChecking(),g._lensManager.updatePercentiles(new Map(Object.entries(e.outcomeScores).filter(function(e){return e[0]!==d.a.SpecialId.Plagiarism}).map(function(e){var t=e[0],n=e[1];return[d.a.OutcomeId.toOutcomeIdString(t),n]})))}}catch(t){g._log.warn("Cannot handle alert event "+e.kind,t)}},this._processAlertsBatch=function(e){var t=g._processBufferedBatch(e),n=t.toAdd,r=t.toAddLocal,i=t.toUpdate,o=t.toAddOrUpdate,u=t.toRemoveUnfiltered,d=t.toChangeUnfiltered,m=t.rangeChanges,f=function(e){return g._allAlerts.get(e)||o.get(e)};d.forEach(function(e){return s.Option.of(o.get(e.id)).fold(function(){if(g._capiAlertsIdMapping.has(e.id)){var t=g._getExistingAlertByRawId(e.id).copy();t.updateWithRawAlert(a.__assign({},t.toRawAlert(),{extra_properties:e.extraProperties})),i.set(e.id,t)}else g._log.info("Change from CAPI: Cannot find internal AlertId.")},function(t){t.updateWithRawAlert(a.__assign({},t._raw,{extra_properties:e.extraProperties}))})});var v=u.reduce(function(e,t){var r=t.fold(function(e){var t=e.id;if(g._capiAlertsIdMapping.has(t)){var n=g._getExistingAlertByRawId(t);return p.a.isRegistered(n)?n:void 0}return o.get(t)},f);return void 0===r?(t.isLeft()?g._log.trace("Remove from CAPI: Cannot find internal AlertId. capiId: #"+JSON.stringify(t.swap().get())):g._log.error("Cannot find existing alert by id",t.get()),e):(g._getMergeTarget(t,n).filter(h(function(e){return e.lensId!==r.lensId?(g._log.warn("Trying to merge alerts from different lenses",{source:r,target:e}),!1):r.rawId.isEmpty()?(g._log.warn("Trying to merge into local alert",{source:r,target:e}),!1):r.references>e.references})).fold(function(){return e.set(r.id,{alert:r,reason:t.swap().toOption().flatMap(function(e){return e.hint}).flatMap(function(e){return e===c.CAPI.AlertRemoveHint.NotFixed?Object(s.Some)(p.a.State.Removed.Reason.capiDismiss):s.None}).getOrElse(p.a.State.Removed.Reason.capiDone)})},function(t){return t.fold(function(e){g._swapRaw(r,e);var t=r.rawId.get();n.delete(t),Object(l.invariant)(void 0===i.get(t),"Added alert should not be present in the updated alerts map"),i.set(t,r.copy()),e.dispose()},function(t){g._swapRaw(r,t),e.set(t.id,{alert:t,reason:p.a.State.Removed.Reason.capiDismiss})})}),e)},new Map),b=new Set;return m&&m.forEach(function(e,t){var n=s.Option.of(f(t));n.isEmpty()&&g._log.warn("got range changes for unknown alert",{alertId:t,alertRanges:e}),n.filter(p.a.isRegistered).forEach(function(n){e.some(function(e){return e.type===p.a.RangeType.HIGHLIGHT_UPDATABLE&&!p.a.highlightsCollapsed(n)})?b.add(n):e.some(function(e){return e.type===p.a.RangeType.HIGHLIGHT||e.type===p.a.RangeType.HIGHLIGHT_UPDATABLE&&p.a.highlightsCollapsed(n)})&&v.set(t,{alert:n,reason:p.a.State.Removed.Reason.textChange})})}),v.forEach(function(e){var t=e.alert;t.rawId.forEach(function(e){i.has(e)&&(g._log.debug("cancel update for: "+t.toLiteString()),i.delete(e)),n.has(e)&&(g._log.debug("cancel add for: "+t.toLiteString()),n.delete(e),v.delete(t.id),t.dispose())})}),{toAdd:r.concat(Array.from(n.values())),toUpdate:i,toRemove:v,toStartChecking:b}},this._validateAlertUpdate=function(e){return e.allowUpdate||(g._log.error("Tried to update non-updatable or Premium alert",e.toString()),e.dispose()),e.allowUpdate},this._validateAlertAdd=function(e){try{var t=!p.a.isPremium(e)||void 0!==e.categoryHuman;return e._raw.impact!==c.RawAlert.Impact.Critical&&e._raw.impact!==c.RawAlert.Impact.Advanced&&e.rawId.nonEmpty()&&g._log.warn("CAPI provides corrupted impact prop",{alert:e,raw:c.RawAlert.clearUserTextFields(e._raw)}),t||(g._log.error("CAPI provides corrupted alert",{alert:e,raw:c.RawAlert.clearUserTextFields(e._raw)}),e.dispose()),t}catch(t){g._log.error("Cannot validate alert",t);try{e.dispose()}catch(e){g._log.warn("Cannot dispose invalid alert",e)}return!1}},this._notifyAlertUpdated=function(e){g.alertEvents.next({kind:"alert_updated",alerts:[e]})},this._recheckedAlerts=new Set,this._lensManager=r.create(this),this.createLens=this._lensManager.createLens,this.lenses=this._lensManager.lenses,this.loadScores=this._lensManager.updatePercentiles;var v=e.rangeChanged.map(function(e){return u.a.groupBy("alertId",e.filter(f.c.hasAlertId))}).filter(function(e){return e.size>0}).do(function(e){return g._log.debug("Range[s] changed",e)}).share(),b=o.Observable.interval(250).startWith(0).merge(this._flush),y=u.e.createIgnoreErrorsSubscriber(this._log);this._subs.push(y("_alertsInvalidation",n.events.filter(c.CAPI.CAPIEvent.is("session_started")).do(this._invalidateAlerts).switchMapTo(o.Observable.merge(n.events.filter(c.CAPI.CAPIEvent.is("finish")).first().mapTo("alert"),n.events.filter(c.CAPI.CAPIEvent.is("async_check_finished")).first().mapTo("plagiarism"))).do(this._removeInvalidAlerts)),y("_capiEvents",n.events.do(this._onCapiEvent)),y("_alertsProccesing",this._addAlerts.merge(this._removeAlerts).merge(this._changeAlerts).merge(v).buffer(b).filter(l.notEmpty).map(this._processAlertsBatch).do(function(e){var t=e.toAdd,n=e.toUpdate,r=e.toRemove,a=e.toStartChecking;n.size>0&&g._updateAlertsUnbuffered(Array.from(n.values())),t.length>0&&g._addAlertsUnbuffered(t),r.size>0&&g._removeAndNotify(Array.from(r.values())),a.size>0&&g._startAlertsChecking(Array.from(a.values()))})),y("_alertsBuffer",v.merge(n.events.filter(c.CAPI.CAPIEvent.is("before_finish","before_async_check_finish","async_check_finished"))).mapTo(u.e.voidValue).do(this._flush))),Object(l.registerDebugHelper)("alerts",function(){return g.toString()}),Object(l.registerDebugHelper)("triggerRemove",function(e){g._removeAlertBuffered(Object(s.Right)(e))})}return e.prototype.flushAlerts=function(){this._flush.next()},e.prototype.flushChanges=function(){this.changes.next(c.Change.flush())},e.prototype.contains=function(e){return this._allAlerts.has(e)&&!p.a.isRemoved(this._allAlerts.get(e))},e.prototype.containsRegistered=function(e){return this._allAlerts.has(e)&&p.a.isRegistered(this._allAlerts.get(e))},e.prototype.getAllAlertsAsArray=function(){return Array.from(this._allAlerts.values()).filter(p.a.isNotRemoved)},e.prototype.getAllAlertsAsSortedArray=function(e){var t=this.getAllAlertsAsArray();return(e?t.filter(e):t).sort(p.a.comparator)},e.prototype.loadAlerts=function(e){var t=this,n=new Map;Object(l.notEmpty)(e)&&(this._log.debug(e.length+" external alert(s) where loaded"),e.map(m.a.splitById).map(function(e){var n=e.id,r=e.local;return{id:n,alert:p.a.create(t._transformRawAlert(r),t,t._positionManager,t._deltaManager)}}).forEach(function(e){var r=e.id,a=e.alert;t._addAlertBuffered(a),r&&n.set(r,a.id)}));return n},e.prototype.toString=function(){return JSON.stringify(this,void 0,2)},e.prototype.toJSON=function(){return{lenses:this._lensManager,allAlerts:this._allAlerts,idMapping:this._capiAlertsIdMapping}},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._lensManager.dispose(),this._subs=[]},e.prototype.undoApplied=function(e){var t=e.map(p.d.castApplied).map(function(e){return e.state.undoable.undo(),e.changeState(p.a.State.init)});this._lensManager.addAlerts(t),this.alertEvents.next({kind:"alert_updated",alerts:t})},e.prototype._applyFeedbackToAlert=function(e,t,n,r){this._invalidateAlert(e);var a=this._createFeedbackUndoable(e,t,r);return e.changeState(p.a.State.Applied.create(a,n))},e.prototype._applyRemoveToAlert=function(e,t){return this._invalidateAlert(e),t!==p.a.State.Removed.Reason.textChange&&e.clearCapiId(),e.changeState(p.a.State.Removed.create(t))},e.prototype._createFeedbackUndoable=function(e,t,n){var r=this;return{action:t,replacement:e.replaceText,commit:n,undo:function(){return r._registerAlert(e)}}},e.prototype._getTypeFilter=function(e){switch(e){case"alert":return function(e){return!p.a.isPlagiarism(e)};case"plagiarism":return function(e){return p.a.isPlagiarism(e)};default:return Object(l.assertNever)(e)}},e.prototype._addAlertBuffered=function(e){this._log.trace("_addAlert("+e.toLiteString()+")"),this._addAlerts.next(e)},e.prototype._changeAlertBuffered=function(e){this._log.trace("_changeAlert("+e.id+")"),this._changeAlerts.next(e)},e.prototype._removeAlertBuffered=function(e){this._log.trace("_removeAlert("+e.fold(function(e){return e.id},function(e){return e.toString()})+")"),this._removeAlerts.next(e)},e.prototype._processBufferedBatch=function(e){var t=this;return e.reduce(function(e,n){return n instanceof p.d?(n.rawId.fold(function(){e.toAddLocal.push(n)},function(r){var a=t._capiAlertsIdMapping.has(r)?t._getExistingAlertByRawId(r):void 0;a&&a.allowUpdate?(s.Option.of(e.toUpdate.get(r)).forEach(function(e){t._log.debug("got overlap in batch on update"),e.dispose()}),e.toUpdate.set(r,n)):(s.Option.of(e.toAdd.get(r)).forEach(function(e){t._log.debug("got overlap in batch on add"),e.dispose()}),e.toAdd.set(r,n)),e.toAddOrUpdate.set(r,n)}),e.toAddOrUpdate.set(n.id,n)):n instanceof Map?(Object(l.invariant)(void 0===e.rangeChanges,"unexpected rangeChanges duplicate"),e.rangeChanges=n):n instanceof s.Either?e.toRemoveUnfiltered.push(n):e.toChangeUnfiltered.push(n),e},{toAdd:new Map,toAddLocal:[],toRemoveUnfiltered:[],toChangeUnfiltered:[],toUpdate:new Map,toAddOrUpdate:new Map,rangeChanges:void 0})},e.prototype._getMergeTarget=function(e,t){var n=this;return e.swap().toOption().flatMap(function(e){return e.mergedIn}).flatMap(function(e){if(n._capiAlertsIdMapping.has(e))return Object(s.Some)(Object(s.Right)(n.get(n._getAlertId(e))));var r=s.Option.of(t.get(e)).map(function(e){return Object(s.Left)(e)});return r.isEmpty()&&n._log.warn("Merge from CAPI: Cannot find alert to merge into. capiId: #"+r),r}).filter(h(function(e){return!!e.allowUpdate||(n._log.warn("Trying to merge in a non-updatable alert, skipping. "+e.toLiteString()),!1)}))},e.prototype._swapRaw=function(e,t){var n=this,r=e.rawId.exists(function(e){return n._capiAlertsIdMapping.has(e)}),a=e.rawId.exists(function(e){return n._capiAlertsIdMapping.has(e)});Object(l.invariant)(r||a,"At least one of the swapped alerts should be registered in the system");var i=e._raw;e.updateWithRawAlert(t._raw),t.updateWithRawAlert(i),r&&this._capiAlertsIdMapping.set(e.rawId.get(),e.id),a&&this._capiAlertsIdMapping.set(t.rawId.get(),t.id)},e.prototype._updateAlertsUnbuffered=function(e){var t=this;this._log.debug("_updateAlertsUnbuffered, to update = "+e.length);var n=e.filter(this._validateAlertUpdate).map(function(e){t._log.trace("Updating alert: "+e.toLiteString());var n=t._getExistingAlertByRawId(e.rawId.get());return e.dispose(),n.enqueueRawAlertForUpdate(e._raw),n});Object(l.notEmpty)(n)&&this.alertEvents.next({kind:"alert_updated",alerts:n})},e.prototype._addAlertsUnbuffered=function(e){var t=this;this._log.debug("_addAlertsUnbuffered, count = "+e.length,{alerts:e.map(function(e){return e.toLiteString()})});var n=e.filter(this._validateAlertAdd).sort(function(e,t){return t.priority-e.priority}).reduce(function(e,n){t._log.trace("Adding alert: "+n.toLiteString());var a=t._getAlertsWithMatchingRanges(n.highlightRanges[0]),i=t._tryToMatchInvalid(n,a),o=i.alert,s=i.result;switch(t._log.trace("Adding alert match result",{inc:n.id,res:o.id,result:s}),s){case r.Merged:p.a.isNotRegistered(o)?p.a.isRemoved(o)&&t._log.warn("unexpected merge into removed alert",{alert:o,newAlert:n}):t._registerAlert(o);break;case r.Restored:t._registerAlert(o),e.alertsToUpdate.push(o),e.addToManager.push(o);break;case r.Unmatched:var c=a.filter(function(e){return o.isDuplicatedBy(e)});Object(l.invariant)(o.allowDuplicates||p.a.isAlert(o),"BaseAlertImpl must allow duplicates or be an Alert type"),o.allowDuplicates||t._tryAddAlert(o,c)?(t._log.trace("Append alert to all alerts",o.id),t._registerAlert(o),t._allAlerts.set(o.id,o),e.alertsToAdd.push(o),e.addToManager.push(o)):t._log.debug("Skip alert with low priority",o.id);break;default:Object(l.assertNever)(s)}return e},{alertsToAdd:[],alertsToUpdate:[],addToManager:[]}),a=n.alertsToAdd,i=n.alertsToUpdate,o=n.addToManager;Object(l.notEmpty)(o)&&this._lensManager.addAlerts(o),Object(l.notEmpty)(a)&&this.alertEvents.next({kind:"alert_added",alerts:a}),Object(l.notEmpty)(i)&&this.alertEvents.next({kind:"alert_updated",alerts:i})},e.prototype._getAlertsWithMatchingRanges=function(e){var t=this;return this._positionManager.findIntersections(e).filter(f.c.hasAlertId).map(function(e){return t._allAlerts.get(e.alertId)}).filter(Boolean)},e.prototype._tryToMatchInvalid=function(e,t){var n=this;return Object(l.invariant)(!e.isValid,"added alert should be invalid"),Object(l.invariant)(p.a.isRegistered(e),"added alert should be in registered state",function(){return e.toString()}),s.Option.of(t.find(function(t){return!t.isValid&&t.canBeMergedWith(e)})).fold(function(){return{alert:e,result:r.Unmatched}},function(t){return Object(l.invariant)(t.rawId.forAll(function(e){return void 0===n._capiAlertsIdMapping.get(e)}),"CAPI mapping should not contain invalid alerts"),n._log.debug("Merging new alert ("+e.toLiteString()+") into the existing one aid("+t.toLiteString()+")"),t.updateWithRawAlert(e._raw),e.dispose(),t.allowUpdate&&p.a.isCapiDone(t)?{alert:t.changeState(p.a.State.init),result:r.Restored}:{alert:t,result:r.Merged}})},e.prototype._tryAddAlert=function(e,t){var n=e;if(Object(l.notEmpty)(t)){Object(l.invariant)(1===t.length,"Only one visible alert to one range is expected while _tryEnqueueAlert","got "+t.map(function(e){return e.toString()})+" with input ("+e.toString()+")");var r=t[0];r.extraProperties.priority<e.extraProperties.priority?this._removeAndNotify([{alert:r,reason:p.a.State.Removed.Reason.capiDismiss}]):(n=r,e.dispose())}return n===e},e.prototype._removeAndNotify=function(e){var t=this;this._log.debug("_applyRemovedState "+JSON.stringify(e));var n=e.map(function(e){var n=e.alert,r=e.reason;return t._applyRemoveToAlert(n,r)});this._notifySystem(n)},e.prototype._startAlertsChecking=function(e){var t=this,n=e.map(function(e){return t._recheckedAlerts.add(e.id),e.changeState(p.a.State.Registered.create(p.a.CheckingState.CHECKING))});this.alertEvents.next({kind:"alert_updated",alerts:n})},e.prototype._finishAlertsChecking=function(){var e=this,t=Array.from(this._recheckedAlerts.values()).map(function(t){var n=e._getExistingAlert(t);return p.a.isRegistered(n)?e._finishAlertChecking(n):void e._log.warn("tried to update checking state on not registered alert",t)}).filter(Boolean);Object(l.notEmpty)(t)&&this.alertEvents.next({kind:"alert_updated",alerts:t})},e.prototype._finishAlertChecking=function(e){return Object(l.invariant)(this._recheckedAlerts.delete(e.id),"tried to finish checnking on alert which had not been makred as checking"),this._log.debug("Stopped watching checking state for alert",e.id),e.changeState(a.__assign({},e.state,{checkingState:p.a.CheckingState.IDLE}))},e.prototype._terminateAlertChecking=function(e){var t=e.id;this._recheckedAlerts.delete(t)&&this._log.debug("Stopped watching checking state for alert",t)},e.prototype._commitToCapi=function(e,t){var n=this;e.rawId.fold(function(){return n._log.debug("skip feedback for local alert",e)},function(r){return n._capiClient.capi.reportAlertFeedback(r,e.replaceRange.start,t)})},e.prototype._notifySystem=function(e){var t=this,n=l.ArrayUtils.partition(e,function(e){return e.references>0}),r=n[0],a=n[1];Object(l.notEmpty)(r)&&this.alertEvents.next({kind:"alert_updated",alerts:r}),Object(l.notEmpty)(a)&&this._cleanupAlerts(a),this._lensManager.removeAlerts(e),e.forEach(function(e){return t._terminateAlertChecking(e)})},e.prototype._cleanupAlerts=function(e){e.filter(p.a.isApplied).forEach(function(e){p.d.castApplied(e).state.undoable.commit()}),this.alertEvents.next({kind:"alert_removed",alerts:e}),e.forEach(this._disposeAlert)},e}()},ZOx9:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("mrSG"),a=n("oZTP"),i=n("t2Ba"),o=n("n3Ao"),s=n("AW4s"),c=n("p9uY"),l=n("fOM/"),u=function(){function e(){}return e.get=function(e,t){return{create:function(n){return new d(e,t,n)}}},e}(),d=function(){function e(e,t,n){var r=this;this._counters=e,this._documentLength=t,this._ops=n,this._subs=[],this.lenses=a.Atom.create(o.a.Sorted.empty("id",c.a.comparator)),this.createLens=function(e,t,n){return void 0===t&&(t=c.a.Meta.empty),new c.a.LensImpl(e,t,r._ops,n)},this.updatePercentiles=function(e){r.lenses.modify(function(t){return t.patchWith(e,function(e,t,n){return n.map(function(e){return e.value.updateMeta(c.a.Meta.ratioToPercentile(t))})})})},this._recalcLensIdsPercentile=function(e){return r._documentLength.skip(1).withLatestFrom(r.lenses,function(t,n){return n.patchWith(e.map(function(e){return[e,function(e){return e.value.updateMeta(c.a.Meta.textLengthToPercentile(t))}]}),function(e,t,n){return n.map(t)})})},this._lensesChangesByTextLength=this.lenses.view(function(e){return e.filter(function(e){return e.meta.textLength>0}).keys()}).filter(i.notEmpty).switchMap(this._recalcLensIdsPercentile),this._subs.push(this._lensesChangesByTextLength.subscribe(o.e.toAtom(this.lenses)))}return e.prototype.addAlerts=function(e){var t=this._calculateChange(e),n=t.toUpdate,r=t.counters;this.lenses.modify(function(e){return e.modifyWith(n,function(e,t,n){var r=t.fallback,a=t.meta;return n.fold(function(){return r(a)},function(e){return e.value.appendMeta(a)})})}),this._counters.modify(function(e){var t=s.b.join(e,r);return Object(i.invariant)(s.b.isValid(t),"counters, after add, can not be below zero",function(){return JSON.stringify({inc:r,was:e,result:t})}),t})},e.prototype.removeAlerts=function(e){var t=this._calculateChange(e),n=t.counters,r=t.toUpdate;this.lenses.modify(function(e){return e.patchWith(r,function(e,t,n){var r=t.meta;return n.map(function(e){return e.value.appendMeta(c.a.Meta.reverse(r))}).filter(function(e){return e.count>0})})}),this._counters.modify(function(e){var t=s.b.reverse(n),r=s.b.join(e,t);return Object(i.invariant)(s.b.isValid(r),"counters, after subtract, can not be below zero",function(){return JSON.stringify({inc:t,was:e,result:r})}),r})},e.prototype.readAlert=function(e){if(!e.isRead){Object(i.invariant)(l.a.belongsToAllAlerts(e),"readAlert called on an unexpected alert type",e.title);var t=[e.lensId,c.a.SpecialId.AllAlerts].map(function(e){return[e,function(e){return e.value.appendMeta(r.__assign({},c.a.Meta.empty,{unreadCount:e.value.unreadCount>0?-1:0}))}]});this.lenses.modify(function(e){return e.patchWith(t,function(e,t,n){return n.map(t)})}),this._counters.lens("unread").modify(function(e){return e-1})}},e.prototype.toString=function(){return JSON.stringify(this,void 0,2)},e.prototype.toJSON=function(){return this.lenses.get().values()},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype._calculateChange=function(e){var t=this,n=this._documentLength.get();return e.reduce(function(e,a){var i=a.lensId,o=c.a.Meta.fromAlert(a.counters,n),u=e.toUpdate.get(i);if(u?u.meta=c.a.Meta.join(u.meta,o):e.toUpdate.set(i,{meta:o,fallback:function(e){return t.createLens(l.a.toLens(a),e)}}),l.a.belongsToAllAlerts(a)){var d=r.__assign({},o,{textLength:0,percentile:0}),p=e.toUpdate.get(c.a.SpecialId.AllAlerts);p?p.meta=c.a.Meta.join(p.meta,d):e.toUpdate.set(c.a.SpecialId.AllAlerts,{meta:d,fallback:function(e){return t.createLens(c.a.Info.allAlerts,e,l.a.belongsToAllAlerts)}})}return e.counters=s.b.join(e.counters,a.counters),e},{counters:s.b.empty,toUpdate:new Map})},e}()},"a/fV":function(e,t,n){"use strict";var r,a,i=n("ERkP"),o=n("RCFH"),s=n("mrSG"),c=n("oZTP"),l=n("rtH6"),u=n("n3Ao"),d=n("lycr"),p=n("xEd5"),m=n("t2Ba"),f=n("6v47"),h=n("ePPH"),g=n("CrFT"),v=n("mEc7"),b=n("UI30"),y=n("w3nh");(a=r||(r={})).SlowPlane=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"37",height:"34",className:y.svgSlowPlane},i.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(0 1)"},i.createElement("rect",{width:"21",height:"16",x:"16",y:"17",fill:"#FFC2C2",rx:"3"}),i.createElement("rect",{width:"31.5",height:"25.5",x:"0.75",y:"2.75",stroke:"#3B3E4D",strokeWidth:"1.5",rx:"4"}),i.createElement("path",{stroke:"#3B3E4D",strokeWidth:"1.5",d:"M.422 9.663h31.76"}),i.createElement("path",{stroke:"#3B3E4D",strokeLinecap:"round",strokeWidth:"1.5",d:"M7.5 5V0M25.5 5V0"})))},a.MiddlePlane=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"41",height:"37",className:y.svgMiddlePlane},i.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(1)"},i.createElement("path",{fill:"#CDDBFF",d:"M39.994 21H19V.006c.166-.004.333-.006.5-.006C30.822 0 40 9.178 40 20.5c0 .167-.002.334-.006.5z"}),i.createElement("circle",{cx:"17",cy:"19",r:"17",stroke:"#3B3E4D",strokeWidth:"1.5"}),i.createElement("path",{stroke:"#3B3E4D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M16.5 6v13.5h9"})))},a.QuickPlane=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"51",className:y.svgQuickPlane},i.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(1 1)"},i.createElement("path",{fill:"#C5F7EB",d:"M19 10c11.046 0 20 8.954 20 20s-8.954 20-20 20V10z"}),i.createElement("circle",{cx:"17",cy:"27",r:"17",stroke:"#3B3E4D",strokeWidth:"1.5"}),i.createElement("path",{stroke:"#3B3E4D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17.5 27v13.5M17 6v3.5"}),i.createElement("circle",{cx:"17",cy:"3",r:"3",stroke:"#3B3E4D",strokeWidth:"1.5"}),i.createElement("path",{stroke:"#3B3E4D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M30.688 9.093l4.815 4.814M29.354 15.182l2.828-2.828"})))};var _,E,w=n("L096"),C=Object(v.g)(function(e,t){var n=e.proofit,r=e.close;l.a.useSubscriptionTo(n.requestPlans);var a=t.textResources.denali.proofitOrderModal;return i.createElement(c.F.div,{className:y.proofitDetailsWrapper},n.viewStateAndSubscription.map(function(e){var n=e[0],o=e[1];return n.fold(function(){return i.createElement(b.a,{variation:"blue",className:y.loader})},function(e){return i.createElement("div",null,i.createElement(f.Base,null,a.order.title),i.createElement(c.F.div,{className:y.plansContainer,"data-name":"proofit-order"},e.plans.map(function(t){return i.createElement(k,{key:t.details.turnaround,proofitState:e.proofitState,plan:t})})),i.createElement("div",{className:y.summary},i.createElement("div",{className:y.paymentWarningWrapper},e.selectedPlan.nonEmpty()&&i.createElement("div",null,i.createElement(S,{key:"PaymentWarning"+e.selectedPlan.get().details.turnaround,price:e.selectedPlan.get().details.price,subscription:o.value})),e.selectedPlan.isEmpty()&&i.createElement("div",null,i.createElement(f.Small,{className:y.pre},a.order.warningConfirm))),i.createElement("div",{className:y.summaryButtons},i.createElement(c.F.div,{className:y.placeOrderWrapper},e.selectedPlan.isEmpty()&&i.createElement(h.a.Primary,{key:"place-order",name:"place-order",className:y.placeOrderButton,title:a.order.chooseOptions,disabled:!0},a.order.placeOrder),e.selectedPlan.nonEmpty()&&i.createElement(h.a.Primary,{key:"place-order",name:"place-order",className:y.placeOrderButton,onClick:u.d.callOnce(function(){t.gnarSpec.professionalProofreadingPlaceOrderButtonClick(t.docId,t.pageId,d.Proofit.PlanType.getPlanName(e.selectedPlan.get().details.turnaround)),e.selectedPlan.get().placeOrder()}),active:!0,disabled:g.c.isSendingState(e.proofitState)},a.order.placeOrder,e.proofitState.fold(function(){return i.createElement(b.a,{className:y.planLoading,variation:"white",size:18})},function(){return null}))),i.createElement(h.a.Ghost,{key:"close",name:"close",className:y.closeButton,onClick:r},t.textResources.denali.actions.close))))})}))}),k=Object(v.g)(function(e,t){var n=e.plan,a=e.proofitState,o=n.details,l=o.label,u=t.textResources.denali.proofitOrderModal;return i.createElement(c.F.div,{className:n.details.enabled?y.planWrapper:y.planWrapperDisabled,"data-name":l.replace(" ","")},i.createElement("div",{className:y.iconContainer},function(e){switch(e){case d.Proofit.PlanType.TwentyFourHours:return i.createElement(r.SlowPlane,null);case d.Proofit.PlanType.ThreeHours:return i.createElement(r.MiddlePlane,null);case d.Proofit.PlanType.Instant:return i.createElement(r.QuickPlane,null);default:return void Object(m.assertNever)(e)}}(o.turnaround)),i.createElement(c.F.div,{className:y.plans},i.createElement(c.F.div,{className:y.planContainer},i.createElement("div",null,n.details.enabled&&o.turnaround===d.Proofit.PlanType.Instant&&i.createElement(f.Button,{className:y.recommended},u.order.recommended),i.createElement(f.Paper,{className:y.planTitle},l),i.createElement("div",{className:y.priceWrapper},i.createElement(f.Base,{className:y.price,"data-name":"turnaround-price"},"$",m.StringUtils.formatPrice(o.price)),i.createElement(f.Lawyer,null,i.createElement("span",{"data-name":"price-per-word"},"$",o.perWord)," ",u.order.perWord))),n.active.view(function(e){return e?i.createElement(h.a.Primary,s.__assign({key:"selected-order",name:"selected-order"},Object(c.classes)(y.button,y.orderButton),{onClick:function(){return t.gnarSpec.professionalProofreadingUnselectButtonClick(t.docId,t.pageId,d.Proofit.PlanType.getPlanName(n.details.turnaround)),n.unselect()},active:!0,disabled:g.c.isSendingState(a)}),t.textResources.denali.statuses.selected):i.createElement(h.a.Ghost,s.__assign({key:"select-order",name:"select-order"},Object(c.classes)(y.button,y.orderButton),{onClick:function(){return t.gnarSpec.professionalProofreadingSelectButtonClick(t.docId,t.pageId,d.Proofit.PlanType.getPlanName(n.details.turnaround)),n.select()},disabled:!n.details.enabled||g.c.isSendingState(a)}),n.details.enabled?t.textResources.denali.actions.select:t.textResources.denali.statuses.unavailable)}))))}),S=Object(v.g)(function(e,t){var n=e.price,r=e.subscription,a=t.textResources.denali.proofitOrderModal.order.paymentWarnings;switch(r.paymentMethod){case"payPal":return i.createElement(f.Small,{className:y.paymentWarning},a.payPal(n));case"creditCard":return r.creditCard||p.Monitoring.Logging.getLogger("ProofitView").warn("Missing credit card"),i.createElement(f.Small,{className:y.paymentWarning},a.creditCard(n)," ",i.createElement(v.d,{destination:w.a.billing.href({})},a.updateBilling));default:return p.Monitoring.Logging.getLogger("ProofitView").warn("Unknown payment method: "+r.paymentMethod),i.createElement(i.Fragment,null)}}),M=n("Jguk"),A=n("FTyx");(E=_||(_={})).Dots=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},i.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(16 16)"},i.createElement("circle",{cx:"10",cy:"10",r:"26",fill:"#EFF4FF"}),i.createElement("circle",{cx:"10",cy:"10",r:"18",fill:"#DCE7FF"}),i.createElement("circle",{cx:"10",cy:"10",r:"9",fill:"#9DBBFF"})))},E.PathFrom1To2=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 314 49"},i.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#EBF0FF",strokeWidth:"2",d:"M1 0v8.5c0 8.837 7.163 16 16 16h280c8.837 0 16 7.163 16 16V48"}))},E.PathFrom2To3=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 314 49"},i.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#EBF0FF",strokeWidth:"2",d:"M313 0v8.5c0 8.837-7.163 16-16 16H17c-8.837 0-16 7.163-16 16v8.054"}))},E.Illustration=function(){return i.createElement("svg",{viewBox:"0 0 432 296",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},i.createElement("defs",null,i.createElement("path",{d:"M562,3 C562,83 430.204272,225.039762 318.380193,227 C251.656819,228.169638 194.76078,245.646649 156.426437,283 C122.849899,315.7173 28.718061,288.818016 12.9452193,301.609489 C-20.6124065,328.824083 12.9452193,419 94.3182261,362.425988 C175.691233,305.851977 173.663757,404.669157 238.24,392.399927 C269.889017,386.386739 323.865886,388.63911 362.242863,396.392987 C511.421672,426.533823 511.844211,635.1185 548,615.5 C605.82398,584.124119 562,-42.6094389 562,3 Z",id:"path-1"}),i.createElement("path",{d:"M19.3089215,7.937541 C17.6497662,9.75781021 11.3030739,19.3772256 10.9573251,21.58956 C10.6111662,23.8014846 9.82369558,40.4892442 10.9573251,40.6740835 C12.0905445,40.8589229 15.6173464,40.6740835 15.6173464,40.6740835 C15.6173464,40.6740835 17.6217051,25.3197123 18.1934416,23.656568 C18.7647679,21.9934237 27.4076677,15.0137914 31.660419,10.9481454 C35.9135805,6.88290921 34.064255,2.91029763 34.064255,2.91029763 L20.0579422,0.319267969 C20.0579422,0.319267969 7.57079144,7.18291455 1.97728943,15.2236312 C-0.695188878,19.0655028 0.323601194,33.676828 0.323601194,33.676828 C0.323601194,33.676828 3.2155049,34.1965094 4.57799307,33.1940326 C4.94794019,29.6824948 5.23339828,24.3360883 6.50155404,20.4544619 C6.66437999,19.9565022 6.94286568,19.5048549 7.32921843,19.1507502",id:"path-3"}),i.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-5"},i.createElement("stop",{stopColor:"#B6CAFF",offset:"0%"}),i.createElement("stop",{stopColor:"#7CA1FF",offset:"100%"})),i.createElement("path",{d:"M0.260606478,48.0753261 L12.1340822,48.0753261 C17.114047,57.187615 26.7976771,63.3697253 37.9276223,63.3697253 C54.1444201,63.3697253 67.2907322,50.2452817 67.2907322,34.0554601 C67.2907322,25.5804005 63.6882211,17.9453528 57.9285812,12.593295 L57.9285812,0.815669031 C68.6856756,7.78180737 75.8017785,19.8765665 75.8017785,33.6306157 C75.8017785,55.2170445 58.2733624,72.7163027 36.6509653,72.7163027 C20.1393555,72.7163027 6.01510052,62.5118246 0.260610064,48.0753266 Z",id:"path-6"}),i.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-8"},i.createElement("stop",{stopColor:"#B6CAFF",offset:"0%"}),i.createElement("stop",{stopColor:"#7CA1FF",offset:"100%"}))),i.createElement("g",{id:"Page-1",fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"Initial---Proofread-02-08",transform:"translate(-288 -265)"},i.createElement("g",{id:"Popup",transform:"translate(288 60)"},i.createElement("g",{id:"Left",transform:"translate(0 68)"},i.createElement("g",{transform:"translate(-28 -27)",id:"Illustration"},i.createElement("g",{id:"Group-3"},i.createElement("mask",{id:"mask-2",fill:"#fff"},i.createElement("use",{xlinkHref:"#path-1"})),i.createElement("use",{id:"Oval-5",fill:"#F5F5FF",xlinkHref:"#path-1"}),i.createElement("path",{d:"M146.788506,257.081856 L280.453567,257.081856 C287.080984,257.081856 292.453567,262.454439 292.453567,269.081856 L292.453567,390.02113 L134.788506,372.12887 L134.788506,269.081856 C134.788506,262.454439 140.161089,257.081856 146.788506,257.081856 Z",id:"Rectangle",fill:"#E4E6F2",mask:"url(#mask-2)"})),i.createElement("ellipse",{id:"Oval",fill:"#F1F2FA",cx:"130.315",cy:"408.986",rx:"43.706",ry:"5.763"}),i.createElement("ellipse",{id:"Oval",fill:"#F1F2FA",cx:"329.556",cy:"436.032",rx:"75.885",ry:"12.968"}),i.createElement("g",{id:"Paper",transform:"translate(131.678 263.563)"},i.createElement("path",{d:"M8,0 L144.952351,-3.01980663e-14 C149.370629,-3.10096908e-14 152.952351,3.581722 152.952351,8 L152.952351,126.001947 C152.952351,130.386158 149.423632,133.953611 145.039682,134.001471 L70.9944988,134.809829 L0,112.933059 L0,8 C-5.41083001e-16,3.581722 3.581722,8.11624501e-16 8,0 Z",id:"Rectangle",fill:"#FFF"}),i.createElement("path",{d:"M25.1170739,54.1515434 C24.314287,54.1515434 23.6634997,53.5038202 23.6634997,52.7048131 C23.6634997,51.905806 24.314287,51.2580827 25.1170739,51.2580827 L128.391903,51.2580827 C129.19469,51.2580827 129.845477,51.905806 129.845477,52.7048131 C129.845477,53.5038202 129.19469,54.1515434 128.391903,54.1515434 L25.1170739,54.1515434 Z M25.1170739,65.002021 C24.314287,65.002021 23.6634997,64.3542978 23.6634997,63.5552907 C23.6634997,62.7562835 24.314287,62.1085603 25.1170739,62.1085603 L76.1646321,62.1085603 C76.967419,62.1085603 77.6182064,62.7562835 77.6182064,63.5552907 C77.6182064,64.3542978 76.967419,65.002021 76.1646321,65.002021 L25.1170739,65.002021 Z M71.0771224,42.9393832 C70.2743355,42.9393832 69.6235482,42.29166 69.6235482,41.4926529 C69.6235482,40.6936458 70.2743355,40.0459225 71.0771224,40.0459225 L128.391903,40.0459225 C129.19469,40.0459225 129.845477,40.6936458 129.845477,41.4926529 C129.845477,42.29166 129.19469,42.9393832 128.391903,42.9393832 L71.0771224,42.9393832 Z M25.1170739,75.8524986 C24.314287,75.8524986 23.6634997,75.2047754 23.6634997,74.4057682 C23.6634997,73.6067611 24.314287,72.9590379 25.1170739,72.9590379 L128.391903,72.9590379 C129.19469,72.9590379 129.845477,73.6067611 129.845477,74.4057682 C129.845477,75.2047754 129.19469,75.8524986 128.391903,75.8524986 L25.1170739,75.8524986 Z M25.1170739,30.3457684 C24.314287,30.3457684 23.6634997,29.6980452 23.6634997,28.8990381 C23.6634997,28.100031 24.314287,27.4523077 25.1170739,27.4523077 L128.391903,27.4523077 C129.19469,27.4523077 129.845477,28.100031 129.845477,28.8990381 C129.845477,29.6980452 129.19469,30.3457684 128.391903,30.3457684 L25.1170739,30.3457684 Z M25.1170739,86.7029762 C24.314287,86.7029762 23.6634997,86.0552529 23.6634997,85.2562458 C23.6634997,84.4572387 24.314287,83.8095155 25.1170739,83.8095155 L58.7217415,83.8095155 C59.5245284,83.8095155 60.1753157,84.4572387 60.1753157,85.2562458 C60.1753157,86.0552529 59.5245284,86.7029762 58.7217415,86.7029762 L25.1170739,86.7029762 Z",id:"Combined-Shape",fill:"#E4E6F2",fillRule:"nonzero"}),i.createElement("path",{d:"M64.5360384,86.7029762 C63.7332515,86.7029762 63.0824642,86.0552529 63.0824642,85.2562458 C63.0824642,84.4572387 63.7332515,83.8095155 64.5360384,83.8095155 L87.7932259,83.8095155 C88.5960128,83.8095155 89.2468001,84.4572387 89.2468001,85.2562458 C89.2468001,86.0552529 88.5960128,86.7029762 87.7932259,86.7029762 L64.5360384,86.7029762 Z M25.1170739,42.9393832 C24.314287,42.9393832 23.6634997,42.29166 23.6634997,41.4926529 C23.6634997,40.6936458 24.314287,40.0459225 25.1170739,40.0459225 L64.5360384,40.0459225 C65.3388253,40.0459225 65.9896126,40.6936458 65.9896126,41.4926529 C65.9896126,42.29166 65.3388253,42.9393832 64.5360384,42.9393832 L25.1170739,42.9393832 Z M81.978929,65.002021 C81.1761421,65.002021 80.5253548,64.3542978 80.5253548,63.5552907 C80.5253548,62.7562835 81.1761421,62.1085603 81.978929,62.1085603 L128.391903,62.1085603 C129.19469,62.1085603 129.845477,62.7562835 129.845477,63.5552907 C129.845477,64.3542978 129.19469,65.002021 128.391903,65.002021 L81.978929,65.002021 Z",id:"Combined-Shape",fill:"#EC5050",fillRule:"nonzero"})),i.createElement("g",{id:"Man-w-Pencil",transform:"translate(85.83 290.871)"},i.createElement("g",{id:"Pencil",transform:"rotate(-20 53.447 9.198)"},i.createElement("polygon",{id:"Fill-7",fill:"#6089F3",points:"42.7306681 76.025911 38.0871006 78.5584871 5.7923657 19.3303867 10.4363805 16.7978106"}),i.createElement("polygon",{id:"Fill-9",fill:"#7CA1FF",points:"47.3737436 73.4936929 42.7306234 76.0258215 10.4363358 16.7981685 15.0799033 14.2651451"}),i.createElement("polygon",{id:"Fill-14",fill:"#A2BCFF",points:"52.0172216 70.9610721 47.3736541 73.4936481 15.0798138 14.2655477 19.7233813 11.7329717"}),i.createElement("path",{d:"M52.6528102,81.32316 L53.0585241,87.968432 C53.0938619,88.6260697 52.3455054,89.0345208 51.8190167,88.6444119 L46.4534843,84.7044018 L52.6528102,81.32316 Z",id:"Fill-16",fill:"#EC5050"}),i.createElement("polygon",{id:"Fill-19",fill:"#FFF",points:"19.7232471 11.7331059 5.79254463 19.3299393 3.91695668 15.889197 17.8467646 8.29191616"}),i.createElement("path",{d:"M17.8466304,8.29178195 L3.91682248,15.8890627 L0.608487518,9.82269085 C-0.349659249,8.06406932 0.298051544,5.86165421 2.05644321,4.90293482 L9.61962974,0.777712456 C11.3780214,-0.181006937 13.5801486,0.4672359 14.5387427,2.22496268 L17.8466304,8.29178195 Z",id:"Fill-21",fill:"#FFC2C2"})),i.createElement("g",{id:"Foots",transform:"translate(20.342 66.04)"},i.createElement("path",{d:"M22.9728849,46.0241608 C22.9728849,46.0241608 21.9372998,46.5011779 20.2725812,46.4607201 L20.3172716,49.3228228 C20.3172716,49.3228228 21.4903955,49.511626 22.2682401,49.3659778 L22.5687447,48.62926 L23.2051981,49.4106741 C23.2051981,49.4106741 26.9314554,49.9512678 28.8535292,49.7882806 C28.8535292,49.7882806 29.0738993,48.9529226 28.1581307,48.5676099 C27.2419769,48.1826825 25.1542403,47.6494098 24.5624773,47.2259511 C23.9703291,46.8024925 22.9728849,46.0241608 22.9728849,46.0241608",id:"Fill-23",fill:"#3B3E4D"}),i.createElement("path",{d:"M4.13320993,43.43983 C4.13320993,43.43983 3.0267365,43.166258 1.7511329,42.095474 L-0.000269683636,44.3588008 C-0.000269683636,44.3588008 0.79837914,45.238855 1.49685976,45.6110671 L2.19148775,45.2226718 L2.20073405,46.2302646 C2.20073405,46.2302646 4.77428646,48.9794707 6.37736304,50.0517959 C6.37736304,50.0517959 7.07160577,49.5370181 6.59657731,48.6646702 C6.12116358,47.7915516 4.82321477,46.071901 4.62480467,45.3714026 C4.42677983,44.6705188 4.13320993,43.43983 4.13320993,43.43983",id:"Fill-27",fill:"#3B3E4D"}),i.createElement("path",{d:"M7.77756387,2.8459536 C4.72919113,8.61268399 11.8341253,20.6008102 14.5745244,24.8489352 L14.5745244,24.8489352 C15.2562232,25.9060036 15.7062805,27.095158 15.8990002,28.3419567 L15.8990002,28.3419567 L18.6223946,45.4535629 L23.2922583,44.4736081 C23.2922583,44.4736081 23.8662608,28.355318 23.2079906,24.1999585 L23.2079906,24.1999585 C22.5497205,20.0438355 21.233558,6.05724289 21.233558,6.05724289 L21.233558,6.05724289 C21.233558,6.05724289 15.8555438,0.360372931 11.5612947,0.360372931 L11.5612947,0.360372931 C10.0841546,0.360372931 8.73511643,1.03454517 7.77756387,2.8459536",id:"Fill-33",fill:"#C6CBDE"}),i.createElement("path",{d:"M6.76242072,28.533 C6.07445196,30.0274634 1.70046824,40.3121095 1.70046824,40.3121095 L6.66086342,43.2651117 C6.66086342,43.2651117 14.3506694,30.8491914 15.3564142,27.5225733 C18.010205,20.3519742 22.5283497,6.65570873 20.917261,3.88569821 C20.917261,3.88569821 17.7020601,3.3933421 14.1358546,3.3933421 C9.65376155,3.39372025 4.61801741,4.17120425 4.71817068,7.68047057 C4.89882098,13.9816456 7.45038948,27.0389147 6.76242072,28.533 Z",id:"Clip-37",fill:"#E4E6F2"}),i.createElement("path",{d:"M15.8990002,28.3419567 L18.6223946,45.4535629 L23.2922583,44.4736081 C23.2922583,44.4736081 23.8662608,28.355318 23.2079906,24.1999585 C22.9678434,22.6837403 22.6401371,19.8591813 22.3207189,16.8826816",id:"Fill-33",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M4.38018352,7.17986789 C4.43184215,9.38630245 4.71940381,12.415885 5.04863335,15.492005 C5.66561059,21.2566637 6.42892078,27.1847565 6.06024614,28.1651834 C5.49484045,29.6691633 1.90009107,40.0193007 1.90009107,40.0193007 L5.97678149,42.9911073 C5.97678149,42.9911073 13.5016783,30.5767367 14.3282476,27.2289352 C15.8990002,24.0434641 17.0905734,21.1594864 17.9675545,17.6725218",id:"Clip-37",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),i.createElement("g",{id:"Group-53",transform:"translate(23.743 31.196)"},i.createElement("path",{d:"M5.88330653,16.7886512 C7.71829147,14.4054718 11.7570817,13.3014505 14.1361803,16.3023169 C17.4145376,20.4378064 18.8620539,42.1072252 18.6917335,47.5251683 C18.6917335,47.5251683 6.00348395,47.8151799 0,46.8961822 C0,46.8961822 2.46653803,21.226393 5.88330653,16.7886512",id:"Fill-39",fill:"#FFF"}),i.createElement("path",{d:"M18.6917335,39.5094009 L18.6917335,47.5251683 C18.6917335,47.5251683 6.00348395,47.8151799 0,46.8961822 C0,46.8961822 2.46653803,21.226393 5.88330653,16.7886512",id:"Fill-39",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M14.9421691,6.41326474 C14.9962749,6.53196769 15.0809118,6.73057424 15.1705729,6.94454687 C15.3603297,7.397462 15.7529832,7.70132618 16.1916267,7.92567091 C16.2426408,7.95140909 16.278969,7.98713522 16.2901766,8.03592251 C16.3160701,8.14771073 16.1672791,8.35745768 15.9995511,8.5499178 C15.7522103,8.83572684 15.6629357,9.22256784 15.7553021,9.58828048 C15.9381024,10.3108703 16.1576174,11.4456551 15.8101808,11.6784512 C15.2923109,12.0257245 13.5605386,12.6253857 13.5605386,12.6253857 L13.0909775,15.5234279 C13.0909775,15.5234279 12.4730119,16.4661367 9.75651385,15.8707012 C8.83671512,15.6694056 8.451018,15.2871744 8.451018,15.2871744 L8.80541104,12.4456026 C8.80541104,12.4456026 6.16929879,9.67471467 7.54088102,6.97796808 C8.91284972,4.28045319 13.6583155,3.58244913 14.9421691,6.41326474",id:"Fill-41",fill:"#FFF"}),i.createElement("path",{d:"M8.86995889,8.11469929 C9.21616083,7.20911238 11.7652159,6.145276 13.841969,5.96876698 C15.917805,5.79225796 18.9854752,3.72675465 18.028032,2.76073731 C17.0701302,1.79471997 14.8594818,1.50474087 14.2207277,1.6855974 C13.5815151,1.86688868 14.5687638,0.307870601 13.5310751,0.190053005 C12.4929278,0.0722354085 6.21910668,1.50126286 5.62162174,4.7505939 C4.94022295,8.45510954 6.59144572,11.67053 8.8589538,12.9252222 L8.79521596,11.3579438 C8.79521596,11.3579438 6.91151056,10.5271341 7.1793012,9.5476395 C7.34942162,8.92507567 8.18168192,9.13940805 8.56502606,9.52590193 C8.56502606,9.52590193 8.74064903,8.45337053 8.86995889,8.11469929",id:"Fill-45",fill:"#3B3E4D"}),i.createElement("path",{d:"M22.1015227,32.9159145 C22.9821402,33.1976128 26.5951289,32.8827012 26.9494449,32.731806 C27.555489,32.4738901 27.4128144,32.2475474 27.4128144,32.2475474 C28.0925666,32.0560582 28.0214448,31.655448 28.0214448,31.655448 C28.7339561,31.2376161 27.8498903,31.0022524 27.8498903,31.0022524 C28.4878315,30.2088228 26.7028892,30.2289148 26.1843465,30.300262 C25.9033075,30.3388059 24.6748396,30.3215841 24.6748396,30.3215841 C24.6748396,30.3215841 24.7382027,30.0296348 25.053725,29.811903 C25.3024359,29.6405058 25.8597723,29.5023219 26.0317578,29.034875 C26.1472769,28.7220136 24.1950906,29.3026319 23.5226661,29.7134931 C22.9812781,30.0443963 22.1105746,31.1535576 22.1105746,31.1535576 L16.7876448,30.0800699 L15.6165055,32.6235552 L22.1015227,32.9159145 Z",id:"Fill-47",fill:"#FFF"}),i.createElement("path",{d:"M13.9235043,20.3536067 C13.7079836,22.6699292 14.0597134,26.8658803 14.566618,27.8548996 M17.4433881,33.6118774 C17.4433881,33.6118774 12.4351185,32.5711929 11.3368251,31.4837638 C9.57731428,29.7410889 6.91261659,24.0698097 7.28288112,20.0723185 C7.53719552,17.3283231 10.6174171,15.5606357 12.440291,16.8022403",id:"Fill-49",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M17.2332067,35.5617231 C17.2332067,35.5617231 18.6601238,35.9953446 19.5185243,35.786864 C19.5185243,35.786864 20.0910119,31.1840821 19.2306259,30.0664823",id:"Fill-51",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),i.createElement("g",{id:"Man-on-the-ladder",transform:"translate(324.404 272.184)"},i.createElement("g",{id:"Ladder",transform:"translate(0 53.704)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"},i.createElement("path",{d:"M42.2873305,0.458915597 L63.6754936,103.759193",id:"Path-3",stroke:"#8189A9"}),i.createElement("path",{d:"M32.9242085,34.1090085 L44.562667,103.759193",id:"Path-3",stroke:"#8189A9"}),i.createElement("path",{d:"M32.9242085,8.08373708 L16.0882387,103.759193",id:"Path-3",stroke:"#C6CBDE"}),i.createElement("path",{d:"M18.1687635,14.8540285 L0.61595046,103.759193",id:"Path-3",stroke:"#C6CBDE"}),i.createElement("path",{d:"M0.910134603,95.109066 L14.1070863,95.109066",id:"Path-4",stroke:"#C6CBDE"}),i.createElement("path",{d:"M48.237134,95.109066 L61.4340857,95.109066",id:"Path-4",stroke:"#8189A9"}),i.createElement("path",{d:"M33.6749803,22.2982978 L46.8719321,22.2982978",id:"Path-4",stroke:"#8189A9"}),i.createElement("path",{d:"M4.55067302,79.6367778 L17.7476248,79.6367778",id:"Path-4",stroke:"#C6CBDE"}),i.createElement("path",{d:"M10.0114806,65.0746241 L23.2084324,65.0746241",id:"Path-4",stroke:"#C6CBDE"}),i.createElement("path",{d:"M10.0114806,50.5124705 L23.2084324,50.5124705",id:"Path-4",stroke:"#C6CBDE"}),i.createElement("path",{d:"M12.7418844,35.0401822 L25.9388362,35.0401822",id:"Path-4",stroke:"#C6CBDE"})),i.createElement("g",{id:"Group-26",transform:"translate(6.502 20.418)"},i.createElement("path",{d:"M9.75957787,4.94046636 C9.70096056,4.96496089 7.92645459,4.90005037 7.38004284,5.42586642 C7.07670849,5.72388328 4.6406057,5.16132543 4.27578465,5.44342084 C4.03885593,5.62141447 3.76708474,5.80675646 3.48383604,5.97291107 C3.21083512,5.87901535 1.43263995,5.25317994 1.09241358,2.89803026 C1.66956868,2.83434446 0.252505354,2.4861138 0.252505354,2.4861138 C1.04814317,2.24198492 1.29572958,1.88477293 0.612817377,1.15810168 C0.471807893,1.00827677 0.353753442,0.462865091 0.428357297,0.257519227 C0.530425208,-0.0449882986 0.861633529,0.0272705839 1.0313368,0.27425716 C1.86878556,1.45407733 2.9193882,1.53613403 3.80889569,2.4175291 C3.86259407,2.46366048 8.4716366,3.5589745 8.61141635,3.48385792 C9.60053229,2.9090528 10.7417253,4.47180423 9.75957787,4.94046636",id:"Fill-16",fill:"#E4E6F2"}),i.createElement("path",{d:"M19.1178936,61.1367709 C18.9617174,59.9696062 18.3821028,57.9504399 18.3821028,57.9504399 L16.5395516,58.1945688 C16.5395516,58.1945688 16.1427574,58.8383669 14.7556176,59.2437515 C13.3705274,59.6536267 11.7304723,59.3119279 10.9135191,59.6287239 C10.4413013,59.8095752 10.2392151,60.6517791 10.1478049,61.330686 C10.128539,61.4809191 10.1150119,61.6229874 10.1059939,61.7487261 C10.0863182,62.0144918 10.2998819,62.2398415 10.5683738,62.2382085 C12.3908394,62.2275942 18.7665996,62.1712568 19.0773124,61.9287609 C19.1724118,61.8569103 19.171592,61.5486873 19.1178936,61.1367709",id:"Fill-18",fill:"#3B3E4D"}),i.createElement("path",{d:"M16.024744,55.4544875 L16.2956954,58.3966896 C16.343655,58.9176067 16.7711924,59.3229913 17.2962888,59.3446281 C17.8845115,59.3695309 18.3780447,58.9061759 18.3882925,58.3195318 L18.4374818,55.4508133 L16.024744,55.4544875 Z",id:"Fill-20",fill:"#FBD4C1"}),i.createElement("path",{d:"M9.41693303,53.5304825 C9.00251271,52.4274118 7.98470298,50.5886886 7.98470298,50.5886886 L6.24339983,51.2365691 C6.24339983,51.2365691 6.00073235,51.9526261 4.74025513,52.6564358 C3.48182748,53.3643279 1.80652004,53.3957625 1.08138697,53.8864697 C0.662047722,54.1681569 0.653439585,55.0336305 0.716565924,55.7158034 C0.732142553,55.8664448 0.750588561,56.0081048 0.769854391,56.133027 C0.81084552,56.3963432 1.06990945,56.5682132 1.33020312,56.5069769 C3.10429918,56.0905698 9.30625698,54.6172234 9.55466322,54.3110417 C9.63090672,54.2200037 9.56163171,53.9199456 9.41693303,53.5304825",id:"Fill-22",fill:"#3B3E4D"}),i.createElement("path",{d:"M5.12647355,48.6801968 L6.05123342,51.4880872 C6.21478802,51.984918 6.72266811,52.2845679 7.23833651,52.1890392 C7.81795107,52.0820797 8.19506946,51.5207466 8.07291589,50.9467579 L7.47731479,48.1396841 L5.12647355,48.6801968 Z",id:"Fill-24",fill:"#FFF"})),i.createElement("g",{id:"Pants",transform:"translate(11.147 37.124)"},i.createElement("path",{d:"M1.97728943,15.6736851 C-0.695188878,19.5155567 0.323601194,35.5397524 0.323601194,35.5397524 C0.323601194,35.5397524 3.2155049,36.0594337 4.57799307,35.0569569 C4.94794019,31.5454191 5.23339828,26.1990126 6.50155404,22.3173862 C6.66437999,21.8194265 7.28479942,19.3389047 7.67115217,18.9848 L14.5536139,14.3084832 C13.4338227,16.1287524 11.2610683,19.7492958 10.9573251,23.3763675 C10.6111662,25.5882921 9.82369558,42.3521685 10.9573251,42.5370079 C12.0905445,42.7218472 15.6173464,42.5370079 15.6173464,42.5370079 C15.6173464,42.5370079 17.6217051,27.1826366 18.1934416,25.5194923 C18.7647679,23.856348 27.4076677,16.8767157 31.660419,12.8110697 C35.9135805,8.74583353 34.4643543,3.84193529 34.4643543,3.84193529 L20.0579422,2.18219229 C19.5823752,2.04419469 18.4615527,1.58713727 17.2986473,2.18219229 C13.2916383,4.23256619 7.237262,7.62135444 2.90194591,13.8534159 L1.97728943,15.6736851 Z",id:"pants",fill:"#E4E6F2"}),i.createElement("mask",{id:"mask-4",fill:"#fff"},i.createElement("use",{xlinkHref:"#path-3"})),i.createElement("use",{id:"pants",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xlinkHref:"#path-3"})),i.createElement("g",{id:"Group-45",transform:"translate(11.963)"},i.createElement("path",{d:"M18.3145525,16.5980195 C20.3469798,14.9770238 24.6738011,16.4716869 22.9237479,20.3879993 C21.1741111,24.3043117 12.6000165,27.8383448 10.7108586,28.4741098 C8.82211722,29.1094646 1.8906237,27.745236 0.367552635,27.2009391 L0.483750837,23.8670694 L9.55720621,25.077484 C9.55720621,25.077484 16.1151163,18.3527309 18.3145525,16.5980195",id:"Fill-30",fill:"#F37878"}),i.createElement("path",{d:"M23.3314411,13.1776448 C23.3314411,13.1776448 28.3446231,14.308076 31.0792374,22.8437339 C33.8130188,31.379802 34.2586535,40.8075817 34.2586535,40.8075817 C34.2586535,40.8075817 24.8261915,42.569266 17.2645622,39.0967586 C17.2645622,39.0967586 16.8559943,23.8289646 17.8151501,17.3466225 C18.2353794,14.5037276 23.3314411,13.1776448 23.3314411,13.1776448",id:"Fill-32",fill:"#FFC2C2"}),i.createElement("path",{d:"M23.3314411,13.1776448 C23.3314411,13.1776448 28.3446231,14.308076 31.0792374,22.8437339 C33.8130188,31.379802 34.2586535,40.8075817 34.2586535,40.8075817 C34.2586535,40.8075817 24.8261915,42.569266 17.2645622,39.0967586",id:"Fill-32",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M16.8292146,4.5304204 C16.8292146,4.5304204 16.469375,6.32860994 16.4069028,7.1386976 C16.3448472,7.94960561 15.5389564,8.19037597 15.482315,8.44550232 C15.4331702,8.66371327 15.9741791,9.19570502 15.9741791,9.19570502 C15.9741791,9.19570502 16.1045376,11.5911035 16.8429585,12.2646042 C17.5817958,12.938105 18.9174504,12.6948736 18.9174504,12.6948736 L19.1964927,15.1887131 C19.1964927,15.1887131 18.926613,16.6181589 23.8806546,14.0094715 L23.609109,12.2412245 C23.609109,12.2412245 26.2462668,7.07471093 24.0755678,4.54723741 C21.9052852,2.01935372 16.8292146,4.5304204 16.8292146,4.5304204",id:"Fill-34",fill:"#FFF"}),i.createElement("path",{d:"M18.841276,5.5197938 C18.0924432,5.64776714 17.338196,5.76958792 16.5835324,5.68222151 C15.4211339,5.5480956 14.5515216,5.2810743 14.0629894,3.99231711 C13.1754683,1.64942052 14.3828468,0.250737514 14.3828468,0.250737514 C14.3828468,0.250737514 15.0071518,1.06574723 17.5989132,0.495609584 C19.1199018,0.160910072 22.0481798,0.417266928 24.183478,2.66664453 C27.2362838,5.88361545 25.0293509,11.2273229 23.6091507,12.2412655 L23.2538924,10.1046849 C23.2538924,10.1046849 23.8490437,9.87129763 24.0222998,9.33233297 C24.1918076,8.8048531 23.5679191,7.34505462 22.6566586,8.1563728 C21.7766342,8.94020952 22.3372177,11.4779373 21.2364583,12.3872864 C20.135699,13.2962252 17.0999689,13.2921235 16.4006973,12.1510279 C15.6485326,10.9237963 16.0433566,9.90780284 16.0433566,9.90780284 C16.0433566,9.90780284 17.8346414,9.51814042 19.3189797,10.2543973 C20.7670842,10.9721965 21.6625184,8.96071807 21.3784784,7.77163243 C21.1277568,6.72282526 20.1032135,5.30404387 18.841276,5.5197938",id:"Fill-36",fill:"#3B3E4D"}),i.createElement("path",{d:"M20.961183,18.9681961 C22.6955209,16.6950306 27.7604342,17.1340365 26.9664724,21.781086 C26.1725105,26.4281355 19.5968064,33.4712 17.7423812,34.6540771 C15.8893416,35.8374058 3.75867565,34.9756534 1.97029846,34.802219 L2.02895649,31.9626816 L15.1909877,31.3095925 C15.1909877,31.3095925 19.084126,21.4283456 20.961183,18.9681961",id:"Fill-43",fill:"#F37878"}),i.createElement("path",{d:"M15.1909877,31.3095925 C15.1909877,31.3095925 19.084126,21.4283456 20.961183,18.9681961 M26.9664724,21.781086 C26.1725105,26.4281355 19.5968064,33.4712 17.7423812,34.6540771 C15.8893416,35.8374058 3.75867565,34.9756534 1.97029846,34.802219",id:"Fill-43",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),i.createElement("g",{id:"Microscope",transform:"translate(235.569 289.818)"},i.createElement("path",{d:"M18.7214141,98.1589757 L27.5103085,98.1589757 C32.7568134,105.752299 41.5416826,110.73039 51.4934723,110.73039 C67.5630006,110.73039 80.5899271,97.7506293 80.5899271,81.7392826 C80.5899271,74.4458025 77.8868661,67.7813704 73.4244562,62.6862814 L73.4244562,51.5460728 C85.3038994,58.0661856 93.3524515,70.661726 93.3524515,85.1303003 C93.3524515,106.291867 76.1352753,123.446706 54.8968121,123.446706 C38.2493548,123.446706 24.0725672,112.906811 18.7214141,98.1589757 Z",id:"Combined-Shape",fill:"#FFF"}),i.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"48.756",y:"115.255",width:"11.832",height:"20.933"}),i.createElement("g",{id:"Combined-Shape-2",transform:"translate(13 48)"},i.createElement("mask",{id:"mask-7",fill:"#fff"},i.createElement("use",{xlinkHref:"#path-6"})),i.createElement("use",{id:"Combined-Shape",fill:"url(#linearGradient-5)",xlinkHref:"#path-6"}),i.createElement("circle",{id:"Oval",fill:"#8FABF4",mask:"url(#mask-7)",cx:"59",cy:"7",r:"14"})),i.createElement("path",{d:"M68.9407352,60.0450769 L68.9407352,48.815669 C80.7802671,55.3357818 88.8017785,67.9313222 88.8017785,82.3998965 C88.8017785,103.561463 71.6424468,120.716303 50.4753383,120.716303 M15.0808757,97.1240807 L15.0808757,97.1240807 M25.4898376,97.1240807 C30.5355849,105.663304 39.8363985,111.391004 50.4753383,111.391004 C66.4908779,111.391004 79.474038,98.4112431 79.474038,82.3998965",id:"Combined-Shape",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M0.518722035,89.7717262 L35.103837,89.7717262",id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M0.518722035,93.4122646 L35.103837,93.4122646",id:"Rectangle",stroke:"#E4E6F2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("polyline",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",points:"35.9670574 138.00886 68.1689333 138.00886 77.7675693 138.00886 83.3409709 138.00886 83.3409709 144.379802 74.3616017 144.379802 47.7331274 144.379802 30.0840224 144.379802 23.2720871 144.379802"}),i.createElement("g",{id:"Group-2",transform:"rotate(-45 94.818 5.34)"},i.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",y:"5.922",width:"96.041",height:"7.106"}),i.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",x:"87.741",y:"2.369",width:"8.3",height:"14.212"}),i.createElement("path",{d:"M53.3483652,22.3447006 C53.1368783,27.7177952 48.7090794,32.0089156 43.2778645,32.0089156 C37.8466496,32.0089156 33.4188507,27.7177952 33.2073637,22.3447006 L15.0426441,22.3447006 C13.9380746,22.3447006 13.0426441,21.4492701 13.0426441,20.3447006 L13.0426441,2 C13.0426441,0.8954305 13.9380746,-1.84720821e-12 15.0426441,-1.84741111e-12 L70.1467549,-1.84741111e-12 C71.2513244,-1.8436898e-12 72.1467549,0.8954305 72.1467549,2 L72.1467549,20.3447006 C72.1467549,21.4492701 71.2513244,22.3447006 70.1467549,22.3447006 L53.3483652,22.3447006 Z",id:"Combined-Shape",fill:"#FFF"}),i.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"10.312",width:"64.565",height:"18.704",rx:"2"}),i.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"url(#linearGradient-8)",strokeLinecap:"round",strokeLinejoin:"round",x:"13.043",width:"59.285",height:"18.949"}),i.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"15.592",y:"2.547",width:"54.185",height:"4.517",rx:"1"}),i.createElement("ellipse",{id:"Oval",fill:"#FFF",cx:"43.278",cy:"19.541",rx:"10.078",ry:"10.067"}),i.createElement("path",{d:"M52.6436093,23.2665564 C53.1034261,22.1142813 53.3562713,20.8571999 53.3562713,19.5411324 C53.3562713,13.9814784 48.8440149,9.47448842 43.2778645,9.47448842 C37.7117141,9.47448842 33.1994577,13.9814784 33.1994577,19.5411324 C33.1994577,25.1007863 37.7117141,29.6077763 43.2778645,29.6077763 L43.2778645,29.6077763",id:"Oval",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(-110 43.278 19.541)"})),i.createElement("path",{d:"M56.4920001,122.536572 L56.4920001,134.368322",id:"Path-2",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M48.3007887,120.812477 L48.3007887,134.758379",id:"Path-2",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}))))))))};var T,x=n("XZk2");!function(e){e.Step1="Step1. Thorough Human Proofreading",e.Step2="Step2. How it works"}(T||(T={}));var O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t}(A.a),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentStep=c.Atom.create(T.Step1),t}return s.__extends(t,e),t.prototype._mapStateToClass=function(e){return e?e===T.Step1?{prev:{start:x.stepShow,end:x.step1Hide},next:{start:x.step2Hide,end:x.stepShow}}:{prev:{start:x.stepShow,end:x.step2Hide},next:{start:x.step1Hide,end:x.stepShow}}:{prev:{start:x.step1Hide,end:x.stepShow},next:{start:"",end:""}}},t.prototype.render=function(){var e=this;return i.createElement(O,{state:this._currentStep,stateToClassMapper:this._mapStateToClass},function(t){var n=function(e){"prev"===t.type&&"top"===e.propertyName&&t.done()};switch(t.state){case T.Step1:return i.createElement(L,{key:"Step1",state:e._currentStep,viewClassName:t.view,onTransitionEnd:n});case T.Step2:return i.createElement(I,{key:"Step2",state:e._currentStep,viewClassName:t.view,onTransitionEnd:n});default:return Object(m.assertNever)(t.state)}})},t}(v.a),L=Object(v.g)(function(e,t){var n=e.state,r=e.viewClassName,a=e.onTransitionEnd,o=t.textResources.denali.proofitOrderModal.promo.step1;return i.createElement(c.F.div,s.__assign({key:"step1"},Object(c.classes)(x.step1,r),{onTransitionEnd:a}),i.createElement(f.H1,{className:x.title},o.title),i.createElement(f.Base,{className:x.description},o.description),i.createElement(h.a.Ghost,{className:x.moreButton,name:"proofit-order-promo-to-step-2",onClick:function(){t.gnarSpec.professionalProofreadingLearningButtonClick(t.docId,t.pageId),n.set(T.Step2)}},o.more," ",i.createElement(M.d.Arrow,null)),i.createElement("div",{className:x.step1Illustration},i.createElement(_.Illustration,null)))}),I=Object(v.g)(function(e,t){var n=e.state,r=e.viewClassName,a=e.onTransitionEnd,o=t.textResources.denali.proofitOrderModal.promo.step2;return i.createElement(c.F.div,s.__assign({key:"step2"},Object(c.classes)(x.step2,r),{onTransitionEnd:a}),i.createElement(f.H1,{className:x.title},o.title),i.createElement("ul",{className:x.step2Path},i.createElement("li",s.__assign({},Object(c.classes)(x.step2PathLi,x.step2PathLi1)),i.createElement(P,{index:1}),i.createElement(f.Base,{className:x.step2LiDescription},o.li1),i.createElement("div",{className:x.pathFrom1To2},i.createElement(_.PathFrom1To2,null))),i.createElement("li",s.__assign({},Object(c.classes)(x.step2PathLi,x.step2PathLi2)),i.createElement(P,{index:2,position:x.right}),i.createElement(f.Base,{className:x.step2LiDescription},o.li2),i.createElement("div",{className:x.pathFrom2To3},i.createElement(_.PathFrom2To3,null))),i.createElement("li",s.__assign({},Object(c.classes)(x.step2PathLi,x.step2PathLi3)),i.createElement(P,{index:3}),i.createElement(f.Base,{className:x.step2LiDescription},o.li3))),i.createElement(h.a.Ghost,{className:x.backButton,name:"proofit-order-promo-to-step-1",onClick:function(){t.gnarSpec.professionalProofreadingGotItButtonClick(t.docId,t.pageId),n.set(T.Step1)}},o.back," ",i.createElement(M.d.Arrow,{className:x.lessIcon})))}),P=function(e){var t=e.index,n=e.position;return i.createElement("div",s.__assign({},Object(c.classes)(x.dots,n||x.left)),i.createElement(f.Base,{className:x.dotIndex},t),i.createElement(_.Dots,null))},F=n("ajwO");n.d(t,"a",function(){return D});var D=function(e){var t=e.proofit,n=e.close;return i.createElement(o.a,{close:n,className:F.proofitModal},i.createElement(o.a.Body,{name:"proofitordermodal",className:F.proofitModalBody},i.createElement("div",{className:F.wrapper},i.createElement("div",{className:F.row},i.createElement("div",{className:F.col},i.createElement(N,null)),i.createElement("div",{className:F.col},i.createElement(C,{proofit:t,close:n}))))))}},"aC+x":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return h}),n.d(t,"b",function(){return f});var r,a=n("CB9K"),i=n("ASSm"),o=n("oZTP"),s=n("xEd5"),c=n("t2Ba"),l=n("n3Ao"),u=n("fOM/"),d=n("p9uY"),p=n("hQK4"),m=n("Ynql");!function(e){!function(e){e.switchToNext="switchToNext",e.switchToClosest="switchToClosest",e.changeAlert="changeAlert"}(e.Type||(e.Type={}))}(r||(r={}));var f,h=function(){function e(t,n){var o=this;this._getClosestAlert=t,this._alignmentVM=n,this._log=s.Monitoring.Logging.getLogger("CardsViewModelImpl",s.Logging.LogLevel.DEBUG),this._flushCompleteTransition=new a.Subject,this._flushPositionAnimation=new a.Subject,this.startTransitionTo=new a.Subject,this.completeTransitionTo=new a.Subject,this.completePositionAnimation=new a.Subject,this.actionEvents=new a.Subject,this.hoverEvents=new a.Subject,this._transitionBuffer=a.Observable.interval(100).startWith(0).merge(this._flushCompleteTransition),this._positionAnimationBuffer=a.Observable.interval(100).startWith(0).merge(this._flushPositionAnimation),this._startTransitionStateChanges=this.startTransitionTo.map(function(t){return function(n){var r=n.currentLens,a=e.applyStartVSChange(r.visibleCards,[t]);return p.d.Prism.lensCards.set(a,n)}}),this._completeTransitionStateChanges=this.completeTransitionTo.buffer(this._transitionBuffer).filter(c.notEmpty).map(function(t){return function(n){var r=n.currentLens,a=e.applyCompleteVSChange(r.visibleCards,t);return o._log.isEnabled(s.Logging.LogLevel.TRACE)&&o._log.trace("batch transition complete",{events:t,diff:l.a.Sorted.diff(r.visibleCards,a)}),p.d.Prism.lensCards.set(a,n)}}),this._transitionEndStateChanges=this.completePositionAnimation.buffer(this._positionAnimationBuffer).filter(c.notEmpty).map(function(e){return function(t){var n=t.currentLens.visibleCards,r=e.map(function(e){return[e,!1]}),a=n.patchWith(r,function(e,t,n){return n.map(function(e){return e.value}).map(function(e){return e.changePosition(e.position.changeAnimationInProgress(t))})});return p.d.Prism.lensCards.set(a,t)}}),this._switchToNextChanges=this.actionEvents.filter(function(e){return e.type===r.Type.switchToNext}).map(function(){return function(e){return e.patch({currentLens:e.currentLens.findNextAlert().fold(function(){return p.d.getActiveAlert(e).fold(function(){throw new c.InvariantError("Can not switch from non-existing card")},function(t){return e.currentLens.remove([t])})},function(t){return e.currentLens.select(t)}),switchOrder:"lensOrder",alertSource:u.b.sidebar})}}),this.applicatorEffects={when:d.a.isActiveId,what:p.d.Effect.Applicator.create(a.Observable.merge(this._startTransitionStateChanges,this._completeTransitionStateChanges,this._transitionEndStateChanges,this._switchToNextChanges))},this.hovered=this.hoverEvents.scan(function(e,t){return"hover"===t.type?Object(i.Some)(t.cardId):e.filter(function(e){return e!==t.cardId})},i.None).share(),this.changeAlert=function(e){return{when:d.a.isActiveId,what:p.d.Effect.ChangeAlert.create(o.actionEvents.switchMap(function(t){return t.type===r.Type.changeAlert?a.Observable.of(t.alertHighlight):o._changeAlertWithoutAH(t,e)}).map(function(e){return{alertHighlight:e,alertSource:u.b.sidebar,options:{order:"lensOrder"}}}))}},this.flushTransitionTo=function(){return o._flushCompleteTransition.next()},this.flushPositionAnimation=function(){return o._flushPositionAnimation.next()}}return e.applyStartVSChange=function(e,t){return e.patchWith(t,function(e,t,n){return n.map(function(e){return e.value}).map(function(e){return e.transitionTo(t)})})},e.applyCompleteVSChange=function(e,t){return e.patchWith(t,function(e,t,n){return n.map(function(e){return e.value}).filter(function(e){return"removed"!==e.visualState.transition.type}).map(function(e){return e.visualState.transitionId===t?e.completeTransition(t):e})})},e.prototype._changeAlertWithoutAH=function(e,t){var n=this;return a.Observable.of(e).withLatestFrom(t).filter(function(e){var t=e[0],n=e[1];return t.type===r.Type.switchToClosest&&d.a.isActiveId(n.currentLens.id)}).switchMap(function(e){e[0];var t=e[1],r=t.currentLens.card,o=n._getClosestAlert(function(e){return(e.lensId===t.currentLens.id||t.currentLens.id===d.a.SpecialId.AllAlerts)&&u.a.isRegistered(e)&&!u.a.isPremium(e)});return o.filter(function(e){return r.map(function(e){return e.activeAlert}).exists(function(t){return t.id===e.alert.id})}).fold(function(){return a.Observable.of(o)},function(){return n._alignmentVM.alignMarkToCard(t.currentLens.card.get(),m.a.ANIMATE_ALL).mapTo(i.None)})}).switchMap(l.e.toOptionValueOnly)},e}();!function(e){var t=function(){return function(){var e=this;this.animate=o.Atom.create(!0),this.clockwise=o.Atom.create(!0),this.toggleAnimations=function(){return e.animate.modify(function(e){return!e})},this.startTransitionTo=new a.Subject,this.completeTransitionTo=new a.Subject,this.completePositionAnimation=new a.Subject,this.hoverEvents=new a.Subject,this.actionEvents=new a.Subject,this.flushTransitionTo=c.noop,this.sideEffect={when:d.a.isActiveId,what:p.d.Effect.Applicator.create(a.Observable.empty())}}}();e.Mock=t}(f||(f={}))},aUoX:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("kwyh"),a=n("ERkP"),i=n("7nmT"),o=n("CB9K"),s=n("n3Ao"),c=n("EsFq"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._uuid=c.a.genUuid(),t}return r.c(t,e),t.prototype.componentDidMount=function(){var e=this,t=i.findDOMNode(this),n=function(){return e.context.cleanContent(e._uuid)};this._subs=[o.Observable.merge(o.Observable.fromEvent(t,"mouseenter").withLatestFrom(s.e.toObservable(this.props.title),function(e,t){return t}).filter(Boolean).do(function(n){return e.context.setContent({target:t,content:n,alignment:e.props.align||"auto",uuid:e._uuid})}),o.Observable.fromEvent(t,"mouseleave").do(n)).subscribe().add(n)]},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){return a.Children.only(this.props.children)},t.contextType=c.a.Context,t}(a.Component)},aYRv:function(e,t,n){"use strict";var r,a=n("WhHs"),i=n("n3Ao"),o=n("oZTP"),s=n("xEd5"),c=n("QFfx"),l=n("fOM/"),u=n("t2Ba"),d=n("Fgeo"),p=n("CB9K"),m=n("ASSm"),f=n("hQK4"),h=2e3;!function(e){e[e.Inactive=0]="Inactive",e[e.ListenCrossSession=1]="ListenCrossSession",e[e.ListenCurrentSession=2]="ListenCurrentSession"}(r||(r={}));var g,v,b=3;!function(e){e.getDefault=function(e,t){return{type:e,currentSessionRules:[p.Observable.empty(),t.filter(f.d.isLensview).pairwise().filter(function(e){var t=e[0],n=e[1];return!f.d.isInGlobalSuccess(t)&&f.d.isInGlobalSuccess(n)}).debounceTime(h)],crossSessionRules:function(e){return p.Observable.of({counter:e.counter+1})},get defaultData(){return{actual:!0,counter:0,wasClosedAt:m.None}},getState:function(e){var t=Date.now()-e.wasClosedAt.fold(function(){return 0},function(e){return e.getTime()});return!e.actual||t<7*u.DateUtils.MS_IN_DAY?r.Inactive:e.counter>=b?r.ListenCurrentSession:r.ListenCrossSession},transform:function(e){return"close"===e?{actual:!1}:{wasClosedAt:Object(m.Some)(new Date)}}}},e.getProofit=function(e,t,n,a,o){var s=a.modal.first(function(e){return e.nonEmpty()}).mapTo({actual:!1});return{type:d.j.ProofitPromo,crossSessionRules:function(e){var t=s,r=t;return e.seenSuccessState||(r=r.merge(n.first(f.d.isInGlobalSuccess).takeUntil(t).mapTo({seenSuccessState:!0}))),e.seenPremiumAlerts||(r=r.merge(n.view(f.d.getActiveAlert).first(u.OptionUtils.exists(function(e){return!e.isFree})).takeUntil(t).mapTo({seenPremiumAlerts:!0}))),r},get currentSessionRules(){var n=e.textInfo.switchMap(i.e.toOptionValueOnly).filter(function(e){return e.wordsCount>=250}),r=t.textChangedAfterPaste.filter(function(e){return"partial"!==e.type}).switchMapTo(n);return[s,p.Observable.merge(o.isUploaded()?n:p.Observable.empty(),r).first()]},get defaultData(){return{actual:!0,seenSuccessState:!1,seenPremiumAlerts:!1}},getState:function(e){return e.actual?e.seenSuccessState&&e.seenPremiumAlerts?r.ListenCurrentSession:r.ListenCrossSession:r.Inactive},transform:function(e){return"getStarted"===e&&a.showOrderModal(),{actual:!1}}}}}(g||(g={})),function(e){(v||(v={})).create=function(e,t){var n=o.Atom.create(m.None),a=s.Monitoring.Logging.getLogger("SurveyManager"),i=t.getSurveyModel(e.type).view(function(t){return t.getOrElse(e.defaultData)}),c=i.view(function(t){return[e.getState(t),t]}).distinctUntilChanged(function(e,t){return e[0]===t[0]}).do(function(){return n.set(m.None)}).switchMap(function(t){var a=t[0],i=t[1];switch(a){case r.Inactive:return p.Observable.empty();case r.ListenCrossSession:return e.crossSessionRules(i);case r.ListenCurrentSession:var o=e.currentSessionRules,s=o[0],c=o[1];return s.merge(c.switchMap(function(){var t=new p.Subject;return n.set(Object(m.Some)({type:e.type,actions:t})),t.map(e.transform)}));default:return Object(u.assertNever)(a)}}).subscribe(function(n){return t.setSurveyModel(e.type,Object.assign({},i.get(),n))},function(e){return a.error("Survey error",e)});return Object(u.registerDebugHelper)("survey",{show:function(){return i.get()},clear:function(){return t.setSurveyModel(e.type,e.defaultData)}}),{active:n,dispose:function(){return c.unsubscribe()}}}}();var y,_=function(){function e(e){this._context=e}return e.prototype.trackLensChange=function(e){this._context.gnarSpec.lensSidebarShow(u.StringUtils.camelize(e),this._context.pageId)},e.prototype.trackAdvancedLensOpen=function(e){this._context.gnarSpec.advancedIssuesSidebarShow(e,this._context.pageId)},e.prototype.assistantSidebarClose=function(){this._context.gnarSpec.assistantSidebarClose(this._context.pageId)},e.prototype.assistantSidebarShow=function(){this._context.gnarSpec.assistantSidebarShow(this._context.pageId)},e}();!function(e){var t=function(){function e(){}return e.prototype.trackLensChange=function(){},e.prototype.trackAdvancedLensOpen=function(){},e.prototype.assistantSidebarClose=function(){},e.prototype.assistantSidebarShow=function(){},e}();e.PageVMContextModelMock=t}(y||(y={}));var E,w=n("Ynql"),C=n("pp17"),k=n("09XH"),S=n("aC+x"),M=n("q9Ib"),A=n("mrSG"),T=n("p9uY"),x=n("im4w"),O=n("MIkE"),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=s.Monitoring.Logging.getLogger("AllAlertsLensStateManagerImpl"),t._focusFirstOnActiveLensSwitch=!1,t.focusAlertEffect=function(e){var n=e.alertHighlight,r=e.alertSource,a=e.options;t._log.isEnabled(s.Logging.LogLevel.TRACE)&&t._log.trace("focusAlert("+alert+")");var i=t._state.get(),o=r===f.g.toAllAlerts,c=i.patch({switchOrder:a.order||i.switchOrder,alertSource:o?x.a.sidebar:r}),l=a.lensId||(i.currentLens.id===T.a.SpecialId.Closed||i.currentLens.id===T.a.SpecialId.AllAlerts||o?T.a.SpecialId.AllAlerts:n.alert.lensId);return t._stateProvider.getLensEventsByAlert(c,l,n)},t}return A.__extends(t,e),t.prototype.findNextAlert=function(e){var t=this;return e.currentLens.findNextAlert().map(O.a.toLensAlert).orElseL(function(){return f.d.getActiveAlertHighlight(e).fold(t._getAlertClosestToCursor,function(e){return t._stateProvider.findNextAlertInText(e)}).map(function(e){return{alert:e.alert,highlightIndex:e.highlightIndex,lensId:T.a.SpecialId.AllAlerts}})})},t.prototype.shouldAllow=function(){return!0},t}(O.a),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isStateScrollable=function(e){return t._shouldAutoScroll.get()&&"text"!==e.alertSource},t}return A.__extends(t,e),t}(N),I=n("pt0e"),P=n("qZDk"),F=n("u3Lk"),D=n("AW4s"),R=n("vLzu");!function(e){e[e.Checking=0]="Checking",e[e.CheckingIn=1]="CheckingIn",e[e.CheckingOut=2]="CheckingOut",e[e.Idle=3]="Idle"}(E||(E={}));var V=function(){function e(e,t,n,r,a,i,o,s,c){var l=this;this._state=e,this._stateHolder=t,this._documentModel=n,this._uploadVM=r,this._features=a,this._ded=i,this._settingsModel=o,this._setGoalsVisibilityState=s,this._tourLoadFinished=c,this._subs=[],this._loadingStateLock=p.Observable.combineLatest(this._tourLoadFinished,this._uploadVM.state.startWith(R.a.State.idle),function(e,t){return!e||t!==R.a.State.idle}).distinctUntilChanged(),this._goalsWindowWasShownOnce=!1,this._subs.push(this._listenUploadingState(),this._listenProcessingState(),this._listenFullRecheckingState()),Object(u.registerDebugHelper)("loader",function(e,t,n){l._state.set({text:m.Option.of(e).filter(function(e){return e in F.a.TextType}),lens:m.Option.of(t).filter(function(e){return e in F.a.Type}),navigation:m.Option.of(n).filter(function(e){return e in F.a.Type})})})}return e.prototype._listenUploadingState=function(){var e=this;return this._uploadVM.state.skip(1).subscribe(function(t){e._state.set(t===R.a.State.idle?F.a.State.idle:F.a.State.loading)})},e.prototype._listenProcessingState=function(){return this._ded.dontFreezeWhen(this._state.view(function(e){return e.text.nonEmpty()}),"loader")},e.prototype._showSetGoalsLoader=function(){!this._goalsWindowWasShownOnce&&this._settingsModel.enableSetGoalsLoader.get()&&this._documentModel.isInitialRevision&&this._features.denali.tour.isEmpty()&&(this._setGoalsVisibilityState.set(!0),this._goalsWindowWasShownOnce=!0)},e.prototype._listenFullRecheckingState=function(){var e,t=this,n=function(e){return e.filter(function(e){return e===F.a.Type.checkingIn||e===F.a.Type.checking}).map(function(){return F.a.Type.checkingOut})},r=function(e){return e.kind===D.a.Plagiarism||"full"!==e.type};return(e=this._stateHolder.state,t._loadingStateLock.switchMap(i.e.orEmptyRight(e))).switchMap(function(e){var n=t._documentModel.getCheckingForState(e),a=n.get(),i=f.d.isSidebarOpened(e);return n.skip(1).map(function(e){return r(e)||!i?E.Idle:E.Checking}).startWith(r(a)?E.Idle:i?E.CheckingIn:E.CheckingOut)}).subscribe(function(e){switch(e){case E.Idle:return t._state.set(F.a.State.idle);case E.CheckingIn:return t._showSetGoalsLoader(),t._state.set({text:m.None,lens:Object(m.Some)(F.a.Type.checkingIn),navigation:Object(m.Some)(F.a.Type.checkingIn)});case E.Checking:return t._showSetGoalsLoader(),t._state.set({text:m.None,lens:Object(m.Some)(F.a.Type.checking),navigation:Object(m.Some)(F.a.Type.checking)});case E.CheckingOut:return t._state.modify(function(e){return{text:m.None,lens:n(e.lens),navigation:n(e.navigation)}});default:Object(u.assertNever)(e)}})},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e}(),B=n("EFyp"),j=n("Oj6O"),H=n("MPiU"),W=n("CCZN"),U=n("mOEe"),z=n("fT1+"),G=function(){function e(e,t){this._stateHolder=e,this._marksVM=t,this._subs=[],this._log=s.Monitoring.Logging.getLogger("SelectedCardViewModelImpl"),this._subs.push(this._listenMarkFocusState())}return e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype._listenMarkFocusState=function(){var e=this;return this._stateHolder.state.view(f.d.mapper(function(e){var t=e.currentLens,n=e.alertSource;return t.card.map(function(e){return{alert:e.activeAlert,source:n,highlightIndex:e.activeHighlightIndex}})})).distinctUntilChanged(function(e,t){return Object(u.isOptionsEq)(e,t,f.a.equals)}).scan(function(e,t){return{newFocusedAH:t,oldFocusedAH:e.newFocusedAH}},{newFocusedAH:m.Option.empty(),oldFocusedAH:m.Option.empty()}).filter(function(e){var t=e.oldFocusedAH,n=e.newFocusedAH;return!(t.isEmpty()&&n.isEmpty())}).withLatestFrom(this._marksVM.highlightedAlert).subscribe(function(t){var n=t[0],r=n.oldFocusedAH,a=n.newFocusedAH,i=t[1];e._log.trace("Change focused mark: '"+r.map(function(e){return e.alert.id}).getOrElse("N/A")+"' => "+a.map(function(e){return e.alert.id}).getOrElse("N/A")+"'"),a.filter(function(e){return l.a.isRegistered(e.alert)}).fold(function(){return a.forEach(function(t){return e._log.error("Trying to focus not registered alert: "+t.alert.toString())})},function(t){return e._marksVM.focusAlertHighlight(t)}),Object(u.isOptionsEq)(a,r,function(e,t){return e.alert.id===t.alert.id})||Object(u.isOptionsEq)(r.map(function(e){return e.alert}),i,function(e,t){return e.id===t.id})||r.forEach(function(t){return e._marksVM.unfocusAlertHighlight(t)})})},e}(),q=Object(u.memoize)(s.Monitoring.Logging.getLogger);function K(e){return e===T.a.SpecialId.Closed}function Y(e){return!K(e)}function Z(e,t,n,r,a,s){return{when:function(e){return e===T.a.SpecialId.AllAlerts},what:f.d.Effect.ChangeLens.create(e.filter(f.d.isInGlobalSuccess).switchMapTo(o.Atom.combine(t.checkingState,t.counters,function(e,t){return t.critical+t.advanced>0&&("all-alerts"===a||"full"!==e)}).filter(Boolean).switchMap(i.e.Scheduler.rafScheduler).map(function(){return n.getFirstLensId(a)}).switchMap(i.e.toOptionValueOnly).first().filter(function(e){return e!==T.a.SpecialId.AllAlerts}).map(function(e){q("sideEffects.successSwitcher").debug("Switching from success to "+e);var t=r.get(),n=t.enabled,a=t.visibility,i=n&&"hidden"!==a;return{lensId:e,alertSource:i?f.c.forceSidebar:f.c.forceText,options:{order:"lensOrder",focusFirst:i||e!==T.a.SpecialId.AllAlerts||s.get()}}})))}}function J(e,t,n){return e.map(function(e){var r=t.find(function(t){return t.id===e.activeAlert.id});return Object(u.invariant)(void 0!==r,"Undone alerts should contain previously focused alert",e.activeAlert.id),Object(u.invariant)(n.contains(r.id),"Undone alerts should exist in alert list",r.id),Object(u.invariant)(l.a.isRegistered(r),"Undoed alert should be in registered state",function(){return String(r)}),{alert:r,highlightIndex:e.activeHighlightIndex}})}var X,Q=1e3,$=500;(X||(X={})).createAlignmentOnTypingEffect=function(e,t,n){var r=e.state.view(f.d.mapper(function(e){var t=e.currentLens;return Object(m.Some)(t).filter(function(e){return e.isCardsHeightValid&&e.card.exists(function(e){return!e.scheduledToDispose})})})).map(function(e){return e.flatMap(function(e){return e.card})}).switchMap(function(e){return e.map(function(e){return n.contentUpdated.switchMapTo(t.alignCardToMark(e,w.a.NO_ANIMATION,!1))}).getOrElse(p.Observable.empty())});return{when:T.a.isActiveId,what:f.d.Effect.Applicator.create(r.switchMapTo(p.Observable.never()))}};var ee=function(){function e(e,t,n,r){void 0===r&&(r=i.e.Scheduler.rafScheduler);var a=this;this._marksVM=e,this._pageVM=t,this._alignmentVM=n,this._alignScheduler=r,this._subs=[],this._cardToAlign=this._pageVM.stateHolder.state.view(f.d.mapper(function(e){var t=e.currentLens,n=e.alertSource;return Object(m.Some)({currentLens:t,alertSource:n})})).map(function(e){return e.filter(function(e){var t=e.currentLens;return t.isCardsHeightValid&&t.card.exists(function(e){return!e.scheduledToDispose})})}).map(function(e){return e.flatMap(function(e){var t=e.currentLens,n=e.alertSource;return t.card.map(function(e){return{card:e,source:n,lensId:t.id}})})}).map(function(e){return e.filter(function(e){var t=e.card;return["focused","expanded"].includes(t.visualState.transition.type)&&!t.scheduledToDispose})}),this._alignment=this._cardToAlign.distinctUntilChanged(function(e,t){return Object(u.isOptionsEq)(e,t,function(e,t){return e.card.activeAlert.id===t.card.activeAlert.id&&e.card.position.height===t.card.position.height&&e.card.activeHighlightIndex===t.card.activeHighlightIndex})}).switchMap(this._alignScheduler).withLatestFrom(this._cardToAlign,function(e,t){return t.filter(function(t){var n=t.card;return e.exists(function(e){return e.card.cardId===n.cardId})})}).switchMap(i.e.toOptionValueOnly).switchMap(function(e){var t=e.card,n=e.source;return a._alignCardWithMark(t,!0,n)}),this._alertSwitching=this._marksVM.alertClicked.skip(1).switchMap(i.e.toOptionValueOnly).map(function(e){return{alert:e.ma.alert,highlightIndex:e.highlightIndex}}).filter(function(e){var t=e.alert;return l.a.isRegistered(t)}).do(function(e){return a._pageVM.switchToAlert(e,l.b.text,"textOrder")}),this._sideEffects=p.Observable.merge(this._alignment,this._alertSwitching).mapTo(i.e.voidValue),this._subs.push(this._pageVM.stateHolder.state.view(f.d.hasCards).switchMap(i.e.orEmpty(this._sideEffects)).subscribe())}return e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype._alignCardWithMark=function(e,t,n){if(n===l.b.text)return this._alignmentVM.alignCardToMark(e,t?w.a.ANIMATE_ALL:w.a.NO_ANIMATION,!0);if(n===f.c.forceText)return this._alignmentVM.alignCardToMark(e,w.a.NO_ANIMATION,!0);var r=n===l.b.sidebar;return this._alignmentVM.alignMarkToCard(e,r?t?w.a.ANIMATE_ALL:w.a.ANIMATE_MARK:w.a.NO_ANIMATION)},e}(),te=n("IGo4"),ne=n("Lmm7"),re=n("b0nb"),ae=n("lycr"),ie=function(e){var t=e[0];switch(Object(u.invariant)(void 0!==t,"undoables should had at least one item"),t.action){case ae.CAPI.AlertFeedbackType.IGNORE:return{kind:"ignore"};case ae.CAPI.AlertFeedbackType.ADD_TO_DICTIONARY:return{kind:"addToDictionary",word:t.replacement};case ae.CAPI.AlertFeedbackType.WRONG_SUGGESTION:case ae.CAPI.AlertFeedbackType.OFFENSIVE_CONTENT:return{kind:"report"};case ae.CAPI.AlertFeedbackType.ACCEPTED:return{kind:"replace",word:t.replacement};case ae.CAPI.AlertFeedbackType.SYNONYM_ACCEPTED:return{kind:"replaceSynonym"};case ae.CAPI.LensFeedbackType.DISMISS_BY_LENS:return{kind:"ignoreAll",alerts:e.length};case ae.CAPI.AlertFeedbackType.LIKE:return{kind:"markAsHelpful"};case ae.CAPI.AlertFeedbackType.DISLIKE:return{kind:"markAsNotHelpful"};default:throw new Error("Invalid undoable action "+t.action)}};function oe(e,t,n){return e.flushChanges(),t.enqueue("alertUndo",{params:ie(n)}).filter(function(e){return"shown"!==e}).map(function(e){return"undo"===e?"undo":"commit"}).merge(e.contentUpdated.mapTo("commit")).first()}var se=n("kf89"),ce=function(){function e(e,t,n,r,i,c,l){var d=this;this._synonymsModel=e,this._stateHolder=t,this._networkState=n,this._marksVM=r,this.ded=i,this._alertsList=c,this._notificationsManager=l,this._synonymOnboardingId="9f2d9601b324bb6c1e36737e59ed3d96",this._log=s.Monitoring.Logging.getLogger("synonymsViewModel"),this.viewState=o.Atom.create(m.None),this.popupShown=this.viewState.view(function(e){return e.map(function(e){return e.popupVisible}).getOrElse(!1)}),this._defaultClassName="defaultSynonymClass",this._subs=[],this.disposeFirstSynonym=function(e){d.ded.changeMarks([a.Mark.getRemoveAction({id:e.id,range:function(){return e.range}},a.Mark.RemoveType.byPartialMatch)]),d._deregisterRange(e.id)},this.query=function(e){return d.close(),d.ded.flushChanges(),d._synonymsModel.query(e)},this.shouldHide=function(e){return!u.DOM.hasParentWithClassName(e,d._defaultClassName)},this._wordOrNoneAfterTimeout=function(e){return d.viewState.switchMap(function(t){return t.forAll(function(e){return e.synonymsState.kind!==ne.c.Querying})?p.Observable.timer(3e3).mapTo(m.None):p.Observable.of(e)}).startWith(e)},this._handleState()}return e.prototype.getFirstSynonym=function(){var e=this;return p.Observable.create(function(t){var n=m.None,r=p.Observable.fromPromise(Promise.all(ue(le(e.ded.getText()),e._alertsList.getAllAlertsAsSortedArray()).map(e.query))).map(function(t){return m.Option.of(t.filter(ne.a.isReady)[0]).flatMap(function(t){var n=new re.c(t.query.start,t.query.start+t.query.word.length),r=e._synonymsModel.positionManager.registerRange(t.synonyms.id+e._synonymOnboardingId,n);return m.Option.of(e.ded.changeMarks([a.Mark.getCreateAction({id:t.synonyms.id+e._synonymOnboardingId,range:function(){return r},order:0,classes:[]})])[0])})}).first().subscribe(function(e){n=e,t.next(e)});return function(){n.forEach(e.disposeFirstSynonym),r.unsubscribe()}})},e.prototype.apply=function(e){var t=this,n=this.viewState.get();this._removeSelection(),n.forEach(function(n){var r=n.synonymsState,a=n.activeWord;if(!ne.a.isReady(r))throw new u.InvariantError("Synonym should exist.");var i=t._synonymsModel.applySynonym({id:r.synonyms.id,dispose:function(){return t._deregisterRange(r.synonyms.id)},range:a},e);oe(t.ded,t._notificationsManager,[i]).subscribe(function(e){return"commit"===e?i.commit():i.undo()})})},e.prototype.showPopup=function(){Object(u.invariant)(this._canShowPopup(this._synonymsModel.state.get())),this.viewState.modify(function(e){return e.map(function(e){return A.__assign({},e,{popupVisible:!0})})})},e.prototype.hidePopup=function(){this.viewState.modify(function(e){return e.map(function(e){return A.__assign({},e,{popupVisible:!1})})}),this.close()},e.prototype.close=function(){var e=this._synonymsModel.state.get();ne.a.isReady(e)&&this._deregisterRange(e.synonyms.id),this._synonymsModel.abortQuery(),this._removeSelection()},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype._canShowPopup=function(e){return ne.a.isReady(e)||ne.a.isEmpty(e)},e.prototype._removeSelection=function(){var e=this;this.viewState.modify(function(t){return t.map(function(t){try{e.ded.changeMarks([a.Mark.getRemoveAction({id:t.activeMark.id,range:function(){return t.activeMark.range}},a.Mark.RemoveType.byPartialMatch)])}catch(t){e._log.error("Cannot remove synonym",t)}}),m.None})},e.prototype._createMark=function(t){return this.ded.changeMarks([a.Mark.getCreateAction({id:e.markId,range:function(e){return t},classes:[this._defaultClassName,se.markHidden],order:0})])[0]},e.prototype._registerRange=function(e,t){var n=this._rangeId(t);!this._synonymsModel.positionManager.findById(n).isEmpty()||this._synonymsModel.positionManager.registerRange(n,e)},e.prototype._deregisterRange=function(e){var t=this,n=this._rangeId(e);this._synonymsModel.positionManager.findById(n).forEach(function(e){return t._synonymsModel.positionManager.deregisterRange(n)})},e.prototype._rangeId=function(e){return e+"s"},e.prototype._handleState=function(){var e=this;this._subs.push(this.ded.clickedWord.filter(function(e){return e.forAll(function(e){return e.type===a.ClickType.dblclick})}).switchMap(i.e.Scheduler.rafScheduler).withLatestFrom(this._marksVM.alertClicked,function(e,t){return t.isEmpty()?e:m.None}).switchMap(this._wordOrNoneAfterTimeout).distinctUntilChanged(function(e,t){return e.equals(t)}).withLatestFrom(this.viewState.view(function(e){return e.exists(function(e){return e.popupVisible})})).filter(function(e){var t=e[0],n=e[1];return t.nonEmpty()||!n}).map(function(e){return e[0]}).subscribe(function(t){return t.fold(function(){return e.close()},function(t){if("offline"!==e._networkState.getOnlineStatus()){var n=t.range;e.viewState.get().exists(function(e){return e.activeWord.equals(n)&&ne.a.isReady(e.synonymsState)})?e.viewState.modify(function(e){return e.map(function(e){return A.__assign({},e,{popupVisible:!0})})}):e.query({start:n.start,word:n.value}).then(function(t){e.viewState.set(Object(m.Some)({synonymsState:t,activeWord:n,activeMark:e._createMark(n),popupVisible:e._canShowPopup(t),queryStarted:Date.now()}))}).catch(function(e){return s.Monitoring.Logging.getLogger("SynonymsViewModel").error("Error querying synonyms",e)})}})}),this._synonymsModel.state.subscribe(function(t){e.viewState.modify(function(n){return n.map(function(n){return ne.a.isReady(t)&&e._registerRange(n.activeWord,t.synonyms.id),A.__assign({},n,{synonymsState:t})})})}),p.Observable.merge(this.ded.contentUpdated,this._stateHolder.state.view(function(e){return e.currentLens.id})).subscribe(function(){return e.hidePopup()}),this.viewState.subscribe(function(t){return t.forEach(function(t){return t.popupVisible&&e.ded.changeMarks([a.Mark.getUpdateAction({id:t.activeMark.id,range:function(){return t.activeMark.range},order:0},[e._defaultClassName,se.synonym,se.markSelected])])})}))},e.markId="64656E616E69",e}(),le=function(e,t){void 0===t&&(t=10);for(var n,r=/( |^)[a-z]{3,}\b/gim,a=[],i=0;(n=r.exec(e))&&i<t;i++){var o=n[0].replace(" ",""),s=r.lastIndex-o.length,c=s+o.length;a.push({start:s,word:o,end:c})}return a},ue=function(e,t){return 0===t.length||0===e.length?e:(n=u.ArrayUtils.flatMap(t.map(function(e){return e.highlightRanges})),r=e[e.length-1].end,a=n.findIndex(function(e){return e.start>r}),i=a>=0?n.slice(0,a):n,e.filter(function(e){return i.every(function(t){return!(e.start<=t.end&&t.start<=e.end)})}));var n,r,a,i},de=n("zN6a");function pe(e,t){return function(n){return void 0===n&&(n=l.a.isRegisteredAlert),e().flatMap(function(e){return t.findClosestAlertHighlight(e,n)})}}n.d(t,"b",function(){return pe}),n.d(t,"c",function(){return me}),n.d(t,"a",function(){return fe});var me=function(e){return function(){return e.getCursor().map(function(e){return e.index})}},fe=function(){function e(e,t,n,r,h,b,y,E,M,A,x,D,R){var V=this;this._engine=e,this._denaliEditorModel=t,this._notifications=n,this._userAccount=r,this._upgradeHook=h,this._subscription=b,this._context=y,this._remSizeObs=E,this._networkState=M,this._goToMyDocuments=A,this._docId=x,this._uploadViewModel=D,this._notificationsManager=R,this._log=s.Monitoring.Logging.getLogger("view_models"),this._cardPositions={ensureCardPosition:function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=m.Option.empty());var r=V.cardsListScrollManager.getContentOffset(V._remSize.get()),a=V.cardsListScrollManager.getCardPosition(e,n.map(function(e){return k.a.FromWindowTop.ISO.wrap(e-r)})).getOrElse(k.a.FromWindowTop.ISO.wrap(0)),i={top:k.a.FromWindowTop.ISO.unwrap(a),contentOffset:r};return(t?V.cardsListScrollManager.moveCardToPositionAnimated({cardId:e,position:a}):p.Observable.of(V.cardsListScrollManager.moveCardToPositionSync({cardId:e,position:a})).map(function(e){return e.get()})).mapTo(i).startWith(i).distinctUntilChanged()},setCardPosition:function(e,t,n){var r=V.cardsListScrollManager.getContentOffset(V._remSize.get()),a=k.a.FromWindowTop.ISO.wrap(n),i={top:n,contentOffset:r};return(t?V.cardsListScrollManager.moveCardToPositionAnimated({cardId:e,position:a}):p.Observable.of(V.cardsListScrollManager.moveCardToPositionSync({cardId:e,position:a})).map(function(e){return e.get()})).mapTo(i).startWith(i).distinctUntilChanged()},getCardSuggestedPosition:function(e,t){var n=V.cardsListScrollManager.getContentOffset(V._remSize.get());return{top:V.cardsListScrollManager.getCardPosition(e,t.map(function(e){return k.a.FromWindowTop.ISO.wrap(e-n)})).map(k.a.FromWindowTop.ISO.unwrap).getOrElse(0),contentOffset:n}}},this._markPositions={ensureAlertHighlightInViewport:function(e,t,n){return V.marksViewModel.ensureAlertHighlightInViewport(e,t,n)},getMarkAlertPositionSync:function(e){return V._denaliEditorModel.flushChanges(),V.marksViewModel.getVisibleMarkAlert(e).flatMap(function(e){return e.mark.flatMap(function(e){return e.viewportRect.map(function(e){return e.fst.top}).recover(V._log.handler("Cannot get markAlert position").warn).toOption()})})},getMarkAlertPositionCached:function(e){return V.marksViewModel.getVisibleMarkAlert(e).flatMap(function(e){return e.mark.flatMap(function(e){return e.viewportRect.map(function(e){return e.fst.top}).recover(V._log.handler("Cannot get markAlert position").warn).toOption()})})}},this._editorWrapperViewport=o.Atom.create(this._denaliEditorModel.viewport.value.wrapper),this._remSize=o.Atom.create(16),this._autoScrollToNextAlert=this._userAccount.settings.editorPreferences.view("autoScrollToNextAlert").view(i.b.unwrapOption(!this._userAccount.features.denali.autoJumpSettings.isDisabledByDefault)),this._openedAfterPaste=new p.Subject,this._subs=[this._denaliEditorModel.viewport.distinctUntilChanged().map(function(e){return e.wrapper}).subscribe(i.e.toAtom(this._editorWrapperViewport)),this._remSizeObs.subscribe(i.e.toAtom(this._remSize))],this.sidebarViewModel=new I.a(this._engine.alertsList,this._engine.positionManager),this.alignmentViewModel=this._userAccount.features.denali.superScroll?new w.d(this._cardPositions,this._markPositions):new w.c(this._cardPositions,this._markPositions),this._getAlertClosestToCursor=pe(this._userAccount.features.denali.superScroll?function(){return V._denaliEditorModel.getPossibleCursorPosition(Object(m.Left)(a.CursorPosition.X.middle),Object(m.Left)(a.CursorPosition.Y.middle)).toOption().orElseL(me(V._denaliEditorModel))}:me(this._denaliEditorModel),this.sidebarViewModel),this.stateHolder=new P.a(this._context.appRouter.locationState.exists(function(e){return!0===e.openSidebar})||this._userAccount.features.denali.sidebarOpenedByDefault?this.sidebarViewModel.emptyState:Object(I.b)()),this.alignmentViewModel=this._userAccount.features.denali.superScroll?new w.d(this._cardPositions,this._markPositions):new w.c(this._cardPositions,this._markPositions),this.cardsViewModel=new S.c(this._getAlertClosestToCursor,this.alignmentViewModel),this.cardsListScrollManager=this._userAccount.features.denali.superScroll?new C.c(this.stateHolder,this.cardsViewModel):new C.a(this.stateHolder,this.cardsViewModel);var ne,re,ae,ie,se,le,ue,fe,he,ge,ve,be,ye,_e,Ee,we,Ce=[(ye=this._engine.documentModel.asyncChecksState.view("plagiarism"),_e=this._engine.plagiarismModel,Ee=this._autoScrollToNextAlert,we=ye.filter(function(e){return"idle"===e}).mapTo(function(e){return e.currentLens.card.nonEmpty()?e:e.currentLens.findNextAlert().map(function(t){return e.patch({currentLens:e.currentLens.select(t)})}).getOrElse(e)}),{when:function(e){return e===T.a.SpecialId.Plagiarism},what:f.d.Effect.Applicator.create(p.Observable.create(function(){return _e.enable()}).startWith(i.e.voidValue).switchMapTo(Ee.switchMap(Object(u.choose)(we,we.first()))))}),Z(this.stateHolder.state,this._engine.documentModel,this.sidebarViewModel,o.Atom.combine(this._userAccount.settings.enableSetGoalsLoader,this._context.documentLoader.setGoalsVisibilityState,function(e,t){return{enabled:e,visibility:t}}),this._userAccount.features.denali.withAllAlerts?"all-alerts":"default",this._autoScrollToNextAlert)].concat((he=this._engine.alertsList,ge=this.stateHolder.state,ve=function(e){return oe(V._denaliEditorModel,V._notificationsManager,e)},be=he.alertEvents.filter(function(e){return"alert_updated"===e.kind}).map(function(e){return e.alerts.filter(l.a.isApplied)}).filter(u.notEmpty).map(function(e){return e.map(function(e){return[e,e.takeReference("undoNotification")]})}).map(function(e){var t=u.ArrayUtils.partition(e,function(e){return e[0],e[1].isFailure()}),n=t[0],r=t[1];return Object(u.notEmpty)(n)&&q("sideEffects.undo").warn("can not take alertRef",n),r}).filter(u.notEmpty).switchMap(function(e){var t=ge.get(),n=e.map(function(e){return e[0]}),r=n.map(function(e){return e.state.undoable}),a=e.map(function(e){return e[0],e[1].get()});return ve(r).map(function(e){return"undo"===e&&(he.undoApplied(n),f.d.hasCards(t))?Object(m.Some)({lensId:t.currentLens.id,previouslyFocused:J(t.currentLens.card,n,he)}):m.None}).do(function(){return a.forEach(function(e){return e.dispose()})}).switchMap(i.e.toOptionValueOnly)}).share(),[{when:function(){return!0},what:f.d.Effect.Applicator.create(be.switchMapTo(p.Observable.never()))},{when:Y,what:f.d.Effect.ChangeLens.create(be.filter(function(e){return e.previouslyFocused.isEmpty()}).map(function(e){return{lensId:e.lensId,alertSource:l.b.sidebar,options:{focusFirst:!1}}}))},{when:Y,what:f.d.Effect.ChangeAlert.create(be.map(function(e){return e.previouslyFocused.map(function(t){return{alertHighlight:t,alertSource:l.b.sidebar,options:{lensId:e.lensId}}})}).switchMap(i.e.toOptionValueOnly))}]),[(ue=this._denaliEditorModel.textChangedAfterPaste,fe=function(){V.pageViewModel.switchTo(f.f.lensview),V._openedAfterPaste.next()},{when:K,what:f.d.Effect.Applicator.create(ue.filter(function(e){var t=e.type;return"initial"===t||"reset"===t}).do(fe).switchMapTo(p.Observable.never()))}),(ae=this._denaliEditorModel,ie=this._notificationsManager,se=this._context.gnarSpec.undoTextRemovedHotkeyPress.bind(this._context.gnarSpec),le=p.Observable.timer(Q).switchMapTo(ie.enqueue("textRemoved").takeUntil(ae.shortcutUsed.do(se)).filter(function(e){return"undo"===e}).do(function(){return ae.undo()}).take(1)).takeUntil(ae.shortcutUsed),{when:function(){return!0},what:f.d.Effect.Applicator.create(ae.contentUpdated.map(function(){return ae.getTextLength()}).startWith(ae.getTextLength()).pairwise().filter(function(e){return e[0]-e[1]>$}).exhaustMap(function(){return le.mapTo(function(e){return e})}))}),(ne=this._openedAfterPaste,re=this._context.documentLoader.state,{when:Y,what:f.d.Effect.Applicator.create(ne.do(function(){return re.set(F.a.State.lensAndNavigationProcessing)}).switchMapTo(p.Observable.never()))}),this.cardsViewModel.applicatorEffects,this.cardsViewModel.changeAlert(this.stateHolder.state),this.cardsListScrollManager.applicatorEffect]);this._userAccount.features.denali.superScroll&&Ce.push(X.createAlignmentOnTypingEffect(this.stateHolder,this.alignmentViewModel,this._denaliEditorModel)),this._userAccount.features.denali.withAllAlerts&&!this._userAccount.features.denali.outcomesUI&&Ce.push(function(e,t,n){return{when:Y,what:f.d.Effect.Applicator.create(i.e.Scheduler.inRaf(e).distinctUntilChanged(f.d.idAndStateMatch).pairwise().map(function(e){var n=e[0],r=e[1];return!f.d.isLensview(n)||n.currentLens.id===T.a.SpecialId.AllAlerts||f.d.isInGlobalSuccess(r)||t.doesLensExist(n.currentLens.id)?m.None:m.Option.pure(n.currentLens.id)}).switchMap(function(e){return e.fold(function(){return p.Observable.never()},function(e){return n.enqueue("resolveLens",{lensName:e}).mapTo(function(e){return e})})}))}}(this.stateHolder.state,this.sidebarViewModel,this._notificationsManager));var ke=this._userAccount.features.denali.superScroll?L:this._userAccount.features.denali.withAllAlerts?N:O.a;this.lensStateManager=new ke(this.stateHolder.state,this.sidebarViewModel,Ce,this._autoScrollToNextAlert,this._getAlertClosestToCursor),this.pageViewModel=new H.b(this.stateHolder,this.sidebarViewModel,this.lensStateManager,this._getAlertClosestToCursor,this._userAccount.features,new _(this._context)),this.marksViewModel=new B.b(this._denaliEditorModel,this.pageViewModel,this.cardsViewModel,this._engine.alertsList,this._context.environment.has(c.a.Flag.highHighlights),this._userAccount.features.denali,this._editorWrapperViewport),this.selectedCardViewModel=new G(this.stateHolder,this.marksViewModel),this.sidebarIOViewModel=new ee(this.marksViewModel,this.pageViewModel,this.alignmentViewModel),this.synonymsViewModel=new ce(this._engine.synonymsModel,this.stateHolder,this._networkState,this.marksViewModel,this._denaliEditorModel,this._engine.alertsList,this._notificationsManager),this.proofitViewModelOption=this._subscription.map(function(e){return new W.c(V._engine.documentModel.proofit,V._notifications,V._denaliEditorModel,V._userAccount,V._context.environment.textResources,e,V._goToMyDocuments)}),this.successLensViewModel=new te.b(this.stateHolder,this._denaliEditorModel,this._engine.documentModel),this.onboardingViewModel=new j.b(this._userAccount.settings,this.stateHolder,this._denaliEditorModel,this._engine.documentModel,this._engine.alertsList,this.sidebarViewModel,this._userAccount.features),this.upgradeViewModel=new de.b(this._engine.alertsList,this._docId,this._context.environment,this._upgradeHook),this.searchViewModel=new z.b(this._denaliEditorModel,this._engine.positionManager,this._editorWrapperViewport),this.reportViewModel=new U.c(this._engine,this._userAccount.profile,this._userAccount.features,this._notificationsManager),this.surveyManager=this._userAccount.features.denali.surveyType.map(function(e){return function(e,t,n,r,a,i,o){switch(e){case d.j.OutcomesUINewUsersNewUI:case d.j.OutcomesUINewUsersControl:case d.j.FreeClarityAlertsEnabled:case d.j.FreeClarityAlertsControl:case d.j.OutcomesUINewUsersHalfAlerts:case d.j.SuperScrollWithAutoJump:case d.j.SuperScrollWithoutAutoJump:return v.create(g.getDefault(e,t),o);case d.j.ProofitPromo:return Object(u.invariant)(a.nonEmpty(),"Proofit VM is not initialized"),v.create(g.getProofit(n,r,t,a.get(),i),o);default:return Object(u.assertNever)(e)}}(e,V.stateHolder.state,V._engine.documentModel,V._denaliEditorModel,V.proofitViewModelOption,V._uploadViewModel,V._userAccount.settings)})}return e.prototype.createLoaderViewModel=function(e,t,n){return new V(this._context.documentLoader.state,this.stateHolder,this._engine.documentModel,e,this._userAccount.features,this._denaliEditorModel,this._userAccount.settings,t,n)},e.prototype.createInlineCardViewModel=function(){return new M.c(this.marksViewModel,p.Observable.merge(this._denaliEditorModel.contentUpdated),this._engine.alertsList,this.synonymsViewModel)},e.prototype.dispose=function(){this._engine.shutdown(),this.searchViewModel.dispose(),this.successLensViewModel.dispose(),this.lensStateManager.dispose(),this.pageViewModel.dispose(),this.marksViewModel.dispose(),this.selectedCardViewModel.dispose(),this.sidebarIOViewModel.dispose(),this.synonymsViewModel.dispose(),this.reportViewModel.dispose(),this.surveyManager.forEach(function(e){return e.dispose()}),this.proofitViewModelOption.forEach(function(e){return e.dispose()}),this._subs.forEach(function(e){return e.unsubscribe()})},e}()},blO6:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("ERkP"),a=n("oZTP"),i=n("t2Ba"),o=n("RCFH"),s=n("p8D3"),c=n("DTSS"),l=n("N5NU"),u=function(e){var t=e.manager,n=e.views,u=e.onNotificationClose,d=void 0===u?i.noop:u;return r.createElement(a.F.div,{className:l.notificationWrapper},t.state.map(function(e){return e.map(function(e){var t=n[e.type],a=r.createElement(c.a.Wrapper,{key:e.id,notification:e,onClose:function(){e.actions.next("closed"),d(e)}},t(e,function(t){return function(){e.actions.next(t)}}));return s.a.isHighPriority(e)?r.createElement(o.b,{key:e.id,preventClose:!0,overlayType:"light",alignment:"top-center",animate:!0,theme:{content:l.overlayContent,contentFaded:l.overlayContentFaded}},a):a})}))}},bwwc:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("t5ZZ"),s=n("t2Ba"),c=n("qdCe"),l=function(e){var t=e.card,n=e.cardsVM,l=t.get(),u=function(){return t.get().alerts[0]},d=u();return a.createElement(o.a.Mini,{cardId:l.cardId,getActiveAlert:u,className:d.outcome.nonEmpty()?c.dotOutcomesPlagiarism:c.dotPlagiarism,cardsVM:n},a.createElement("div",{className:c.wrapper},a.createElement("span",r.__assign({key:"title"},Object(i.classes)(c.text,"publication"===d.plagiarismType.source&&c.fullText)),d.title),"web"===d.plagiarismType.source?d.plagiarismType.url.map(s.StringUtils.urlToDomain).filter(s.notEmpty).map(function(e){return a.createElement("span",{key:"url",className:c.domain}," — ",e)}).orNull():d.plagiarismType.authors.map(function(e){return a.createElement("span",{key:"publication",className:c.publication}," — ",e)}).orNull()))}},cQVk:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("nmwj"),s=function(e){var t=e.checked,n=e.id,s=e.className;return a.createElement("div",{role:"checkbox","data-name":n},a.createElement(i.F.input,{type:"checkbox",id:n,className:o.switchInput,checked:t,onChange:function(){return t.modify(function(e){return!e})}}),a.createElement(i.F.label,r.__assign({htmlFor:n},Object(i.classes)(o.switchButton,s)),a.createElement("span",{className:o.on},"ON"),a.createElement("span",{className:o.off},"OFF")))}},cppq:function(e,t,n){e.exports=n.p+"files/6a838499830b0c29490541ffdb6154b7/bg.jpg"},ePPH:function(e,t,n){"use strict";var r,a=n("kwyh"),i=n("ERkP"),o=n("oZTP"),s=n("kvVz"),c=n("ASSm"),l=n("CB9K"),u=n("xEd5"),d=n("t2Ba"),p=n("gAIq"),m=n("aUoX"),f=n("6v47"),h=n("JotR"),g=n("K5YX"),v=function(e){function t(t,n){var r=e.call(this,t)||this;return r._hovered=o.Atom.create(!1),r.mouseDownEvents=new l.Subject,r._setInternals(t),r._isHovered=void 0!==n.hovered?o.Atom.combine(n.hovered,r._hovered,d.or):r._hovered,r}return a.c(t,e),Object.defineProperty(t,"_log",{get:function(){return void 0===this.__buttonLogger&&(this.__buttonLogger=u.Monitoring.Logging.getLogger("Button")),this.__buttonLogger},enumerable:!0,configurable:!0}),t.prototype.getChildContext=function(){return{hovered:this._isHovered,disabled:"boolean"==typeof this._isDisabled?o.Atom.create(this._isDisabled):this._isDisabled,active:"boolean"==typeof this._isActive?o.Atom.create(this._isActive):this._isActive}},t.prototype.componentWillReceiveProps=function(e){this._setInternals(e)},t.prototype.render=function(){var e=void 0!==this.props.href?this._genLinkEl():this._genDivEl();return this.props.title?i.createElement(m.a,{title:this.props.title,align:this.props.titleAlign||"auto"},e):e},Object.defineProperty(t.prototype,"_name",{get:function(){var e=this.props.name,t="string"==typeof e?e:e.get();return void 0!==this.context.name?this.context.name+"/"+t:t},enumerable:!0,configurable:!0}),t.prototype._setInternals=function(e){var n=this,r=e.onClick?this._getGenericButtonInternals(e.onClick,e.disabled):{onClick:void 0,isDisabled:void 0!==e.disabled&&e.disabled},a=r.onClick,i=r.isDisabled;this._onClick=function(e){return t._log.info("Button clicked: "+n._name),a&&a(e).catch(function(e){return t._log.error("Button click failed: "+n._name,e)})},this._isDisabled=i,this._isActive=void 0!==e.active&&e.active},t.prototype._genLinkEl=function(){return this.props.styleType?i.createElement(f.Typography,a.a({styleType:this.props.styleType,nodeType:"a"},this._getLinkRenderProps())):i.createElement(o.F.a,a.a({},this._getLinkRenderProps()))},t.prototype._genDivEl=function(){return this.props.styleType?i.createElement(f.Typography,a.a({styleType:this.props.styleType,nodeType:"div"},this._getDivRenderProps())):i.createElement(o.F.div,a.a({},this._getDivRenderProps()))},t.prototype._getLinkRenderProps=function(){return this._getBaseRenderProps(a.a({href:this.props.href,target:this.props.target},Object(o.classes)(g.linkBtn,this.props.className)))},t.prototype._getDivRenderProps=function(){return this._getBaseRenderProps({role:"button",className:this.props.className})},t.prototype._getBaseRenderProps=function(e){var t=this,n=c.Option.of(this.props.textPosition).orElseL(function(){return r.parseFromNodes(t.props.children)}).map(function(e){return{"data-textpos":e}}).getOrElse({});return a.a({onClick:this._onClick,onMouseOver:function(){return t._hovered.set(!0)},onMouseLeave:function(){return t._hovered.set(!1)},onMouseDown:function(e){var n=e.pageX,r=e.pageY;return t.mouseDownEvents.next({pageX:n,pageY:r})},"data-name":this._name,"data-disabled":this._isDisabled,"data-active":this._isActive,"data-hovered":this._isHovered,style:this.props.style,children:this._renderChildren()},n,e)},t.prototype._renderChildren=function(){return this.props.animationMode&&this.props.animationMode!==h.a.None?this._renderChildrenAsArray().concat(this._renderRippleAnimation()):this.props.children},t.prototype._renderChildrenAsArray=function(){return Array.isArray(this.props.children)?[].concat.apply([],this.props.children):[this.props.children]},t.prototype._renderRippleAnimation=function(){return i.createElement(h.b,{key:"ripple",animationMode:this.props.animationMode||h.a.FromClickPoint,mouseDownEvents:this.mouseDownEvents})},t.prototype._getGenericButtonInternals=function(e,t){void 0===t&&(t=!1);var n=o.Atom.create(!1),r="boolean"==typeof t?n.view(function(e){return t||e}):o.Atom.combine(t,n,d.or);return{onClick:this._decorateOnClickWithStateManager(e,function(e){return n.set(e)},function(){return r.get()}),isDisabled:r}},t.prototype._decorateOnClickWithStateManager=function(e,t,n){var r=this;return function(i){return a.b(r,void 0,void 0,function(){return a.d(this,function(r){switch(r.label){case 0:if(i.stopPropagation(),n())return[2];t(!0),r.label=1;case 1:return r.trys.push([1,,3,4]),this._hovered.set(!1),[4,e()];case 2:return[2,r.sent()];case 3:return t(!1),[7];case 4:return[2]}})})}},t.displayName="BaseButton",t.contextTypes=a.a({},p.a.HoveredContextTypes,p.a.GroupedContextTypes),t.childContextTypes=p.a.contextTypes,t.__buttonLogger=void 0,t}(i.Component);!function(e){var t=new Map([["+","everywhere"],["++","everywhere"],["+-","left"],["-+","right"],["+++","everywhere"],["+-+","everywhere"],["++-","left"],["-++","right"],["-+-","surrounded"]]),n=function(e){return e.map(function(e){return"string"==typeof e?"+":"-"}).join("")};e.parseFromNodes=function(e){var r=s.isFragment(e)?e.props.children:e,a=n(Array.isArray(r)?r:[r]);return c.Option.of(t.get(a))}}(r||(r={}));var b,y=n("Jguk");function _(e){return i.createElement(v,a.a({},E(e,g.button)))}function E(e,t){var n=Object(o.classes)(e.className,t).className;return a.a({},e,{className:n})}n.d(t,"a",function(){return _}),n.d(t,"c",function(){return E}),n.d(t,"b",function(){return w}),(b=_||(_={})).Animated=function(e){return i.createElement(v,a.a({},a.a({},e,{animationMode:e.animationMode||h.a.FromClickPoint})))},b.Primary=function(e){return i.createElement(b.Animated,a.a({styleType:f.Typography.Type.H3Legacy},E(e,g.primary)))},b.Ghost=function(e){return i.createElement(b.Animated,a.a({styleType:f.Typography.Type.H3Legacy},E(e,g.ghost)))},b.Flat=function(e){return i.createElement(b.Animated,a.a({},E(e,g.flat)))},b.White=function(e){return i.createElement(b.Animated,a.a({},E(e,g.white)))},b.SidebarFlat=function(e){return i.createElement(v,a.a({styleType:f.Typography.Type.H3Legacy},E(e,g.sidebarFlat)))},b.Caps=function(e){return i.createElement(v,a.a({styleType:f.Typography.Type.H3Legacy},E(e,g.caps)))},b.Group=function(e){var t=e.children,n=e.className,r=e.align,s=void 0===r?"horizontal":r,c=e.sticky;return i.createElement(o.F.div,a.a({},Object(o.classes)(n,"horizontal"===s?c?g.groupSticky:g.group:g.groupVertical)),t)};var w=function(e){var t=e.title,n=e.titleAlign,r=e.buttonClass,s=e.iconClass,c=e.iconWidth,l=e.tooltipClass;return i.createElement(_,{name:"info-button",title:i.createElement(o.F.div,a.a({},Object(o.classes)(g.infoTooltip,l)),i.createElement("p",null,t)),titleAlign:n,className:r},i.createElement(y.d.Info,{width:c,className:s}))}},fQ10:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("p9uY"),s=n("MqdC");var c=function(e){var t=e.activeAlert,n=e.className,c=function(e){return e.outcome.fold(function(){return{style:o.a.typeMatch(e.alertType)({critical:s.dotCritical,advanced:s.dotAdvanced}),description:e.lensId}},function(t){var n=e.toLensAlert().lensName;return{style:o.a.outcomeTypeMatch(e.alertType)({correctness:s.dotCorrectness,clarity:s.dotClarity,engagement:s.dotEngagement,tone:s.dotTone}),description:n===t?n:t+": "+n}})}(t);return a.createElement("div",r.__assign({},Object(i.classes)(s.lens,c.style,n)),c.description)}},"fT1+":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return f});var r,a=n("mrSG"),i=n("oZTP"),o=n("ASSm"),s=n("CB9K"),c=n("t2Ba"),l=n("b0nb"),u=n("WhHs"),d=n("SfQc"),p=n("xEd5");!function(e){e.KEY_F=70,e.KEY_G=71,e.KEY_Esc=27,e.KEY_Enter=13,e.SEARCH_INPUT_NAME="search-input",e.isSearchInput=function(t){return t&&t.name===e.SEARCH_INPUT_NAME},e.isCmdKeyPressed=function(e,t){return(e.metaKey||e.ctrlKey)&&e.which===t&&!(e.shiftKey||e.altKey)},e.isCmdShiftKeyPressed=function(e,t){return(e.metaKey||e.ctrlKey)&&e.shiftKey&&e.which===t&&!e.altKey};var t=function(){function e(e){this.visible=i.Atom.create(!1),this.term=i.Atom.create(""),this.dispose=c.noop,this.result=i.Atom.create(o.Option.of(e).map(function(e){return a.__assign({},e,{next:c.noop,prev:c.noop})}))}return e.prototype.select=function(){throw new Error("Method not implemented.")},e}();e.Mock=t}(r||(r={}));var m=function(){function e(e,t,n){this._ops=e,this._term=t,this.count=n.ranges.length,this.current=n.selected.getOrElse(0)+1,this._ops._highlightSelectedRange()}return e.prototype.next=function(){var e=this;this._ops._forceSearch(),this._ops._selectedPos.modify(function(t){return t.map(function(e){return e+1}).map(function(t){return t>e.count-1?0:t}).orElse(Object(o.Some)(0))}),this._ops._highlightSelectedRange(1===this.count)},e.prototype.prev=function(){var e=this;this._ops._forceSearch(),this._ops._selectedPos.modify(function(t){return t.map(function(e){return e-1}).map(function(t){return t<0?e.count-1:t}).orElse(Object(o.Some)(e.count-1))}),this._ops._highlightSelectedRange()},e.prototype.equals=function(e){return null!=e&&this.count===e.count&&this.current===e.current&&this._term===e._term},e.prototype.hashCode=function(){return Object(o.hashCodeOfString)(this._term)+this.count+(this.current<<4)},e}(),f=function(){function e(t,n,r){var a=this;this._ded=t,this._rangeManager=n,this._editorViewport=r,this._log=p.Monitoring.Logging.getLogger("SearchViewModel"),this._subs=[],this._forceSearchSubject=new s.Subject,this._rangesState=i.Atom.create({ranges:[],selected:o.Option.empty()}),this._selectedRange=this._rangesState.view(function(e){return e.selected.map(function(t){return e.ranges[t]})}),this._activeMark=i.Atom.create(o.Option.empty()),this.visible=i.Atom.create(!1),this.term=i.Atom.create(""),this.result=i.Atom.create(o.Option.empty()),this.select=function(){a._forceSearch(),a._rangesState.modify(function(e){var t=e.ranges,n=e.selected;return{ranges:t,selected:n.orElse(Object(o.Some)(0)).filter(function(){return Object(c.notEmpty)(t)})}}),a._highlightSelectedRange()},this.dispose=function(){a.term.set(""),a._subs.forEach(function(e){return e.unsubscribe()}),a._subs=[]},this._selectedPos=this._rangesState.lens("selected"),this._forceSearch=function(){return a._forceSearchSubject.next()},this._highlightSelectedRange=function(e){void 0===e&&(e=!1);var t=a._selectedRange.get();e&&Object(c.isOptionsEq)(a._activeMark.get(),t,function(e,t){return e.rangeId===t.rangeId})&&a._ensureMarkInViewport(a._currentMark).subscribe({error:function(e){return a._log.error("Cannot scroll to mark",e)}}),a._activeMark.set(t)},this._removeRanges=function(e){a._activeMark.get().filter(function(t){return e.has(t.rangeId)}).forEach(function(){return a._activeMark.set(o.None)}),a._rangesState.modify(function(t){var n=t.ranges.filter(function(t){var n=t.rangeId;return!e.has(n)||(a._rangeManager.deregisterRange(n),!1)});return{ranges:n,selected:t.selected.filter(function(e){return e<n.length})}})},this._findRanges=function(e){return Object(c.notEmpty)(e)?a._searchTerm(a._ded.getText().toLowerCase(),e.toLowerCase()):[]},this._changeActiveMark=function(e){var t=e.prev,n=e.next;a._currentMark=null,t.forEach(function(e){a._ded.changeMarks([u.Mark.getRemoveAction({id:e.rangeId,range:function(){return e}})])}),n.forEach(function(e){a._currentMark=a._ded.changeMarks([u.Mark.getCreateAction({id:e.rangeId,range:function(){return e},order:0,classes:[d.mark]})])[0],a._ensureMarkInViewport(a._currentMark).subscribe({error:function(e){return a._log.error("Cannot scroll to mark",e)}})})},this._subs.push(s.Observable.merge(this.term.filter(function(e){return e.length>3}).debounceTime(300),this.term.filter(function(e){return e.length<=3}).mapTo(""),this._forceSearchSubject.withLatestFrom(this.term,function(e,t){return t})).distinctUntilChanged().map(this._findRanges).subscribe(function(e){a._activeMark.set(o.None),a._replaceRanges(e)}),this._rangesState.map(function(e){return Object(o.Some)(e).filter(function(e){return Object(c.notEmpty)(e.ranges)}).map(function(e){return new m(a,a.term.get(),e)})}).subscribe(function(e){return a.result.set(e)}),this._rangesState.switchMap(function(e){var t=e.ranges;return Object(c.notEmpty)(t)?a._rangeManager.rangeChanged:s.Observable.empty()}).map(function(t){return t.filter(function(t){return t.type===e.SearchRange})}).map(function(e){return new Set(e.map(function(e){return e.rangeId}))}).subscribe(this._removeRanges),this._activeMark.scan(function(e,t){return{prev:e.next,next:t}},{prev:o.Option.empty(),next:o.Option.empty()}).subscribe(this._changeActiveMark)),this._subs.push(this._ded.dontFreezeWhen(this.visible,"search"),this.visible.skip(1).filter(function(e){return!e}).subscribe(function(){a.term.set("")})),Object(c.registerDebugHelper)("searchVM",this)}return e.prototype._searchTerm=function(t,n){for(var r=-1,a=[];(r=t.indexOf(n,r+1))>-1;)a.push(new l.c(r,r+n.length,e.SearchRange));return a},e.prototype._replaceRanges=function(t){var n=this;this._rangesState.modify(function(r){return r.ranges.forEach(function(e){return n._rangeManager.deregisterRange(e.rangeId)}),{ranges:t.map(function(t){return n._rangeManager.registerRange("search_"+n.term.get().replace(/\s*/g,"_")+"_"+e.searchMarkCount++,t)}),selected:t.length>0?Object(o.Some)(0):o.None}})},e.prototype._ensureMarkInViewport=function(e){var t=this;return o.Try.of(function(){return Object(c.invariant)(null!==e,"Mark should not be null at this point"),e}).flatMap(function(e){return e.viewportRect}).map(function(e){return e.fst.top}).fold(function(e){return s.Observable.throw(e)},function(n){var r=t._editorViewport.get(),a=r.top,i=r.bottom;return n<a+50||n>i-50?t._ded.scrollToMark(e,{paddingTop:500,animate:u.AnimateMode.fast}):s.Observable.empty()})},e.SearchRange="searchRange",e.searchMarkCount=0,e}()},im4w:function(e,t,n){"use strict";n("hQK4");var r=n("fOM/");n.d(t,"a",function(){return r.b})},jW1I:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var r=n("mrSG"),a=n("ERkP"),i=n("mEc7"),o=n("NZ0c"),s=function(e){var t=e.header,n=e.description,r=e.measure,i=e.score;return a.createElement("section",{className:o.insightsSection},a.createElement("table",{className:o.insightTable},a.createElement("tbody",null,a.createElement("tr",{className:o.insightHeader},a.createElement("td",{className:o.insightTextHeader},t),a.createElement("td",{className:o.insightScore},i)),a.createElement("tr",{className:o.insightBody},a.createElement("td",{className:o.insightTextCell},n),a.createElement("td",{className:o.insightScoreCell},r)))))},c=function(e){var t=e.score,n=r.__rest(e,["score"]);return a.createElement(s,r.__assign({},n,{score:("number"!=typeof t||t<0?0:t>100?100:Math.round(t))+"%"}))},l=function(e){var t=e.score,n=r.__rest(e,["score"]);return a.createElement(s,r.__assign({},n,{score:""+("number"!=typeof t?0:Math.round(10*t)/10)}))},u=Object(i.f)(function(e,t){var n=e.stats,r=t.textResources;return a.createElement("div",null,a.createElement(c,{header:r.denali.performance.uniqueWordsTitle,description:r.denali.performance.report.uniqueWordsDescription,measure:r.denali.performance.uniqueWordsTitle,score:n.uniqueWords}),a.createElement(c,{header:r.denali.performance.rareWordsTitle,description:r.denali.performance.rareWords,measure:r.denali.performance.rareWordsTitle,score:n.rareWords}),a.createElement(l,{header:r.denali.performance.wordLengthTitle,description:r.denali.performance.report.wordLengthDescription,measure:r.denali.performance.report.wordLengthMeasure,score:n.wordLength}),a.createElement(l,{header:r.denali.performance.sentenceLengthTitle,description:r.denali.performance.report.sentenceLengthDescription,measure:r.denali.performance.report.sentenceLengthMeasure,score:n.sentenceLength}))})},jcJZ:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("n3Ao"),s=n("KL5p"),c=n("mEc7"),l=n("+ukg"),u=n("p9uY"),d=n("im4w"),p=n("5egB"),m=n("hQK4"),f=n("Oj6O"),h=n("A4qE"),g=n("ePPH"),v=n("u/Xi"),b=n("t2Ba"),y=n("47ib"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._rendered=!1,t._focusedLensOrderNumber=i.Atom.combine(t.props.pageViewModel.stateHolder.state,t.props.sidebarViewModel.lenses,function(e,t){var n=e.currentLens;return t.find(function(e){return e.id!==n.id}).map(function(e){return e.index}).getOrElse(-1)}),t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;requestAnimationFrame(function(){e._rendered=!0})},t.prototype._renderList=function(){var e=this,t=this.props,n=t.sidebarViewModel,c=t.pageViewModel,l=t.features;return a.createElement(p.a,{key:"onboarding",alignment:"bottomFlexible",eventType:"onclick",stepId:f.a.Id.Step7,title:"Focused editing",message:"Categorized suggestions help you concentrate on specific aspects of your writing.",findFirstButton:{dotPosition:"center",buttonOrder:this._focusedLensOrderNumber,notificationPosition:"underButton"},themes:{containerClassName:y.onboardingContainer,containerWrapperClassName:y.onboardingContainer,notificationClassName:y.onboardingNotification,triangleClassName:y.triangleClassName}},a.createElement(s.b,r.__assign({name:"lenses"},Object(i.classes)(y.itemList,this.props.className),{update:n.lenses.view("size").mapTo(o.e.voidValue),allowHover:!0,key:"list"}),i.Atom.combine(n.lenses,n.getPersistentLens(u.a.SpecialId.AllAlerts),function(e,t){return l.denali.withAllAlerts&&e.size?e.add(t):e}).switchMap(o.e.Scheduler.rafScheduler).map(function(t){return t.mapTo(function(t,r,i){return a.createElement(v.a,{key:t.id,offset:e._getOffset(i),theme:y},a.createElement(E,{lens:t,sidebarViewModel:n,pageViewModel:c,parentRendered:e._rendered}))}).concat([e._renderAdvanced({position:t.size})])}).startWith(null)))},t.prototype._getOffset=function(e){return 2.55*e+"rem"},t.prototype._renderAdvanced=function(e){var t=this,n=e.position;return a.createElement(i.F.div,{key:"lens-advanced-container"},this.props.features.isFree.view(function(e){return e?a.createElement(v.a,{key:"lens-advanced",offset:t._getOffset(n),theme:y},t.props.sidebarViewModel.getPersistentLens(u.a.SpecialId.Premium).view(function(e){var r=e.count;return r>0?a.createElement("div",{className:y.advancedBtn},n>0&&a.createElement("div",{className:y.advancedDelimiter}),a.createElement(w,{count:r,pageViewModel:t.props.pageViewModel,sidebarViewModel:t.props.sidebarViewModel,features:t.props.features})):null})):null}))},t.prototype.render=function(){return a.createElement("div",{className:y.wrapper},this._renderList())},t}(c.a),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._animateIn=t.props.parentRendered,t._active=i.Atom.create(!1),t._toLens=function(){var e=t.props,n=e.lens;e.pageViewModel.switchToLens(n.id,d.a.sidebar,"lensOrder")},t}return r.__extends(t,e),t.prototype.componentWillMount=function(){this._focusedLens=this.props.pageViewModel.stateHolder.state.switchMap(o.e.Scheduler.rafScheduler).map(m.d.is(this.props.lens.id)).subscribe(o.e.toAtom(this._active))},t.prototype.componentWillUnmount=function(){this._focusedLens.unsubscribe()},t.prototype.render=function(){var e=this,t=this.props.lens;return a.createElement(g.a.SidebarFlat,r.__assign({name:"lens-"+t.id},Object(i.classes)(this._animateIn&&y.lensBtnAnimate),{active:this._active,disabled:this._active,onClick:function(){e.context.gnarSpec.openLensButtonClick(b.StringUtils.camelize(t.title),e.context.pageId),e._toLens()}}),a.createElement(i.F.div,{className:t.id===u.a.SpecialId.AllAlerts?y.bold:void 0},t.title),a.createElement(h.a.Counter,{count:t.count,type:this._active.view(function(e){return e?t.type===u.a.Type.Advanced?"yellow":"red":"gray"}),theme:y}))},t}(c.a),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._trackingPlacement=function(){return t.props.pageViewModel.stateHolder.sidebarOpen.get()?"wiritingAssistant":"writingMode"},t._toAdvanced=function(){t.context.gnarSpec.advancedIssuesButtonClick(t.context.pageId,t._trackingPlacement()),t.props.pageViewModel.switchToAdvanced()},t._isActive=t.props.pageViewModel.stateHolder.state.view(m.d.is(u.a.SpecialId.Premium)),t}return r.__extends(t,e),t.prototype.render=function(){var e=this;return a.createElement(g.a.SidebarFlat,{name:"lens-advanced",className:y.advancedBtn,active:this._isActive,disabled:this._isActive,onClick:function(){e._toAdvanced()}},a.createElement(i.F.div,null,this.props.features.denali.alertGroupNames===l.a.CRITICAL_ADVANCED?this.context.textResources.denali.sidebar.advancedIssuesTitle:this.context.textResources.denali.sidebar.premiumAlertsTitle),a.createElement(h.a.Counter,{key:"count",count:this.props.count,type:"yellow",theme:y}))},t}(c.a)},jjv7:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("xEd5"),s=n("lycr"),c=n("t2Ba"),l=n("nQSW"),u=n("n3Ao"),d=n("fOM/"),p=n("Jguk"),m=n("ePPH"),f=n("VI1M"),h=n("6v47"),g=n("mEc7"),v=n("p9uY"),b=n("aC+x"),y=n("uHjg"),_=["b","i","br"],E=function(e){return u.d.setInnerHTML(e,{allowedTags:_})};function w(e){return e.get().activeAlert.alertType===v.a.Type.OutcomesPlagiarism}var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.onFocus()},t.prototype.render=function(){var e=this.props,t=e.card,n=e.cardsViewModel,r=t.view("alerts"),o=t.view("activeAlert");return a.createElement(i.F.div,{className:y.wrapper},a.createElement("div",{className:y.main},a.createElement(h.Base,{className:y.plagiarismP2},a.createElement(i.F.span,{className:w(t)?y.outcomePercent:y.percent},t.view("meta","percentile"),"%")," of your text matches this source:"),a.createElement(A,{alert:o}),a.createElement(m.a.Ghost,{name:"ignore",title:"Dismiss",className:y.ignoreButton,onClick:function(){var e=r.get();e[0].dismissBatch(e)}},a.createElement(p.d.Ignore,null))),a.createElement(T,{alert:o}),r.view(function(e){return e.length>1&&a.createElement(O,{key:"matches",card:t,cardsVM:n})}))},t}(g.a),k=Object(g.f)(function(e,t){var n=e.textToCopy,i=e.children,o=t.notifications,s=t.environment;return a.createElement(m.a.Flat,{key:"copy_title",name:"copy_title",title:"Click to copy",className:y.copyableReference,onClick:function(){return c.Clipboard.copy(n,s.has(l.b.Flag.useSetDataOnCopy)).then(function(){o.showMessage("Reference copied to clipboard")}).catch(function(){o.show(o.create.copyToClipboardFailed())})}},i,a.createElement("div",r.__assign({className:y.textToCopy},E(n))))}),S=function(e){var t=e.title,n=e.url;return a.createElement(h.Paper,{className:y.plagiarismTitle},a.createElement("div",r.__assign({},E(t))),n.map(function(e){return a.createElement(m.a,{name:"url-button",href:e,target:"_blank",styleType:h.Typography.Type.Base,className:y.titleUrl},e)}).orNull())},M=function(e){var t=e.title,n=e.authors;return a.createElement(h.Paper,{className:y.plagiarismTitle},a.createElement("span",r.__assign({},E(t))),n.map(function(e){return a.createElement("span",null," ",a.createElement("span",{className:y.titleBy},"by")," ",a.createElement("span",r.__assign({},E(e))))}).orNull())},A=function(e){var t=e.alert;return a.createElement(i.F.div,null,t.view(function(e){return"publication"===e.plagiarismType.source?a.createElement(M,{title:e.title,authors:e.plagiarismType.authors}):a.createElement(S,{title:e.title,url:e.plagiarismType.url})}))},T=function(e){var t=e.alert;return a.createElement(i.F.div,null,t.view(function(e){return a.createElement(x,{alert:e})}))},x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=o.Monitoring.Logging.getLogger("PlagiarismReferenceBlockContent"),t}return r.__extends(t,e),t._renderPublication=function(e){var n=i.Atom.create("mla");return a.createElement(i.F.div,{key:"publication",className:y.referenceWrapper},n.view(function(r){return a.createElement(a.Fragment,null,a.createElement(k,{key:"rf1"+r,textToCopy:e.citationStyle[r]}),a.createElement(h.Small,{className:y.referenceData},"Reference data – click to copy in  ",a.createElement(f.a,{vAlign:"top",name:"plagiarism",label:a.createElement(m.a,{name:"citation-style-select",active:!1,className:y.citationStyleSelect},t.citationTitles[r]," ",a.createElement(p.d.CitationStyle,{className:y.citationStyleIcon})," ")},t.citationKeys.map(function(e){return a.createElement(m.a.Flat,{className:y.citationStyleDdlButton,key:e,name:"citation-button-"+e,active:n.view(function(t){return t===e}),onClick:function(){return n.set(e)}},t.citationTitles[e])}))," format"))}))},t._renderWeb=function(e,t){return a.createElement("div",{key:"web",className:y.referenceWrapper},a.createElement(k,{textToCopy:e+t.url.map(function(e){return". "+e}).getOrElse("")},a.createElement(h.Small,{className:y.referenceData},"Reference data – click to copy")))},t.prototype.componentDidMount=function(){try{this.props.alert.sendFeedback(s.CAPI.AlertFeedbackType.LOOKED,d.b.sidebar)}catch(e){this._log.warn("Cannot send LOOKED feedback",e)}},t.prototype.render=function(){var e=this.props.alert;return"publication"===e.plagiarismType.source?t._renderPublication(e.plagiarismType):t._renderWeb(e.title,e.plagiarismType)},t.citationTitles={mla:"MLA",apa:"APA",chicago:"Chicago"},t.citationKeys=Object.keys(t.citationTitles),t}(a.Component),O=function(e){var t=e.card,n=e.cardsVM,r=t.view("alerts");return Object(c.invariant)(r.get().length>0,"matches should contain at least one element"),a.createElement("div",null,a.createElement("div",{className:y.matchesContainer},a.createElement(i.F.div,{className:y.matchesContainerLeft},a.createElement(h.P1,{className:w(t)?y.outcomeMatchesIndex:y.matchesIndex},t.view("activeAlertIndex").view(function(e){return e+1})),a.createElement(h.Base,null,"of ",r.view(function(e){return e.length})," matches")),a.createElement("div",{className:y.matchesContainerRight},a.createElement(m.a.Caps,{className:y.leftButton,name:"left",disabled:t.view(function(e){return e.prevAlert().isEmpty()}),onClick:function(){n.actionEvents.next({type:b.a.Type.changeAlert,alertHighlight:{highlightIndex:0,alert:t.get().prevAlert().get()}})}},a.createElement(p.d.Arrow,{className:y.leftButtonIcon}),"Previous"),a.createElement(m.a.Caps,{name:"right",disabled:t.view(function(e){return e.nextAlert().isEmpty()}),onClick:function(){n.actionEvents.next({type:b.a.Type.changeAlert,alertHighlight:{highlightIndex:0,alert:t.get().nextAlert().get()}})}},"Next",a.createElement(p.d.Arrow,{className:y.rightButtonIcon})))))}},jm6F:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("mrSG"),a=n("ERkP"),i=n("CB9K"),o=n("oZTP"),s=n("mEc7"),c=n("n3Ao"),l=n("6v47"),u=n("9XjG");function d(e){var t=e.value,n=e.className,s=e.leftCustomClass,l=e.rightCustomClass,d=o.Atom.create(!1);requestAnimationFrame(function(){return requestAnimationFrame(function(){return d.set(!0)})});var p=i.Observable.combineLatest(c.e.toObservable(t),d,function(e,t){return t?Math.max(5,Math.abs(e-50))+"%":0}),m=function(e,t,n){return c.e.toObservable(e).map(function(e){return e<50?t:n})};return a.createElement(o.F.div,r.__assign({},Object(o.classes)(function(e){return c.e.toObservable(e).map(function(e){return e<50?u.leftSideWrapper:u.rightSideWrapper})}(t),n)),a.createElement(o.F.div,r.__assign({},Object(o.classes)(m(t,u.leftSideProgress,u.rightSideProgress),s&&l&&m(t,s,l)),{style:{width:p}})))}!function(e){e.Label=Object(s.f)(function(e,t){var n=e.value,r=e.className,i=t.textResources.denali.performance,o=n>66?i.aboveAverage:n>50?i.average:i.belowAverage;return a.createElement(l.Small,{className:r},o)})}(d||(d={}))},kKaD:function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return g});var r=n("mrSG"),a=n("ERkP"),i=n("CB9K"),o=n("ASSm"),s=n("oZTP"),c=n("t2Ba"),l=n("mEc7"),u=n("n3Ao"),d=n("87V+"),p=n("hLuh"),m=40,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._linesCount=t.props.defaultLinesCount||m,t._wrapper=s.Atom.create(o.None),t._title=s.Atom.create(o.None),t._linesHeight=s.Atom.create(t._linesCount),t._subs=[],t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this._subs.push(i.Observable.combineLatest(this.context,c.DOM.windowResize.startWith(u.e.voidValue),function(e){return e}).switchMap(function(t){return s.Atom.combine(e._wrapper,e._title,function(e,n){return{wrapper:e,title:n,remSize:t}})}).filter(function(e){var t=e.wrapper,n=e.title;return t.nonEmpty()&&n.nonEmpty()}).switchMap(u.e.Scheduler.rafScheduler).switchMap(u.e.Scheduler.rafScheduler).subscribe(function(t){var n=t.wrapper,r=t.title,a=t.remSize,i=Math.floor((n.get().offsetHeight-r.get().offsetHeight)/a);e._linesHeight.set(i)}))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){var e=this,t=this.props.wrapperClass;return a.createElement("div",r.__assign({ref:function(t){return e._wrapper.set(o.Option.of(t))}},Object(s.classes)(p.wrapper,t)),a.createElement("div",{className:p.loaderInitial}),a.createElement("div",{className:p.loader1}),a.createElement("div",{className:p.loader2}),a.createElement("div",{className:p.titleWrap,ref:function(t){return e._title.set(o.Option.of(t))}},this.props.children),a.createElement(s.F.div,r.__assign({style:this._linesHeight.view(function(e){return{height:e+"rem"}})},Object(s.classes)(p.lines,this.props.linesClass))),a.createElement("div",{className:p.empty}))},t.contextType=d.a.Context,t}(a.Component),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return a.createElement(f,{linesClass:p.documentLines},a.createElement("div",{className:p.documentTitleWrap},a.createElement("div",{className:p.documentTitle})))},t}(l.a),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props.features;return a.createElement(f,{linesClass:p.lensviewLines,wrapperClass:p.lensviewWrapper},e.denali.revampedHeader?a.createElement(a.Fragment,null,a.createElement("div",{className:p.lensviewNewTitle}),a.createElement("div",{className:p.lensviewOpenCard})):a.createElement(a.Fragment,null,a.createElement("div",{className:p.lensviewTitle}),a.createElement("div",{className:p.lensviewDescr}),a.createElement("div",{className:p.lensviewOpenCard})))},t}(l.a)},kQ5X:function(e,t,n){"use strict";n.r(t);var r,a=n("mrSG"),i=n("ERkP"),o=n("CB9K"),s=n("ASSm"),c=n("fJNo"),l=n("oZTP"),u=n("xEd5"),d=n("mEc7"),p=n("nQSW"),m=n("Pe9T"),f=n("lycr"),h=n("blO6"),g=n("87V+"),v=n("b0nb"),b=n("AW4s");!function(e){(r||(r={})).merge=function(e){return{changes:o.Observable.merge.apply(o.Observable,e.map(function(e){return e.changes}))}}}();var y,_,E,w=n("NQVW"),C=n("woBb"),k=3e5,S=function(){function e(t,n,r,a,i,o,s,c){var l=this;this._log=u.Monitoring.Logging.getLogger("ChangesDispatcher",u.Logging.LogLevel.DEBUG),this._log.debug("Got initial text, len: "+t.length);var d=e.NamedChangesSink.factory(c),p={pm:d(e.Receiver.PM,i),dm:d(e.Receiver.PM,o),capi:d(e.Receiver.CAPI,a),dox:d(e.Receiver.DOX,r),dedApi:d(e.Receiver.DEd,e._dedToSync(n,"api")),dedUser:d(e.Receiver.DEd,e._dedToSync(n,"user"))};n.changes.map(function(){return n.getTextLength()}).distinctUntilChanged().throttleTime(k).subscribe(function(e){u.Monitoring.TimeSeries.root.getTimer("text_length").recordTime(e)}),e.Producer.create(e.Producer.DEd,n)(p.pm,p.dm,p.capi,p.dox),e.Producer.create(e.Producer.ALERT_APPLY,s)(p.dedUser),e.Producer.create(e.Producer.DOX,r)(p.pm,p.dm,p.dedApi,p.capi),a.events.subscribe(function(t){if("before_alert"===t.kind)n.flushChanges();else if("wait_for_ot"===t.kind){l._log.debug("session_started from capi"),n.flushChanges();var r=n.getContents();p.capi.pushChanges(e.Producer.DEd,r)}}),p.pm.pushChanges(e.Producer.DOX,t),p.dedApi.pushChanges(e.Producer.DOX,t)}return e.init=function(t,n,r,a,i,s,c){var l=new o.Subject;return new e(t,n,r,a,i,s,c,l),l},e._dedToSync=function(e,t){return{pushChanges:function(n){e.pushChanges(n,t),"user"!==t||f.Change.isFlush(n)||e.flushChanges()}}},e}();E=S||(S={}),(_=E.Producer||(E.Producer={})).DEd="denali_editor",_.DOX="remote_document",_.ALERT_APPLY="alert_synonyms_manager",function(e){e.create=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.changes.subscribe(function(t){n.forEach(function(n){return n.pushChanges(e,t)})})}}}(E.Producer||(E.Producer={})),(y=E.Receiver||(E.Receiver={})).DEd="denali_editor",y.DOX="remote_document",y.CAPI="checking_service",y.PM="position_manager",function(e){function t(e,t,n){return{pushChanges:function(r,a){try{t.pushChanges(a)}catch(t){n.next({exception:t,details:{from:r,to:e}})}}}}e.factory=function(e){return function(n,r){return t(n,r,e)}},e.create=t}(E.NamedChangesSink||(E.NamedChangesSink={}));var M,A,T,x,O=n("zUSz"),N=n("YxLS"),L=n("Lmm7"),I=n("t2Ba"),P=n("p9uY"),F=n("fOM/"),D=n("Ux9p"),R=3e3,V=function(){function e(e,t,n,r,a,i,o,s,c){var l=this;this._documentId=e,this._context=i,this._isFree=o,this._alertCache=s,this._scoresCache=c,this.saveScores=function(e){return l._scoresCache.save(l._documentId,l._context.get(),l._isFree,e)},this._subs=[t.filter(function(e){return"session_started"===e.kind}).switchMap(function(){return t.skipWhile(function(e){return"finish"!==e.kind}).filter(function(e){return"alert_received"===e.kind||"alert_removed"===e.kind}).merge(n.changes).merge(a).merge(r.alertEvents)}).auditTime(R).subscribe(function(){return l.saveAlerts(r.getAllAlertsAsArray().filter(F.a.isCacheable).map(function(e){return e.toLocalRawAlert()}))}),t.filter(f.CAPI.CAPIEvent.is("finish")).auditTime(R).map(function(e){return e.outcomeScores}).map(function(e){return Object.entries(e).map(function(e){var t=e[0],n=e[1];return{lensId:P.a.OutcomeId.toOutcomeIdString(t),score:n}})}).subscribe(this.saveScores)]}return e.prototype.getCorrectAlerts=function(e){return s.Option.of(this._alertCache.load(this._documentId,this._context.get(),this._isFree)).map(function(t){return t.filter(function(t){return D.a.isHighlightValid(t,e)})})},e.prototype.getScores=function(){return s.Option.of(this._scoresCache.load(this._documentId,this._context.get(),this._isFree)).filter(I.notEmpty).map(function(e){return new Map(e.map(function(e){return[e.lensId,e.score]}))})},e.prototype.saveAlerts=function(e){this._alertCache.save(this._documentId,this._context.get(),this._isFree,e)},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e}(),B=n("ZOx9"),j=n("CFZe"),H=n("XfOk"),W=function(){function e(e,t,n,r){var a=this;this._docModel=e,this._doxInit=t,this._doxEvents=n,this._features=r,this._log=u.Monitoring.Logging.getLogger("DoxSyncManager"),this._counter=u.Monitoring.TimeSeries.root.getCounter("dox.denali"),this.changes=this._doxEvents.deltaChanges,this._settingsHolder=t.meta.settings,this._title=t.meta.title,this._subs=[this._docModel.title.filter(function(e){return e!==a._title}).do(function(e){return a._docModel.saved.next(!1)}).debounceTime(1e3).subscribe(function(e){a._updateTitle(e)}),this._docModel.context.skip(1).subscribe(function(e){var t=a._settingsHolder.changeContext(e);a._updateSettings(t)}),this._docModel.extraSettings.changes.subscribe(function(e){var t=a._settingsHolder.changeExtra(e);a._updateSettings(t)}),this._docModel.checkingState.combineLatest(this._docModel.counters).filter(function(e){var t=e[0],n=e[1];return"idle"===t&&b.b.isValid(n)}).map(function(e){e[0];return e[1]}).skip(1).debounceTime(1e3).distinctUntilChanged().subscribe(function(e){a._doxInit.remoteDocument.updateMetadata({errors:e.advanced+e.critical})}),this._doxEvents.metadataChanges.subscribe(function(e){a._settingsHolder=e.settings,e.proofit.forEach(function(e){return a._docModel.proofit.updateState(e)}),a._title=e.title,a._docModel.title.set(e.title)}),this._doxEvents.acceptedMessage.subscribe(function(e){f.DOX.ChangesQueue.isCmd(e)||a._incCounter(e.kind,"accepted"),a._docModel.saved.next(a._doxInit.remoteDocument.inSync)}),this._doxEvents.droppedMessages.subscribe(function(e){var t=e.messages,n=e.reason,r=a._groupMessages(t);void 0!==r.change&&a._incCounter("change","dropped",r.change),void 0!==r.meta&&a._incCounter("meta","dropped",r.meta),r.change&&a._log.warn("got dropped messages",{counts:r,reason:n}),a._docModel.saved.next(a._doxInit.remoteDocument.inSync)})]}return e.createDoxEventsCollector=function(){return{deltaChanges:new o.Subject,metadataChanges:new o.Subject,acceptedMessage:new o.Subject,droppedMessages:new o.Subject}},e.prototype.pushChanges=function(e){this._features.demoMode||(this._incCounter("change","sent"),this._docModel.saved.next(!1),this._doxInit.remoteDocument.pushChanges(e))},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()})},e.prototype._updateSettings=function(e){this._incCounter("meta","sent"),this._docModel.saved.next(!1),this._settingsHolder=e,this._doxInit.remoteDocument.updateMetadata({settings:e})},e.prototype._updateTitle=function(e){this._incCounter("meta","sent"),this._docModel.saved.next(!1),this._title=e,this._doxInit.remoteDocument.updateMetadata({title:e})},e.prototype._incCounter=function(e,t,n){void 0===n&&(n=1),this._counter.getCounter("message."+e+"."+t).increment(n)},e.prototype._groupMessages=function(e){return e.reduce(function(e,t){return void 0===e[t.kind]&&(e[t.kind]=0),e[t.kind]++,e},{})},e}(),U=n("n3Ao"),z=function(){function e(e,t,n,r,a,i,o,s){this._capiClient=e,this._remoteDocument=t,this.documentModel=n,this.positionManager=r,this.alertsList=a,this.synonymsModel=i,this.plagiarismModel=o,this._doxSyncManager=s}return e.create=function(t,n,i,s,c,l,d,p,m,h,g){var v=this,b=W.createDoxEventsCollector(),y=f.DoxRemoteDocument.Queue.create({acceptedMsgHandler:function(e){return b.acceptedMessage.next(e)},droppedMsgsHandler:function(e){return b.droppedMessages.next(e)}});return i.openDocumentById(l,{changeHandler:function(e,t){return b.deltaChanges.next(t)},disconnectHandler:e._getDoxDisconnectHandler(s),metadataChangeHandler:function(e,t){return b.metadataChanges.next(t)}},y,5e3).then(function(y){return a.__awaiter(v,void 0,void 0,function(){var v,_,E,k,M,A,T,x,P,F,R,z,G,q,K,Y,Z,J,X,Q,$,ee,te;return a.__generator(this,function(a){s.setState({type:"wsDox",state:{type:"online"}}),v=new o.Subject,_=d.dialect.get().getOrElse("undefined"),E=function(){var e=[f.CAPIFeature.textInfo,f.CAPIFeature.freeAdvancedChecks,f.CAPIFeature.readability,f.CAPIFeature.sentenceVariety,f.CAPIFeature.fillerWords,f.CAPIFeature.alertsUpdate,f.CAPIFeature.alertsChanges,f.CAPIFeature.freeClarityChecks];return p.denali.consistency&&e.push.apply(e,[f.CAPIFeature.superAlerts,f.CAPIFeature.consistency]),e},k=new f.CAPI.CAPIClientImpl({url:t.api.capiWsUrl,client:h.names.capi.denali,clientVersion:h.buildVersion.toString(),context:y.meta.settings.context.getOrElse(f.DocumentContext.empty),handler:O.a.getCapiHandler(v,s),docid:l,dialect:_,clientSupports:E()},g),M=e._getDocumentModel(l,y,c,k,i,m,p,h),A=new W(M,y,b,p),T=M.context.view(function(e){return e.domain+"."+_}),x=new H.DocumentCacheImpl(function(e){return e.filter(function(e){return f.RawAlert.isRawAlert(e)})},function(e){return e},"DN-"+t.alertCache.prefix,t.alertCache.version,U.c.DenaliStorage.fromLocalStorage(U.c.ls),12096e5),P=new H.DocumentCacheImpl(function(e){return e},function(e){return e},t.outcomeScoreCache.prefix,t.outcomeScoreCache.version,U.c.DenaliStorage.fromLocalStorage(U.c.ls),12096e5),F=function(){var e=new Set;return t.capiDebugTools.captureCapiMessages&&e.add("captureCapiMessages"),e},R=T.get(),z=p.isFree.get(),G=new O.b(k,v,M,d,n,x.hasCache(l,R,z)&&(!p.denali.outcomesUI||P.hasCache(l,R,z)),y.initialDelta.length,F()),q=B.a.get(M.counters,M.documentLength),K=new w.a,Y=new C.a({getDocumentDelta:function(){return c.getContents().delta}}),Z=p.denali.outcomesUI?D.a.Transform.toOutcome:D.a.Transform.identity,J=new N.a(K,Y,G,q,Z),X=new L.b(K,k),Q=new j.b(M,J,G),S.init(y.initialDelta,c,A,G,K,Y,r.merge([J,X])).subscribe(e._getChangesDispatcherFailHandler()),$=new e(k,y.remoteDocument,M,K,J,X,Q,A),ee=new V(l,v,K,J,M.counters.view("unread"),T,z,x,P),(te=u.Monitoring.Logging.getLogger("StEngine")).debug("Loading alerts from cache...");try{ee.getCorrectAlerts(y.initialDelta.text.get()).forEach(function(e){J.loadAlerts(e),te.debug(e.length+" cached alert(s) where loaded"),J.flushAlerts(),ee.getScores().forEach(function(e){return J.loadScores(e)})})}catch(e){te.warn("Cannot read alerts cache",e)}return Object(I.registerDebugHelper)("text",function(){k.getText().then(function(e){var t=c.getText();t!==e?console.log("Text DIFF",{capiText:e,capiLen:e.length,dedText:t,dedTextLen:t.length}):console.log("Texts are the same, len: "+t.length)}).catch(function(e){throw e})}),Object(I.registerDebugHelper)("engine",$),Object(I.registerDebugHelper)("alertManager",J),Object(I.registerDebugHelper)("capi",k),[2,$]})})})},e.prototype.shutdown=function(){return a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,this._capiClient.close()];case 1:return e.sent(),[4,this._remoteDocument.close()];case 2:return e.sent(),this._doxSyncManager&&this._doxSyncManager.dispose(),this.plagiarismModel.dispose(),this.alertsList.dispose(),this.documentModel.dispose(),[2]}})})},e._getDocumentModel=function(e,t,n,r,a,i,o,s){return new b.d(e,t,n,function(){return r.requestDocStats()},a,i,o.enableTrackingOnDownload.get(),s)},e._getChangesDispatcherFailHandler=function(){var e=u.Monitoring.Logging.getLogger("ChangesDispatcher");return function(t){"UnsubscriptionError"===t.exception.name?e.warn("shutdown error",t):e.error("can not dispatch changes",t.exception,t.details)}},e._getDoxDisconnectHandler=function(e){var t=this,n=u.Monitoring.Logging.getLogger("DoxConnectivity"),r=f.Reconnect.getDefaultReconnect(n,f.Reconnect.ClientType.dox);return function(i,o,s,c){return a.__awaiter(t,void 0,void 0,function(){var t,l,u,d;return a.__generator(this,function(a){switch(a.label){case 0:n.debug("Disconnected from dox",i),t={code:i.code,reason:i.reason,reconnectAction:c},l=function(r){"online"===r?n.info("WS DOX connectivity online"):"error"===c?n.info("WS DOX connectivity error: "+r,i.error,t):n.info("WS DOX connectivity error, reconnecting: "+r,i.error,t),e.setState({type:"wsDox",state:{type:r}})},a.label=1;case 1:switch(a.trys.push([1,6,,7]),i.code){case f.Reconnect.WsCodes.NOT_FOUND:l("documentNotFoundError");break;case f.Reconnect.WsCodes.UNAUTHORIZED:l("unauthorized");break;case f.Reconnect.WsCodes.BLOCKED_BY_CLIENT:l("blockedByClient");break;case f.Reconnect.WsCodes.CLIENT_MALFUNCTION:case f.Reconnect.WsCodes.PRECONDITION_FAILED:l("unknownConnectionError");break;default:i.reconnect.reconnectCounter>=2?[0,f.Reconnect.WsCodes.UNKNOWN_WS_ERROR,f.Reconnect.WsCodes.CLOSED_ABNORMALLY].indexOf(i.code)>=0?l("unknownConnectionError"):l("serverError"):"error"===c&&l("serverError")}a.label=2;case 2:return a.trys.push([2,4,,5]),[4,r(i,o,s,c)];case 3:return a.sent(),l("online"),[3,5];case 4:if(u=a.sent(),n.info("Reconnect failed with an error",u),"error"===c)throw i.error;return[3,5];case 5:return[3,7];case 6:throw d=a.sent(),n.error("Dox connectivity error",d),d;case 7:return[2]}})})}},e}(),G=n("vLzu"),q=n("q9Ib"),K=n("fT1+"),Y=n("aWzz"),Z=n("RCFH"),J=n("u3Lk"),X=n("SxAM"),Q=n("5egB"),$=n("UIYh"),ee=n("kbau"),te=n("hQK4"),ne=n("6v47"),re=n("ePPH"),ae=n("JotR"),ie=n("Jguk"),oe=n("VI1M"),se=n("l3Zs"),ce=n("yrnK"),le=n("a7fj"),ue=function(e){var t=e.isSaved,n=e.className;return i.createElement(ne.Small,a.__assign({key:"saved-wrapper","data-name":"save-status"},Object(l.classes)(t.audit(function(e){return ce.Observable.timer(e?1e3:0)}).startWith(!1).map(function(e){return e?le.saved:le.notSaved}),n)),i.createElement(l.F.span,{"data-saved":t.startWith(!0)}),"Saved")},de=n("qPuW"),pe=function(e){var t=e.onClick,n=e.tooltip;return i.createElement(re.a.Ghost,{name:"to-home",onClick:t,title:n.view(function(e){return e.orUndefined()}),className:de.toolbarBtn},i.createElement(ie.d.Arrow,{className:de.backIcon}),i.createElement(ie.d.Library,null))},me=Object(d.f)(function(e,t){var n=e.logout,r=t.textResources;return i.createElement(pe,{tooltip:l.Atom.create(Object(s.Some)(r.denali.toolbar.signOut)),onClick:n})}),fe=Object(d.f)(function(e,t){var n=e.type,r=e.features,a=e.logout,o=t.textResources,c=t.appRouter;return i.createElement("div",{className:de.fakeToolbarWrapper,"data-name":"document-tools"},r.demoMode?i.createElement(me,{logout:a}):i.createElement(pe,{tooltip:l.Atom.create(Object(s.Some)(o.denali.toolbar.backToMyGrammarly)),onClick:function(){return c.navigate(d.e.routes.documents.href({}))}}),i.createElement(ne.H3Legacy,{className:de.fakeToolbarTitle,"data-name":"toolbar-title"},n===J.a.TextType.loading?o.denali.toolbar.loading:o.denali.toolbar.processing))}),he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=u.Monitoring.Logging.getLogger("editor.toolbar"),t._isOnExitNotificationEnabled=l.Atom.create(!t.props.documentModel.extraSettings.discoverabilityOnExitShown&&t.props.userAccount.settings.showExitNotification.get()||t.props.userAccount.features.showDiscoverabilityOnExit),t._isOnExitNotificationVisible=l.Atom.create(!1),t._unreviewedAlertsCount=t.props.sidebarViewModel.lenses.view(function(e){return e.reduce(function(e,t){return e+t.unreadCount},0)}),t._subs=[],t._toHomeClick=function(){return t.context.appRouter.navigate(d.e.routes.documents.href({}))},t._forceSaveDocument=function(){return t.props.documentModel.flush().catch(function(e){return t._log.error("Could not flush document from toolbar",e)})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this._subs.push(this.props.pageViewModel.stateHolder.sidebarOpen.filter(Boolean).first().subscribe(function(){e._isOnExitNotificationEnabled.set(!1),e._isOnExitNotificationVisible.set(!1)}),this._isOnExitNotificationVisible.skip(1).subscribe(function(t){return e.props.onboarding.changeState(!t)}),this._isOnExitNotificationVisible.filter(Boolean).first().subscribe(function(){return e.props.documentModel.extraSettings.discoverabilityOnExitShown=!0}))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this.props.onboarding.changeState(!0)},t.prototype._saveSettings=function(e){var t=this;return function(n){n||t.props.userAccount.settings.updateExitNotification(n),e()}},t.prototype.render=function(){var e=this,t=this.props,n=t.documentModel,r=t.uploadViewModel,a=t.pageViewModel,o=t.userAccount,c=this.context,m=c.gnarSpec,f=c.pageId,h=c.appRouter,g=c.textResources,v=c.notifications,b=c.environment;return i.createElement(i.Fragment,null,i.createElement(l.F.div,{className:de.buttons,onMouseEnter:this._forceSaveDocument},o.features.demoMode?i.createElement(me,{logout:o.logout}):i.createElement(pe,{tooltip:this._isOnExitNotificationVisible.view(Object(I.choose)(s.None,s.Option.pure(g.denali.toolbar.backToMyGrammarly))),onClick:function(){e._isOnExitNotificationEnabled.get()&&e._unreviewedAlertsCount.get()>0&&!e._isOnExitNotificationVisible.get()?(e._isOnExitNotificationEnabled.set(!1),e._isOnExitNotificationVisible.set(!0)):e._toHomeClick()}}),this._isOnExitNotificationVisible.view(function(t){return t&&i.createElement(se.a,{themes:{className:de.discoverabilityOnExit,triangleClassName:de.discoverabilityOnExitTriangle},key:"discoverability-on-exit","data-name":"discoverability-on-exit",unreviewedAlertsCount:e._unreviewedAlertsCount,onExitClick:e._saveSettings(e._toHomeClick),onReviewClick:e._saveSettings(function(){a.switchTo(te.f.lensview),e._isOnExitNotificationVisible.set(!1)})})}),!o.features.demoMode&&i.createElement("div",{"data-name":"document-actions"},i.createElement(oe.a,{theme:de,showDelay:0,name:"vertical-toolbar-in",label:i.createElement(re.a.Ghost,{name:"document-in-actions",className:de.toolbarBtn},i.createElement(ie.d.ToolbarCreate,null))},i.createElement(re.a.Flat,{name:"new",key:"new",onClick:function(){m.newDocumentDenaliButtonClick(f),h.navigate(d.e.routes.new_document.href({}))}},i.createElement(ie.d.New,null),g.denali.toolbar.documentActions.newDocument),i.createElement(re.a.Flat,{name:"upload",key:"upload",animationMode:ae.a.None,textPosition:"right"},i.createElement(ie.d.Download,{className:de.uploadIcon}),g.denali.toolbar.documentActions.upload,i.createElement(ee.a,{documentUpload:r.uploadModel,hideTooltip:!0}))),i.createElement(oe.a,{theme:de,showDelay:0,name:"vertical-toolbar-out",label:i.createElement(re.a.Ghost,{name:"document-out-actions",className:de.toolbarBtn},i.createElement(ie.d.Download,null))},i.createElement(re.a.Flat,{name:"download",key:"download",onClick:function(){return m.downloadButtonClick(f),n.downloadOriginal()}},i.createElement(ie.d.Download,null),g.denali.toolbar.documentActions.download),i.createElement(re.a.Flat,{name:"print",key:"print",onClick:function(){setTimeout(window.print,200),m.printButtonClick(f)}},i.createElement(ie.d.Print,null),g.denali.toolbar.documentActions.print),i.createElement(re.a.Flat,{name:"copy",key:"copy",onClick:function(){I.Clipboard.copy(n.documentText,b.has(p.b.Flag.useSetDataOnCopy)).then(function(){v.showMessage("Document copied to clipboard")}).catch(function(e){I.Clipboard.copyApiAvailable.next(!1),v.show(v.create.copyToClipboardFailed()),u.Monitoring.Logging.getLogger("clipboard").warn("Copy to clipboard failed",e)}),m.copyToClipboardButtonClick(f)}},i.createElement(ie.d.Copy,null),g.denali.toolbar.documentActions.copyToClipboard)))),!o.features.denali.revampedHeader&&i.createElement(ue,{isSaved:n.saved,className:de.savedIndicator}))},t}(d.a),ge=n("pKPl"),ve=n("/LZ8"),be=function(e){var t=e.position,n=e.children,r=e.className,o="top"===t;return i.createElement("div",a.__assign({},Object(l.classes)(ve.container,r)),i.createElement("div",{className:ve.scrollWrap},i.createElement("div",{className:o?ve.editorTopContentWrap:ve.editorContentWrap},i.createElement("div",{className:o?ve.editorTopContent:ve.editorContent},n))))},ye=function(e){var t=e.children;return i.createElement(ge.b,{theme:{editorContent:ve.editorContentFullWidth,editorContentWrap:ve.editorContentWrapFullWidth}},t)},_e=n("kKaD"),Ee=n("im4w"),we=n("arM9"),Ce=(M=null,function(){var e;return null===M&&(e=document.createElement("div"),M=["","-webkit-","-moz-","-ms-"].some(function(t){try{e.style.position=t+"sticky"}catch(e){}return""!==e.style.position})),M});T=A||(A={}),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=new p.e.Keeper,t}return a.__extends(t,e),t.prototype.componentWillUnmount=function(){this._subs.cleanAll()},t.prototype.componentDidMount=function(){var e=this;Ce()||this._subs.push(this.props.scrollEl.switchMap(U.e.toOptionValueOnly).first().switchMap(function(t){return n=e._el,r=t,o.Observable.create(function(){var e=o.Observable.fromEvent(r,"scroll").subscribe(function(){var e=r.scrollTop;n.style.transform="translateY("+e+"px)"});return function(){e.unsubscribe(),n.style.transform=""}});var n,r}).subscribe())},t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.className,o=t.onTransitionEnd;return i.createElement(l.F.div,a.__assign({role:"sticky",onTransitionEnd:o},Object(l.classes)(r,we.sticky),{mount:function(t){t&&(e._el=t)}}),n)},t}(d.a),T.Top=x;var ke,Se=n("+ukg"),Me=n("KL5p"),Ae=n("A4qE"),Te=n("ud1N"),xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._advancedAlerts=t.props.sidebarViewModel.getPersistentLens(P.a.SpecialId.Premium).view("count").view(function(e){return e>0?Object(s.Some)(t._formatLiteAlerts(t.props.upgradeViewModel.getAdvancedGroupedLiteAlerts())).filter(I.notEmpty):s.None}),t}return a.__extends(t,e),t._getOpacityClass=function(e,t){switch(e){case 1:return t.opacity90;case 2:return t.opacity80;case 3:return t.opacity70;case 4:return t.opacity60;case 5:return t.opacity50;default:return""}},t.prototype.render=function(){var e=this,n=this.props,r=n.transition,o=n.theme;return i.createElement(l.F.div,a.__assign({},Object(l.classes)(r.map(function(e){return e.content}))),i.createElement(Me.b,{name:"advanced",allowHover:!0,className:o.contentWrapper},this._advancedAlerts.map(function(n){return n.map(function(n){var r=n.reduce(function(e,t){return e+t.count},0);return[i.createElement("div",{key:"some",className:o.advancedBlockWrapper},i.createElement(ne.Base,null,"We found"," ",i.createElement("b",null,r," additional writing"," ",I.StringUtils.pluralize(r,"issue","issues")),i.createElement("br",null),"in this text available only for Premium users."),i.createElement("div",{key:"advanced-block",className:o.advancedBlock},i.createElement("div",{className:o.alertList},n.map(function(e,n){return i.createElement(ne.Base,{key:e.category,className:o.alertBlock},i.createElement(Ae.a.Counter,{count:e.count,type:"yellow",theme:{counterWrapper:Object(l.classes)(o.counter,t._getOpacityClass(n,o)).className}}),e.categoryHuman)})),i.createElement("div",{className:o.graphBlock},i.createElement("div",a.__assign({},Object(l.classes)(n.length<=4?o.graphCircle3Empty:o.graphCircle3)),i.createElement("div",{className:o.graphCircle2},i.createElement("div",{className:o.graphCircle1},i.createElement(ne.H1,a.__assign({},Object(l.classes)(o.graphCounter,"windows"===e.context.environment.info.os&&o.graphCounterWin)),r))))))),i.createElement("div",{key:"upgrade-block",className:o.upgradeBlock},i.createElement(Te.a,{size:"big",upgradeViewModel:e.props.upgradeViewModel,place:m.l.Place.DenaliDocument.editorDenaliAdvanced})),i.createElement("footer",{key:"footer",className:o.footer},i.createElement(ne.P1,{className:o.footerText},"It’s an online service that quickly and easily makes",i.createElement("br",null),"your writing better and makes you sound like a pro,",i.createElement("br",null),"or at least helps you avoid looking like a fool."),i.createElement(Oe,{className:o.footerLogo}))]}).orNull()})))},t.prototype._formatLiteAlerts=function(e){var t=e.slice(0,5),n=e.slice(5).map(function(e){return e.count}).reduce(I.sum,0);return n>0?t.concat([{group:"",category:"",categoryHuman:"more...",count:n}]):t},t}(d.a),Oe=function(e){var t=e.className;return i.createElement("svg",{width:"77",height:"20",viewBox:"0 0 77 20",className:t},i.createElement("path",{d:"M15.58138.367837l.088647 5.412045-.885505.275407c-.884542-2.75209-2.12367-4.31141-4.51328-4.31141H7.17438c-.08961 1.742595-.177293 4.67895-.177293 7.797587l2.12367-.091142c1.327775 0 1.94734-1.100637 2.212316-2.660947h.796858v6.512683h-.796858c-.264977-1.559318-.88454-2.659955-2.212317-2.659955l-2.12367-.091142c0 2.38455.087682 4.310417.177293 5.504178.17633 1.742594.6186 2.568815 1.769082 2.659957l1.0628.184266v.734088H.004586v-.734087l.885505-.184266c1.150482-.091142 1.592753-.917363 1.769083-2.659956.178257-2.84323.266904-8.80708 0-12.108993-.17633-1.743584-.6186-2.477673-1.769083-2.660947l-.885505-.092133v-.82523H15.58138zm31.331168 5.319616c3.009175 0 5.31014 2.75308 5.31014 6.514664 0 4.77108-2.831883 7.797586-7.522457 7.797586-1.682362 0-3.363762-.274417-4.956514-.641956.088647-1.92686.177294-13.670294 0-15.87058-.177294-1.101627-.44227-1.560308-1.23913-1.743583l-.619563-.092132v-.549824L43.814726 0c-.088647.918354-.088647 3.57831-.088647 6.513674.97415-.550814 1.94734-.82622 3.186468-.82622zM20.62606 5.50517c4.425597 0 6.638878 3.118637 6.638878 7.24677 0 3.94486-2.478258 7.247763-6.903855 7.247763-4.425598 0-6.637915-3.118638-6.637915-7.247763 0-3.943868 2.478258-7.24677 6.902892-7.24677zm32.74759 7.3392c0-3.761584 2.300964-7.339895 6.815208-7.339895 3.716423 0 5.487433 2.845213 5.487433 6.605807h-8.23163c-.088646 3.394045 1.50507 5.870727 4.691538 5.870727 1.41546 0 2.12367-.36556 3.009175-1.008506l.353624.45868C64.613492 18.715098 62.667117 20 60.188857 20c-3.983325 0-6.815207-2.935364-6.815207-7.15563zm22.83408-6.604815l.088646 3.57732-.6186.183274c-.79686-2.477674-1.858694-3.48618-3.45241-3.48618-1.061835 0-1.858693.82523-1.858693 2.018 0 1.193762.88454 1.835718 3.3628 2.844223 2.301926.917363 3.275114 2.018 3.275114 3.94486C77.004587 18.164282 74.79227 20 71.340824 20c-1.682362 0-3.629702-.36655-4.691538-.82523l-.088646-4.036992.619564-.184265c.974152 2.75209 2.21328 3.761584 3.89468 3.761584 1.416422 0 2.212317-1.009495 2.212317-2.110133 0-1.100637-.619563-1.743584-2.83188-2.567824-2.124634-.73508-3.62874-1.743584-3.62874-4.128133 0-2.38653 2.035987-4.404532 5.31014-4.404532 1.592752 0 3.009174.275407 4.07101.73508zM38.77024 5.87152l-1.416424 3.761584c-1.770046-1.19277-3.716423-.641956-4.159657 0-.087684 2.202266-.087684 5.687453.088646 7.432028.088647 1.099647.354587 1.64947 1.23913 1.741603l1.061834.092132v.73409h-8.230667v-.73409l.619564-.092132c.796858-.092133 1.150482-.641956 1.23913-1.741603.088646-1.92686.177293-5.780576 0-7.982842-.088648-1.19277-.442272-1.65046-1.23913-1.742593l-.619564-.092133V6.69774l5.929703-1.19277-.088647 3.21077c1.416422-3.302902 4.071973-3.761583 5.57608-2.84422zm6.107285 13.118687c1.85773 0 3.185505-2.84323 3.185505-6.513674 0-2.935363-1.061835-5.319913-3.009175-5.319913-.44227 0-.795895.091142-1.327776.275408-.087684 4.77009 0 10.183125.088646 11.467037.26594.091142.70821.091142 1.0628.091142zM20.361083 6.422532c-1.94734 0-2.478258 2.75209-2.478258 6.329408 0 3.486178.885505 6.3304 2.655552 6.3304 2.035023 0 2.566904-2.75209 2.566904-6.3304 0-3.486177-.885504-6.329408-2.744197-6.329408zm37.083577 4.679245l4.159657-.092133c0-1.834726-.264977-4.586815-1.769082-4.586815-1.50507 0-2.301928 2.567823-2.390575 4.678947z",fill:"#C6CBDE",fillRule:"evenodd"}))},Ne=n("0oBX"),Le=n("GHbd"),Ie=n("6/FP"),Pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.transition,n=e.features,r=e.upgradeViewModel,o=e.sidebarViewModel;return i.createElement(l.F.div,a.__assign({},Object(l.classes)(Le.wrapper,t.map(function(e){return e.base}))),i.createElement(Ne.a,{title:n.denali.alertGroupNames===Se.a.CRITICAL_ADVANCED?this.context.textResources.denali.sidebar.advancedIssuesTitle:this.context.textResources.denali.sidebar.premiumAlertsTitle,theme:{title:Object(l.classes)(t.map(function(e){return e.title}),Le.headerTitle).className,wrapper:Ie.header}}),i.createElement(xe,{transition:t,upgradeViewModel:r,sidebarViewModel:o,theme:a.__assign({},Ie,Le)}))},t}(d.a),Fe=n("WpKG"),De=n("NT26"),Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.transition,n=e.upgradeViewModel,r=e.sidebarViewModel;return i.createElement(A.Top,{scrollEl:this.props.scrollEl},i.createElement(l.F.div,a.__assign({},Object(l.classes)(De.paidViewModern,t.map(function(e){return e.base}))),i.createElement(l.F.div,a.__assign({},Object(l.classes)(Fe.headerRevamped,t.map(function(e){return e.revampedTitle}))),i.createElement("div",{className:Fe.lensTitle},this.context.textResources.denali.sidebar.premiumAlertsTitle)),i.createElement(xe,{transition:t,upgradeViewModel:n,sidebarViewModel:r,theme:a.__assign({},Fe,De)})))},t}(Pe),Ve=n("FTyx"),Be=n("LSvY"),je=n("a/fV"),He=n("Ow96"),We=n("CCZN"),Ue=function(e){var t=e.proofit;return i.createElement(l.F.Fragment,null,t.modal.view(function(e){return e.map(function(e){var n=t.modal.lens(Object(We.d)(e.type));return i.createElement(Z.b,{visible:n,animate:!0,smallResolution:"resize"},i.createElement(ze,{proofit:t,modal:e,close:function(){return n.set(!1)}}))}).orNull()}))},ze=function(e){var t=e.proofit,n=e.close,r=e.modal;switch(r.type){case We.a.Order:return i.createElement(je.a,{proofit:t,close:n,key:"order-new"});case We.a.OrderOldUI:return i.createElement(Be.a,{proofit:t,close:n,key:"order-old"});case We.a.Success:return i.createElement(He.a,{payload:r.payload,close:n,key:"success"});default:return Object(I.assertNever)(r)}},Ge=n("okgj"),qe=n("qbMg"),Ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return i.createElement(l.F.div,a.__assign({onTransitionEnd:this.props.onTransitionEnd},Object(l.classes)(qe.successLens,this.props.transition.map(function(e){return e.base}))),i.createElement(Ge.a,{state:this.props.successLensViewModel.successState,preventAnimation:this.props.features.preventAnimation}))},t}(d.a);function Ye(e){return e+" "+I.StringUtils.pluralize(e,"alert","alerts")}var Ze,Je=((ke={})[P.a.SpecialId.Correctness]={description:"Improves spelling, grammar, and punctuation.",stateMessage:function(e,t){return e.count>0?Ye(e.count):t&Ze.IsDocumentEmpty?"No alerts":"Looking good"}},ke[P.a.SpecialId.Clarity]={description:"Helps make your writing easier to understand.",stateMessage:function(e,t){return t&Ze.IsDocumentEmpty?"So far so good":0===e.percentile?Ye(e.count):e.percentile<20?"Unclear":e.percentile<70?"A bit unclear":e.percentile<85?"Mostly clear":e.percentile<95?"Clear":"Very clear"}},ke[P.a.SpecialId.Engagement]={description:"Helps make your writing more interesting and effective.",stateMessage:function(e,t){return t&Ze.IsDocumentEmpty?"Nothing yet":0===e.percentile?Ye(e.count):e.percentile<20?"Flat":e.percentile<80?"Mild":e.percentile<95?"Lively":"Very lively"}},ke[P.a.SpecialId.Tone]={description:"Helps you make the right impression on your reader.",stateMessage:function(e,t){return t&Ze.IsDocumentEmpty?"Nothing yet":e.count>0?e.count+" "+I.StringUtils.pluralize(e.count,"suggestion","suggestions"):"Just right"}},ke[P.a.SpecialId.Plagiarism]={description:"Checks for similarities to published writing.",stateMessage:function(e,t){return t&Ze.IsLensVisited&&!(t&Ze.IsDocumentEmpty)?t&Ze.IsLensActive?e.percentile+"% unoriginal":"Recheck":"Not checked yet"}},ke[P.a.SpecialId.Premium]={description:"Offers more suggestions on how to improve your writing.",stateMessage:function(e,t){return t&Ze.IsDocumentEmpty?"Advanced checks":e.count+" more "+I.StringUtils.pluralize(e.count,"alert","alerts")}},ke);function Xe(e){return Je[e]}!function(e){e.IsDocumentEmpty=1,e.IsLensActive=2,e.IsLensVisited=4}(Ze||(Ze={}));var Qe=n("5qyr"),$e=n("u4Bo"),et=n("s7rr"),tt=n("E15D"),nt=n("D57K");var rt=function(e){void 0===e&&(e="(nomessage)"),Error.call(this,e),this.stack=(new Error).stack,this.message=e,this.name=this.constructor.name};rt.prototype=Object.create(Error.prototype);var at=function(e){function t(t,n){void 0===n&&(n="empty");var r=e.call(this,"Invariant condition failed: "+(t||"(unnamed)"))||this;return r.input=n,r}return nt.__extends(t,e),t}(rt),it=function(e){function t(t){return e.call(this,t)||this}return nt.__extends(t,e),t}(rt),ot=function(e){function t(t){return e.call(this,"Matching not exhaustive"+(t?": unexpected value "+JSON.stringify(t):""))||this}return nt.__extends(t,e),t}(rt);function st(e,t,n){if(!e)throw new at("string"==typeof t?t:t&&t(),void 0!==n&&"string"!=typeof n?n():n)}function ct(e){throw new ot(e)}!function(){function e(e){this.capacity=e,this.size=0,this._keymap={}}e.prototype.put=function(e,t){var n={key:e,value:t};if(this._keymap[e]=n,this._tail?(this._tail.newer=n,n.older=this._tail):this._head=n,this._tail=n,this.size===this.capacity)return this.shift().value;++this.size},e.prototype.get=function(e){var t=this._getImpl(e);return t&&t.value},e.prototype.peek=function(e){var t=this._keymap[e];return t&&t.value},e.prototype.set=function(e,t){var n=this._getImpl(e),r=t(n&&n.value);return r?n?n.value=r:this.put(e,r):n&&this.remove(e),r},e.prototype.getRef=function(e){return this._getImpl(e)},e.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[e],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this._head=t.newer):t.older?(t.older.newer=void 0,this._tail=t.older):this._head=this._tail=void 0,--this.size,t.value},e.prototype.forEach=function(e){for(var t in this._keymap)e(t,this._keymap[t].value)},e.prototype.shift=function(){var e=this._head;return this._head&&(this._head.newer?(this._head=this._head.newer,this._head.older=void 0):this._head=void 0,e.newer=e.older=void 0,delete this._keymap[e.key]),e},e.prototype._getImpl=function(e){var t=this._keymap[e];if(t)return t===this._tail?t:(t.newer&&(t===this._head&&(this._head=t.newer),t.newer.older=t.older),t.older&&(t.older.newer=t.newer),t.newer=void 0,t.older=this._tail,this._tail&&(this._tail.newer=t),this._tail=t,t)}}();function lt(e){return e.length>0}var ut;!function(e){e[e.lt=-1]="lt",e[e.eq=0]="eq",e[e.gt=1]="gt"}(ut||(ut={}));var dt;!function(e){var t=function(){function e(){}return Object.defineProperty(e,"observable",{get:function(){return this._obs||(this._obs=o.Observable.fromEvent(document,"visibilitychange").map(function(){return document.hidden}).startWith(document.hidden).filter(Boolean).repeat(1))},enumerable:!0,configurable:!0}),e}();function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.Observable.merge.apply(o.Observable,e.map(function(e){return e.materialize()})).takeWhile(function(e){return e.hasValue}).dematerialize()}e.Hidden=t,e.mergeUntilAnyCompletes=n,e.createAnimationObservable=function(e,r,a){return n(function(e,t,n){return o.Observable.create(function(r){var a,i=window.requestAnimationFrame(function o(s){a||(a=s);var c=s-a;c<n?(r.next(Math.round(e+c/n*(t-e))),i=window.requestAnimationFrame(o)):(r.next(t),r.complete())});return function(){return window.cancelAnimationFrame(i)}}).distinctUntilChanged()}(e,r,a).takeUntil(t.observable),t.observable.mapTo(r).first())},e.fadeOutState=function(e){var t=new o.Subject;return{state:e.switchMap(function(e){return e?o.Observable.of("inProgress"):o.Observable.merge(o.Observable.of("fadeOut"),t.mapTo("end"))}),complete:function(){return t.next(!0)}}},e.rafSequence=function(e,t){return void 0===t&&(t=!1),o.Observable.create(function(n){var r;function a(){n.next(e.shift()),e.length&&(r=requestAnimationFrame(a))}return t?a():r=requestAnimationFrame(a),function(){return cancelAnimationFrame(r)}})}}(dt||(dt={}));var pt,mt=function(){function e(){}return e.copy=function(e,t){this._clearSelection();var n=this._createHiddenSpan(e);return this.select(n),this._copy(e,t).then(function(){n.parentElement.removeChild(n)}).catch(function(e){throw n.parentElement.removeChild(n),e})},e.select=function(e){if(window.getSelection&&document.createRange){var t=window.getSelection();(n=document.createRange()).selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}else if("createTextRange"in document.body&&"selection"in document){var n;(n=document.body.createTextRange()).moveToElementText(this),n.select()}},e._clearSelection=function(){var e=window.getSelection?window.getSelection():document.selection;"removeAllRanges"in e?e.removeAllRanges():"empty"in e&&e.empty()},e._createHiddenSpan=function(e){var t=document.createElement("span");return t.setAttribute("style",["all: unset","position: fixed","top -999px","left -999px","opacity: 0","background transparent","white-space: pre","-webkit-user-select: text","-moz-user-select: text","-ms-user-select: text","user-select: text"].join(";")),t.textContent=e,document.body.appendChild(t),t},e._copy=function(e,t){return new Promise(function(n,r){try{(t?window.clipboardData.setData("text",e):document.execCommand("copy"))?n():r(new Error("Copy API doesn't work"))}catch(e){r(e)}})},e.copyApiAvailable=new o.BehaviorSubject(!0),e}();try{o.Observable.fromEvent(window,"click").first().subscribe(function(){document.queryCommandSupported("copy")||mt.copyApiAvailable.next(!1)})}catch(e){mt.copyApiAvailable.next(!1)}!function(e){function t(e){return"left"===e.kind}e.left=function(e){return{kind:"left",value:e}},e.right=function(e){return{kind:"right",value:e}},e.isLeft=t,e.isRight=function(e){return"right"===e.kind},e.flatMap=function(e,n){return t(e)?e:n(e.value)},e.fromPromise=function(t){return t.then(function(t){return e.right(t)}).catch(function(t){return e.left(t)})}}(pt||(pt={}));var ft;!function(){function e(e,t,n,r){void 0===r&&(r=20),this._task=e,this._buffer=t,this._run=n,this._batchSize=r,this._sub=null}e.prototype.put=function(e){this._buffer.put(e),null===this._sub&&this._buffer.nonEmpty&&this._scheduleWork()},e.prototype.order=function(e){this._buffer.order(e)},e.prototype._scheduleWork=function(){var e=this;this._sub=this._run(function(){e._task(e._buffer.take(e._batchSize)),e._sub=null,e._buffer.nonEmpty&&e._scheduleWork()})},e.prototype.shutdown=function(){this._sub&&(this._sub.unsubscribe(),this._sub=null)}}();!function(e){var t=function(){function e(e){this._predicate=e,this._queueMap=new Set,this._queue=[]}return e.prototype.put=function(e){var t,n=this,r=new Set,a=e.reduce(function(e,t){return r.has(t.id)||n._queueMap.has(t.id)||!n._predicate(t)||(r.add(t.id),e.push(t)),e},[]);(t=this._queue).push.apply(t,a),a.forEach(function(e){var t=e.id;return n._queueMap.add(t)})},e.prototype.take=function(e){for(var t=0,n=[];t<this._queue.length&&n.length<e;){var r=this._queue[t];this._predicate(r)&&n.push(r),this._queueMap.delete(r.id),t++}return this._queue=this._queue.slice(t),n},e.prototype.order=function(e){this._queue.sort(e)},Object.defineProperty(e.prototype,"nonEmpty",{get:function(){return this._queue.length>0},enumerable:!0,configurable:!0}),e}();e.LazyPredicateUniq=t}(ft||(ft={}));var ht,gt,vt,bt,yt=function(){function e(e,t){if(this.messageCount=e,this.timeframe=t,e<1)throw new it("messagesCount should be > 1");if(t<=0)throw new it("timeframe should be > 0");this._allowance=e,this._lastChecked=Date.now()}return e.prototype.hit=function(){var e=Date.now(),t=e-this._lastChecked;return this._lastChecked=e,this._allowance+=t*(this.messageCount/this.timeframe),this._allowance>this.messageCount&&(this._allowance=this.messageCount),!(this._allowance<1)&&(this._allowance-=1,!0)},e.prototype.toString=function(){return"[ messageCount: "+this.messageCount+", timeframe: "+this.timeframe+", allowance: "+Math.trunc(1e3*this._allowance)/1e3+", _lastCheck: "+this._lastChecked+"]"},e}();ht=yt||(yt={}),gt=function(){function e(e,t){if(this._limiter=e,this._cooldownTime=t,this._lastLimiting=0,this._aboveThreshold=!1,t<0)throw new it("cooldownTime should be non-negative")}return e.prototype.hit=function(){var e=this._limiter.hit(),t=!1;return e?this._aboveThreshold&&Date.now()-this._cooldownTime>this._lastLimiting&&(this._aboveThreshold=!1,t=!0):(this._lastLimiting=Date.now(),this._aboveThreshold||(this._aboveThreshold=!0,t=!0)),{allow:e,aboveThreshold:this._aboveThreshold,wasTriggered:t}},e}(),ht.RateLimitIndicator=gt,function(e){e.ESC_CODE=27}(vt||(vt={})),(bt||(bt={})).EMPTY=o.Subscription.EMPTY;var _t=n("LaGA");_t.default;var Et;o.Observable.defer(function(){return o.Observable.fromEvent(window,"resize")}).share();!function(e){e.empty={top:0,bottom:0,left:0,right:0,height:0,width:0},e.fromEl=function(e){return e.getBoundingClientRect()},e.intersection=function(e,t){return e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top?s.Option.empty():Object(s.Some)({top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left),right:Math.min(e.right,t.right)}).map(function(e){return nt.__assign({},e,{width:e.right-e.left,height:e.bottom-e.top})})},e.hasPoint=function(e,t){var n=t.x,r=t.y;return Math.trunc(e.top)<=Math.trunc(r)&&Math.trunc(e.bottom)>=Math.trunc(r)&&Math.trunc(e.left)<=Math.trunc(n)&&Math.trunc(e.right)>=Math.trunc(n)}}(Et||(Et={}));n("+x6O"),String.fromCharCode(160);var wt;!function(e){var t=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d*[Z]$/;function n(e){return e.getTime()}e.create=function(e){return st(t.test(e),"provided string should had timezone",e),new Date(e)},e.now=function(){return new Date},e.add=function(e,t){return new Date(e.getTime()+t.getTime())},e.subtract=function(e,t){return new Date(e.getTime()-t.getTime())},e.toSeconds=function(e){return Math.round(e.getTime()/1e3)},e.toTimestamp=n,e.shortTime=function(e){var t=e.getHours(),n=t>=12?"pm":"am";return("0"+(t=t%12||12)).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+" "+n},e.fullDate=function(e){return e.toLocaleString("en-us",{month:"short"})+" "+e.getDate()+", "+e.getFullYear()},function(t){t.now=function(){return n(e.now())},t.add=function(e,t){return e+t},t.subtract=function(e,t){return e-t},t.toSeconds=function(e){return Math.round(e/1e3)},t.toLocal=function(e){return new Date(e)}}(e.Timestamp||(e.Timestamp={}))}(wt||(wt={}));n("KEcq");n("SC5l"),n("+zn3");var Ct,kt;!function(e){e.string=function(e){return s.Option.of(e).filter(lt)},e.array=function(e){return s.Option.of(e).map(function(e){return e.filter(Boolean)}).filter(lt)}}(Ct||(Ct={})),function(e){var t="window['_fs_debug'] = true;\n  window['_fs_host'] = 'fullstory.com';\n  window['_fs_org'] = '76Y20';\n  window['_fs_namespace'] = 'FS';\n  (function(m,n,e,t,l,o,g,y){\n    if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window[\"_fs_namespace\"].');} return;}\n    g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];\n    o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';\n    y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);\n    g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};\n    g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};\n    g.clearUserCookie=function(c,d,i){if(!c || document.cookie.match('fs_uid=[\";\"]*\"[\";\"]*\"[\";\"]*\"')){\n      d=n.domain;while(1){n.cookie='fs_uid=;domain='+d+\n      ';path=/;expires='+new Date(0).toUTCString();i=d.indexOf('.');if(i<0)break;d=d.slice(i+1)}}};\n    })(window,document,window['_fs_namespace'],'script','user');";function n(){return void 0!==window.FS}e.enable=function(){st(!n(),"FullStory snippet already loaded");var e=document.createElement("script");e.innerHTML=t,document.head.appendChild(e)},e.isEnabled=n,e.ignoreClass="fs-hide"}(kt||(kt={}));var St,Mt=n("zOIq");!function(e){e.parse=function(e){return new t(String(e))};var t=function(){function t(e){this.value=s.Try.of(function(){return new Mt.SemVer(e.replace(/_/g,"-"))}).filter(Boolean).recover(function(){return Object(Mt.coerce)(e)}).filter(Boolean)}return t.prototype.gte=function(e){return this._test(Mt.gte,e)},t.prototype.gt=function(e){return this._test(Mt.gt,e)},t.prototype.lt=function(e){return this._test(Mt.lt,e)},t.prototype.lte=function(e){return this._test(Mt.lte,e)},t.prototype.eq=function(e){return this._test(Mt.eq,e)},t.prototype.toString=function(){return this.value.map(function(e){return e.build.length>0?e.toString()+"+"+e.build.join("-"):e.toString()}).getOrElse("unknown")},t.prototype._test=function(t,n){var r=e.parse(n.toString()).value.getOrElse(null);return st(null!==r,"invalid version provided: "+n),this.value.filter(function(e){return t(e,r)}).isSuccess()},t}()}(St||(St={}));var At,Tt,xt=n("qHHG"),Ot=n("aC+x"),Nt=function(e){var t=e.lens,n=e.lensAlertsCount,r=t.id!==P.a.SpecialId.AllAlerts;return i.createElement(l.F.Fragment,null,i.createElement("div",{className:Fe.headerRevamped},i.createElement("div",{className:Fe.lensTitle},t.title,i.createElement(re.b,{iconClass:Fe.infoIcon,tooltipClass:Fe.infoTooltip,title:t.description}))),i.createElement("div",{className:Fe.dismissWrapper},r&&i.createElement($e.a.Dismiss,{count:n,lens:t,theme:Fe})))},Lt=Object(d.f)(function(e,t){var n=e.cardsViewportState,r=e.actionEvents,a=e.cardsAmount,o=t.environment,s=t.gnarSpec,c=t.pageId;return i.createElement(l.F.Fragment,null,n.distinctUntilChanged().withLatestFrom(a).do(function(e){var t=e[0],n=e[1];switch(t){case xt.e.above:case xt.e.below:s.moreAlertsButtonShow(t,n,c);break;case xt.e.hidden:break;default:ct(t)}}).map(function(e){return e[0]}).combineLatest(a,function(e,t){var n=o.textResources.denali.sidebar;switch(e){case xt.e.above:return i.createElement("div",{className:Fe.seeAlertsContainer},i.createElement(re.a.Primary,{name:"top-see-alerts",className:Fe.topSeeAlerts,onClick:function(){r.next({type:Ot.a.Type.switchToClosest}),s.moreAlertsButtonClick(e,t,c)}},n.seeAlerts(t),i.createElement(ie.d.Arrow,{width:"12",direction:ie.a.up})),i.createElement("div",{className:Fe.topStack}));case xt.e.below:return i.createElement("div",{className:Fe.seeAlertsContainer},i.createElement(re.a.Primary,{name:"bottom-see-alerts",className:Fe.bottomSeeAlerts,onClick:function(){r.next({type:Ot.a.Type.switchToClosest}),s.moreAlertsButtonClick(e,t,c)}},n.seeAlerts(t),i.createElement(ie.d.Arrow,{width:"12",direction:ie.a.down})),i.createElement("div",{className:Fe.bottomStack}));case xt.e.hidden:return null;default:return ct(e)}}))}),It=function(e){var t=e.state.view("currentLens","activeAlertsCount"),n=e.state.get().currentLens.meta;return i.createElement(Pt,a.__assign({},e),i.createElement(Nt,{lensAlertsCount:t,lens:n}))},Pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.marksVM,r=t.cardsVM,o=t.alignmentVM,c=t.transition,u=t.onTransitionEnd,d=t.scrollEl,m=t.state,f=t.cardsListScrollManager,h=m.get().currentLens.meta,g=m.view("currentLens","activeAlertsCount");return i.createElement(i.Fragment,{key:h.id},i.createElement(A.Top,{className:Fe.stickyHeader,scrollEl:d},i.createElement(l.F.div,a.__assign({},Object(l.classes)(c.map(function(e){return e.revampedTitle})),{onTransitionEnd:u}),this.props.children),i.createElement(Lt,{key:"seeAlerts",cardsViewportState:f.cardsViewportState,actionEvents:r.actionEvents,cardsAmount:m.view("currentLens").view("visibleCards").view("size")})),i.createElement(et.a.Modern,{key:h.id,cardsListScrollManager:f,name:h.id,isMaster:this.props.isMaster},function(t){return i.createElement(p.c,{onMount:function(){return t.lens("scrollProvider").set(d.get())}},i.createElement("div",{className:Fe.fakeTop,ref:function(e){return t.lens("viewport").set(s.Option.of(e))}}),i.createElement("div",{className:Fe.viewportRevamped,onTransitionEnd:u},i.createElement(l.F.div,a.__assign({},Object(l.classes)(Fe.lensviewContentWrapperRevamped,c.map(function(e){return e.base}))),i.createElement(l.F.div,a.__assign({},Object(l.classes)(Fe.scrollWrapperRevamped,c.map(function(e){return e.content}))),i.createElement(Qe.a.Revamped,{lensView:m.lens(te.d.Prism.getLens()),className:Fe.scroll,cardsVM:r,onMount:function(e){return t.lens("scroll").set(s.Option.of(e))},renderCard:function(t){return i.createElement(tt.a.Component,{key:t.get().cardId,card:t,lensAlertsCount:g,lensId:h.id,marksVM:n,cardsVM:r,alignmentVM:o,onFocus:e._onCardFocus})}})))))}))},t}($e.a),Ft=n("OhP0"),Dt=i.createContext({navigateToAllAlerts:I.noop}),Rt=function(e){var t=e.lensAlertsCount,n=e.theme;return i.createElement(l.F.Fragment,null,t.view(function(e){return e>0&&i.createElement(Ae.a.Counter,{key:"counter",count:e,theme:n,type:"gray"})}))},Vt=function(e){var t=e.className;return i.createElement(Dt.Consumer,null,function(e){var n=e.navigateToAllAlerts;return i.createElement(re.a.Flat,a.__assign({name:"to-all-alerts"},Object(l.classes)(Ft.toAllAlertsButton,t),{onClick:n}),i.createElement("span",{className:Ft.toAllAlertsText},"Back to all alerts "),i.createElement(ie.d.Close,{width:13}))})},Bt=((At={})[P.a.SpecialId.AllAlerts]=Ft.allAlertsCounter,At[P.a.SpecialId.Correctness]=Ft.correctnessCounter,At[P.a.SpecialId.Clarity]=Ft.clarityCounter,At[P.a.SpecialId.Engagement]=Ft.engagementCounter,At[P.a.SpecialId.Tone]=Ft.toneCounter,At),jt=function(e){var t=e.lens,n=e.lensAlertsCount;return i.createElement(l.F.div,{className:Ft.lensTitle},i.createElement(Rt,{lensAlertsCount:n,theme:{counterWrapper:Bt[t.id],counterContent:Ft.counterContent}}),t.title,t.id!==P.a.SpecialId.AllAlerts&&i.createElement(i.Fragment,null,i.createElement(re.b,{iconClass:Ft.infoIcon,tooltipClass:Ft.infoTooltip,title:Xe(t.id).description}),i.createElement(Vt,null)))},Ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.marksVM,r=t.cardsVM,o=t.alignmentVM,c=t.transition,u=t.state,d=t.onTransitionEnd,p=u.get().currentLens.meta;return i.createElement("div",{className:Ft.lensWrapper,onTransitionEnd:d},i.createElement(l.F.div,a.__assign({},Object(l.classes)(Ft.header,c.map(function(e){return e.revampedTitle}))),i.createElement(jt,{lens:p,lensAlertsCount:this._lensAlertsCount})),i.createElement(et.a.Classic,{key:p.id,cardsListScrollManager:this.props.cardsListScrollManager,name:p.id,isMaster:this.props.isMaster},function(t){return i.createElement(i.Fragment,null,i.createElement("div",{ref:function(e){return t.lens("viewport").set(s.Option.of(e))},className:Ft.fakeTop}),i.createElement("div",{className:Ft.viewport},i.createElement(l.F.div,a.__assign({},Object(l.classes)(Ft.lensviewContentWrapper,c.map(function(e){return e.base}))),i.createElement(l.F.div,a.__assign({},Object(l.classes)(Ft.scrollWrapper,c.map(function(e){return e.content}))),i.createElement(Qe.a,{className:Ft.scroll,lensView:u.lens(te.d.Prism.getLens()),cardsVM:r,onMount:function(e){return t.lens("scroll").set(s.Option.of(e))},onTitleMount:function(e){return t.lens("title").set(s.Option.of(e))},renderCard:function(t){return i.createElement(tt.a.Component,{key:t.get().cardId,card:t,lensId:p.id,marksVM:n,cardsVM:r,alignmentVM:o,lensAlertsCount:e._lensAlertsCount,onFocus:e._onCardFocus})}})))))}))},t}($e.a),Wt=function(e){var t=e.state.view("currentLens","activeAlertsCount"),n=e.state.get().currentLens.meta;return i.createElement(Pt,a.__assign({},e),i.createElement("div",{className:Fe.headerRevamped},i.createElement("div",{className:Ft.header},i.createElement(jt,{lens:n,lensAlertsCount:t}))))},Ut=n("ylb3"),zt=function(e){var t=e.lens,n=e.transition,r=e.successLensViewModel,o=e.scrollEl,s=e.features,c=e.onTransitionEnd,u=t.id!==P.a.SpecialId.AllAlerts;return i.createElement(l.F.div,a.__assign({onTransitionEnd:c},Object(l.classes)(Ut.successLens,n.map(function(e){return e.base}))),u&&i.createElement(A.Top,{scrollEl:o},i.createElement(l.F.div,a.__assign({},Object(l.classes)(Ut.header,n.map(function(e){return e.revampedTitle}))),i.createElement("div",{className:Ut.lensTitle},t.title),i.createElement(Vt,{className:Ut.backButton}))),i.createElement(Ge.a,{state:r.successState,preventAnimation:s.preventAnimation},i.createElement(Dt.Consumer,null,function(e){var t=e.navigateToAllAlerts;return u&&i.createElement(re.a.Ghost,{name:"to-all-alerts",onClick:t,className:Ut.toAllAlerts},"Go back to All Alerts")})))},Gt=n("UI30"),qt=n("Fq1y"),Kt=Object(d.f)(function(e,t){return i.createElement("div",{className:qt.content},i.createElement(ne.Base,{className:qt.originality100Text},t.textResources.denali.plagiarism.originalText),i.createElement(Zt,{className:qt.illusration}))}),Yt=function(e){var t=e.variation,n=void 0===t?"violet":t;return i.createElement("div",{className:qt.content},i.createElement(Gt.a,{variation:n,className:qt.loader}),i.createElement(ne.Base,{className:qt.loadingText},"Please wait.",i.createElement("br",null),"We’re checking your text against billions of web pages.",i.createElement("br",null),"It'll just take a moment."))},Zt=function(e){var t=e.className;return i.createElement("svg",a.__assign({},Object(l.classes)(t),{width:"334",height:"375",viewBox:"0 0 334 375",xmlns:"http://www.w3.org/2000/svg"}),i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M160.3 199.297C145.842 196.217 135 183.375 135 168c0-17.673 14.327-32 32-32 17.673 0 32 14.327 32 32 0 14.726-9.947 27.128-23.488 30.856 1.032-4.938 2.81-9.608 5.193-13.675.144-.214.215-.357.36-.572 1.504-2.576 2.15-5.438 2.006-8.372-.214-4.15-2.15-7.943-5.088-10.52l-1.362-1.144c-2.222-1.574-4.874-2.576-7.74-2.72-4.302-.285-8.315 1.146-11.47 4.08-3.08 2.862-4.8 6.94-4.8 11.09 0 2.362.5 4.652 1.576 6.727.358.787.716 1.43 1.218 2.075 2.323 4.075 3.954 8.634 4.895 13.472z",fill:"#F7EAF7"}),i.createElement("path",{d:"M176.62 164.617c-2.222-1.577-4.874-2.58-7.74-2.723-4.302-.287-8.315 1.146-11.47 4.085-3.08 2.866-4.8 6.952-4.8 11.11 0 2.364.5 4.658 1.576 6.736.358.79.716 1.434 1.218 2.08 2.365 4.156 4.014 8.815 4.946 13.76.286 1.362.5 2.796.645 4.158.358 1.075 1.075 1.72 2.007 1.935.215 1.36 1.29 2.507 2.795 3.01l1.147.286c.286.07.645.07.93.07.647 0 1.292-.07 1.865-.285 0 0 1.002-.358 1.002-.43 1.076-.644 1.792-1.576 1.936-2.65 1.003-.288 1.792-1.148 2.078-2.223.072-.86.215-1.65.36-2.437.93-5.734 2.866-11.18 5.59-15.84.143-.215.214-.36.358-.574 1.505-2.58 2.15-5.447 2.007-8.386-.214-4.157-2.15-7.956-5.088-10.536l-1.362-1.147zm-8.745 19.71c.932.718 2.294 1.506 3.728 1.864-1.076 3.872-1.936 9.463-2.222 11.254h-3.01c-.286-1.79-1.147-7.454-2.222-11.253 1.434-.357 2.796-1.074 3.727-1.862zm-1.29-3.08c0-.073-.143-1.506 1.075-1.72h.36c1.217.214 1.074 1.647 1.074 1.72-.072.716-.79 1.432-1.29 1.79-.43-.43-1.147-1.074-1.22-1.79zm-1.003 17.344c.143.073.215.145.358.073.072 0 .144-.072.215-.072h3.297c.072.073.144.073.215.073h.072c.142 0 .214-.072.286-.072h4.3c-.143.79-.287 1.506-.43 2.295 0 .072 0 .143-.072.287h-12.04c-.073-.574-.144-1.147-.288-1.65-.07-.286-.143-.572-.215-.86l4.302-.07zm2.293 9.462c-1.79 0-3.368-.93-3.727-2.222h7.383c-.286 1.29-1.863 2.222-3.655 2.222zm3.943-3.297h-7.956c-.79 0-1.506-.5-1.792-1.147-.072-.43-.144-.93-.144-1.36h11.898c-.07.357-.07.715-.143 1.074-.214.86-.93 1.433-1.862 1.433zm10.106-28.455c.143 2.724-.502 5.376-1.792 7.67v.07c-.143.216-.215.43-.36.646-2.292 3.87-3.94 8.243-5.087 12.83h-4.23c.287-1.935 1.148-7.382 2.223-11.11.573.072 1.146.072 1.648-.07 1.22-.36 1.72-1.578 1.65-2.58-.073-.933-.646-1.578-1.435-1.722-.5-.07-1.432.144-1.934 1.29-.215.502-.43 1.147-.645 1.864-1.146-.287-2.364-.932-3.153-1.505.574-.502 1.362-1.29 1.434-2.365.072-1.22-.5-2.652-2.006-2.867H167.59c-1.506.287-2.08 1.72-2.008 2.868.072 1.075.86 1.863 1.433 2.365-.788.573-2.007 1.218-3.153 1.505-.215-.717-.43-1.362-.645-1.864-.502-1.146-1.434-1.36-1.936-1.29-.787.072-1.36.79-1.432 1.72-.072 1.004.43 2.222 1.648 2.58.502.144 1.076.144 1.65.072 1.002 3.656 1.934 9.103 2.22 11.11h-4.228c-1.003-4.372-2.58-8.458-4.66-12.185-.357-.644-.787-1.29-1.146-1.934 0 0 0-.072-.07-.072-.933-1.935-1.435-4.085-1.435-6.235 0-3.872 1.65-7.67 4.516-10.322 2.867-2.724 6.665-4.014 10.608-3.8 2.653.216 5.16 1.076 7.24 2.58.07.073.143.144.215.144 3.082 2.366 5.304 6.236 5.52 10.608zm-8.96 9.03c.215-.644.43-1.217.574-1.647.286-.717.788-.645.788-.645.43.07.502.573.502.717.072.573-.215 1.29-.86 1.433-.287.143-.645.215-1.004.143zm-10.177 0c-.36 0-.717 0-1.004-.07-.645-.215-.932-.86-.86-1.434 0-.143.072-.645.502-.717.143 0 .5.07.788.645.143.43.358.93.574 1.576z",fill:"#8189A9",fillRule:"nonzero"}),i.createElement("path",{d:"M167.804 157.88c-.287 0-.502-.287-.574-.574v-8.457c0-.36.287-.575.574-.575.358 0 .573.287.573.574v8.456c0 .36-.287.574-.573.574zm-10.75 2.58l-4.302-7.31c-.143-.216-.072-.574.215-.717.215-.144.573-.072.717.215l4.3 7.31c.144.215.072.574-.215.717-.072.072-.216.072-.287.072-.144 0-.36-.144-.43-.287zm-14.55 3.44c-.217-.143-.288-.43-.145-.716.142-.287.43-.36.716-.215l7.382 4.156c.287.143.36.43.215.717-.143.215-.286.286-.5.286-.145 0-.216 0-.288-.072l-7.383-4.157zm-3.442 14.48c-.287 0-.573-.288-.573-.503-.073-.358.214-.573.5-.573l8.458-.072c.358 0 .573.215.573.502.073.358-.214.573-.5.573l-8.458.072zm10.966 9.03c.215-.143.574-.072.79.215.142.215.07.573-.216.717l-7.31 4.23c-.073.07-.216.07-.288.07-.215 0-.43-.143-.5-.286-.145-.215-.073-.574.214-.717l7.31-4.23zm12.472-29.458l-1.505-4.874c-.072-.287.07-.574.358-.645.287-.072.573.07.645.358l1.505 4.875c.072.287-.07.573-.358.645h-.143c-.215 0-.43-.143-.502-.358zm-9.103 5.303l-3.727-3.44c-.215-.215-.215-.573 0-.788.215-.215.573-.215.788 0l3.728 3.44c.215.215.215.573 0 .788-.144.072-.287.144-.43.144-.144 0-.287-.073-.36-.145zm-4.66 8.816c0 .217-.214.432-.5.432h-.144l-4.945-1.076c-.287-.07-.502-.358-.43-.645.07-.285.358-.5.645-.43l4.945 1.076c.287.072.502.36.43.646zm-5.733 11.47l4.874-1.577c.287-.072.574.07.645.358.072.288-.07.574-.358.646l-4.874 1.577h-.142c-.215 0-.43-.143-.502-.358-.072-.287.072-.574.358-.646zm9.748 7.884c.143-.215.502-.215.788 0 .287.215.287.573.072.788l-3.44 3.727c-.144.07-.287.143-.43.143-.144 0-.287-.072-.36-.144-.285-.216-.285-.574-.07-.79l3.44-3.726zm40.063-27.523l-7.382 4.158c-.072.07-.143.07-.287.07-.215 0-.358-.07-.502-.285-.143-.287-.07-.574.216-.717l7.382-4.157c.287-.145.573-.073.717.214.142.286.07.573-.145.717zm3.372 14.48l-8.458-.073c-.287 0-.574-.215-.502-.573 0-.287.215-.502.573-.502l8.46.072c.285 0 .572.215.5.573 0 .215-.286.502-.573.502zm-10.608 9.03l7.31 4.23c.287.142.358.5.215.716-.072.143-.287.286-.502.286-.07 0-.215 0-.286-.07l-7.31-4.23c-.288-.144-.36-.502-.216-.717.216-.287.574-.358.79-.215zm.86-15.34c-.072-.285.143-.572.43-.644l4.945-1.075c.287-.07.573.145.645.43.072.288-.143.575-.43.646l-4.946 1.076h-.143c-.286 0-.5-.215-.5-.43zm6.163 11.47c.287.07.43.358.36.645-.073.215-.288.358-.503.358h-.143l-4.874-1.577c-.287-.072-.43-.358-.36-.645.073-.286.36-.43.646-.357l4.873 1.577zm-9.46 7.884l3.44 3.727c.215.216.215.574-.072.79-.07.07-.214.143-.357.143-.144 0-.287-.072-.43-.144l-3.44-3.728c-.216-.215-.216-.573.07-.788.288-.215.646-.215.79 0zm-5.233-30.82c-.287-.144-.358-.43-.215-.717l4.3-7.31c.144-.288.43-.36.717-.216s.36.43.215.718l-4.3 7.31c-.072.215-.215.287-.43.287-.072 0-.215 0-.287-.072zm-5.447-2.294c-.287-.072-.43-.358-.36-.645l1.506-4.874c.07-.286.358-.43.645-.357.286.07.43.358.358.645l-1.505 4.874c-.072.215-.287.358-.502.358h-.143zm9.102 4.945c-.215-.215-.215-.573 0-.788l3.727-3.44c.216-.215.574-.215.79 0 .214.215.214.573 0 .788l-3.728 3.44c-.072.072-.215.144-.36.144-.142 0-.357 0-.43-.145z",fillOpacity:".5",fill:"#C770C8",fillRule:"nonzero"}),i.createElement("g",{fillRule:"nonzero"},i.createElement("path",{d:"M297.125 147.025c.3.3.3.8-.1 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8zm3.9 4l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm6.8-5.7c.3.3.3.8-.1 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0zM121.425 366.225l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm5.6 5.7l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm5.7-5.7c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zM195.025 57.125l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm5.7 5.6l-1.9-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm-6.9.2c-.2 0-.4 0-.5-.1-.3-.3-.3-.8 0-1.1l1.7-1.9c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2zm5.7-5.6c-.2 0-.4-.1-.6-.2-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2z",fill:"#F9E799"}),i.createElement("path",{d:"M62.8 135.5c.5 0 .8-.2.8-.7 0-.5-.4-.8-.8-.8H48.3c-.4 0-.9.2-.9.7 0 .5.4.8.8.8h14.6zm-19.3 0c.4 0 .8-.2.8-.7 0-.5-.4-.8-.8-.8h-4.7c-.4 0-.8.2-.8.7 0 .5.4.8.8.8h4.7zm-4.7 5H49c.5 0 .8-.3.8-.8s-.4-.8-.8-.8H38.8c-.5 0-.8.3-.8.8s.4.8.8.8zm14.5 0h3.3c.5 0 .8-.3.8-.8s-.4-.8-.8-.8h-3.3c-.5 0-.8.3-.8.8s.4.8.8.8zM311 12.3c0 .4-.3.7-.8.8h-14.6c-.5 0-.8-.3-.8-.8s.4-.8.8-.8h14.6c.5 0 .8.4.8.8zm4 .7c-.4 0-.8-.3-.8-.8s.4-.8.8-.8h4.7c.5 0 .8.3.8.8s-.4.8-.8.8H315zm4.7 3.5c.5 0 .8.4.8.8 0 .5-.4.8-.8.8h-10.1c-.5 0-.8-.4-.8-.8 0-.5.4-.8.8-.8h10.1zm-14.5 0c.5 0 .8.4.9.8 0 .5-.4.8-.8.8H302c-.5 0-.8-.4-.8-.8 0-.5.4-.8.8-.8h3.2z",fill:"#A4D3FF"}),i.createElement("path",{d:"M0 3.9c0 2.2 1.8 3.9 3.9 3.9 2.2 0 3.9-1.8 3.9-3.9C7.8 1.7 6 0 3.9 0 1.7 0 0 1.7 0 3.9zm6.3 0c0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.3 1.1-2.4 2.4-2.4 1.3 0 2.4 1 2.4 2.4zM330.4 301c-1.9 0-3.4 1.5-3.4 3.4s1.5 3.4 3.4 3.4 3.4-1.5 3.4-3.4c-.1-1.9-1.6-3.4-3.4-3.4zm0 5.2c-1 0-1.9-.8-1.9-1.9 0-1 .8-1.9 1.9-1.9 1 0 1.9.8 1.9 1.9-.1 1.1-.9 1.9-1.9 1.9zM113.6 101.2c2.2 0 3.9-1.8 3.9-3.9 0-2.2-1.8-3.9-3.9-3.9-2.2 0-3.9 1.8-3.9 3.9 0 2.1 1.7 3.9 3.9 3.9zm0-6.3c1.3 0 2.4 1.1 2.4 2.4 0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.4 1.1-2.4 2.4-2.4z",fill:"#A1E7D7"}))))},Jt=n("5TOM"),Xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,n=e.transition,r=e.state.view("currentLens","meta");return i.createElement("div",{className:Ie.lensWrapper},i.createElement(t.Content,a.__assign({},this.props,{referenceLink:t.GrayReferenceLink,theme:{scroll:Ie.scroll,description:Jt.info,viewport:Ie.viewport,lensviewContentWrapper:Ie.lensviewContentWrapper,scrollWrapper:Ie.scrollWrapper,fakeTop:Jt.fakeTop}}),i.createElement(l.F.div,a.__assign({},Object(l.classes)(this.props.transition.map(function(e){return e.base}),Ie.headerWrapper)),i.createElement(Ne.a,{title:"Plagiarism",theme:{title:n.map(function(e){return e.title}),wrapper:Ie.header}},i.createElement($e.a.Dismiss,{count:r.view("count"),lens:r.get(),theme:Ie})))))},t}(i.Component);(Tt=Xt||(Xt={})).Content=function(e){var t=l.Atom.create(s.Option.empty()),n=e.features.superScroll?tn:en;return i.createElement(i.Fragment,{key:P.a.SpecialId.Plagiarism},i.createElement(A.Top,{className:Jt.stickyLensView,onTransitionEnd:e.onTransitionEnd,scrollEl:e.scrollEl},e.children,i.createElement(Lt,{key:"seeAlerts",cardsViewportState:e.cardsListScrollManager.cardsViewportState,actionEvents:e.cardsVM.actionEvents,cardsAmount:e.state.view("currentLens").view("visibleCards").view("size")}),i.createElement(l.F.div,{className:e.theme.viewport},i.createElement(l.F.div,a.__assign({},Object(l.classes)(Jt.contentRevamped,e.transition.map(function(e){return e.base}))),e.plagiarismModel.checkingState.view(function(t){switch(t.type){case"idle":case"checking":return t.fragments>0?null:i.createElement(Kt,{key:"originality100"});case"full":return i.createElement(Yt,{key:"loading",variation:e.loaderVariation});default:return Object(I.assertNever)(t.type)}})))),i.createElement("div",{ref:function(e){return t.set(s.Option.of(e))},className:e.theme.fakeTop}),i.createElement(l.F.div,{className:e.theme.viewport},i.createElement(l.F.div,a.__assign({},Object(l.classes)(e.theme.lensviewContentWrapper,e.transition.map(function(e){return e.base}))),i.createElement(l.F.div,a.__assign({},Object(l.classes)(e.theme.scrollWrapper,e.transition.map(function(e){return e.content}))),e.plagiarismModel.checkingState.view(function(r){switch(r.type){case"idle":case"checking":return r.fragments>0?i.createElement(n,a.__assign({key:"cards-view"},e,{viewportEl:t,linkComponent:e.referenceLink,theme:{scroll:e.theme.scroll,description:e.theme.description}})):null;case"full":return null;default:return Object(I.assertNever)(r.type)}})))))},Tt.GrayReferenceLink=function(e){var t=e.type;return i.createElement($t,{type:t,className:Jt.referenceLink})},Tt.WhiteReferenceLink=function(e){var t=e.type;return i.createElement($t,{type:t,className:Jt.whiteReferenceLink})};var Qt={MLA:"https://owl.english.purdue.edu/owl/resource/747/08/",APA:"https://owl.english.purdue.edu/owl/resource/560/10/",Chicago:"https://owl.english.purdue.edu/owl/resource/717/05/"},$t=function(e){var t=e.type,n=e.className;return i.createElement("a",{target:"_blank",href:Qt[t],className:n},t)},en=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._titleState=l.Atom.combine(t.props.state.view("currentLens","meta").view(function(e){return{percentile:e.percentile,fragments:e.count}}),t.props.state.view(function(e){return e.currentLens.visibleCards.size}),function(e,t){return{percentile:e.percentile,fragments:e.fragments,sources:t}}),t._onCardFocus=function(){t.context.gnarSpec.alertCardShow(P.a.SpecialId.Plagiarism,t.context.pageId,t.props.state.get().switchOrder,t.context.pageSessionId)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.cardsVM,r=t.theme,a=t.linkComponent,o=t.alignmentVM,c=t.marksVM,u=t.state;return i.createElement(et.a.Classic,{cardsListScrollManager:this.props.cardsListScrollManager,name:"plagiarism",isMaster:this.props.isMaster},function(t){return i.createElement(p.c,{onMount:function(){e.props.viewportEl.do(U.e.toAtom(t.lens("viewport"))).subscribe()}},i.createElement(Qe.a,{lensView:u.lens(te.d.Prism.getLens()),className:r.scroll,cardsVM:n,onMount:function(e){return t.lens("scroll").set(s.Option.of(e))},onTitleMount:function(e){return t.lens("title").set(s.Option.of(e))},renderCard:function(t){return i.createElement(tt.a.Component,{lensId:P.a.SpecialId.Plagiarism,key:t.get().cardId,card:t,cardsVM:n,marksVM:c,alignmentVM:o,lensAlertsCount:u.view("currentLens","activeAlertsCount"),onFocus:e._onCardFocus})}},i.createElement(l.F.div,null,e._titleState.view(function(t){var n=t.percentile,o=t.fragments,s=t.sources;return i.createElement(ne.Base,{className:r.description},e.context.textResources.denali.plagiarism.lensDescription(n,o,s,a))}))))})},t}(d.a),tn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onCardFocus=function(){t.context.gnarSpec.alertCardShow(P.a.SpecialId.Plagiarism,t.context.pageId,t.props.state.get().switchOrder,t.context.pageSessionId)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.cardsVM,r=t.theme,a=t.alignmentVM,c=t.marksVM,l=t.state,u=t.scrollEl,d=t.viewportEl;return i.createElement(et.a.Modern,{cardsListScrollManager:this.props.cardsListScrollManager,name:"plagiarism",isMaster:this.props.isMaster},function(t){return i.createElement(p.c,{onMount:function(){return o.Observable.merge(u.do(U.e.toAtom(t.lens("scrollProvider"))),d.do(U.e.toAtom(t.lens("viewport")))).subscribe()}},i.createElement(Qe.a.Revamped,{lensView:l.lens(te.d.Prism.getLens()),className:r.scroll,cardsVM:n,onMount:function(e){t.lens("scroll").set(s.Option.of(e))},renderCard:function(t){return i.createElement(tt.a.Component,{lensId:P.a.SpecialId.Plagiarism,key:t.get().cardId,card:t,cardsVM:n,marksVM:c,alignmentVM:a,lensAlertsCount:l.view("currentLens","activeAlertsCount"),onFocus:e._onCardFocus})}}))})},t}(d.a),nn=n("TlKh"),rn=function(e){var t=e.state.get().currentLens.meta,n=e.state.view("currentLens","activeAlertsCount");return i.createElement(Xt.Content,a.__assign({},e,{theme:{scroll:Fe.scroll,description:nn.description,viewport:Fe.viewportRevamped,lensviewContentWrapper:Fe.lensviewContentWrapperRevamped,scrollWrapper:Fe.scrollWrapper,fakeTop:e.features.superScroll?nn.fixedFakeTop:nn.fakeTop},referenceLink:Xt.WhiteReferenceLink}),i.createElement(l.F.div,a.__assign({},Object(l.classes)(Fe.headerRevamped,e.transition.map(function(e){return e.revampedTitle}))),i.createElement("div",{className:Fe.lensTitle},"Plagiarism"),i.createElement("div",{className:Fe.dismissWrapper},i.createElement($e.a.Dismiss,{count:n,lens:t,theme:Fe}))))},an=n("ZsbL"),on=function(e){var t=e.state.view("currentLens","activeAlertsCount");return i.createElement(Xt.Content,a.__assign({},e,{theme:{scroll:Fe.scroll,description:an.description,viewport:Fe.viewportRevamped,lensviewContentWrapper:Fe.lensviewContentWrapperRevamped,scrollWrapper:Fe.scrollWrapper,fakeTop:e.features.superScroll?an.fixedFakeTop:an.fakeTop},loaderVariation:"cyan",referenceLink:Xt.WhiteReferenceLink}),i.createElement(l.F.div,a.__assign({},Object(l.classes)(Fe.headerRevamped,e.transition.map(function(e){return e.revampedTitle}))),i.createElement(Rt,{lensAlertsCount:t,theme:an}),i.createElement("div",{className:an.lensTitle},"Plagiarism"),i.createElement(Vt,null)))},sn=n("0tya"),cn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.transition,n=e.upgradeViewModel,r=e.sidebarViewModel;return i.createElement(A.Top,{scrollEl:this.props.scrollEl},i.createElement(l.F.div,a.__assign({},Object(l.classes)(sn.paidViewOutcome,t.map(function(e){return e.base}))),i.createElement(l.F.div,a.__assign({},Object(l.classes)(Fe.headerRevamped,t.map(function(e){return e.revampedTitle}))),i.createElement("div",{className:sn.lensTitle},this.context.textResources.denali.sidebar.premiumAlertsTitle),r.getPersistentLens(P.a.SpecialId.AllAlerts).view(function(e){return e.count>0?i.createElement(Vt,{key:"back-to-all-alerts"}):null})),i.createElement(xe,{transition:t,upgradeViewModel:n,sidebarViewModel:r,theme:a.__assign({},Fe,sn)})))},t}(Pe),ln=n("IetI"),un=function(e){var t=e.lens,n=e.lensAlertsCount,r=t.id!==P.a.SpecialId.AllAlerts;return i.createElement(l.F.Fragment,null,i.createElement("div",{className:ln.lensTitle},t.title,r&&i.createElement(re.b,{iconClass:ln.infoIcon,tooltipClass:ln.infoTooltip,title:t.description})),i.createElement("div",{className:ln.dismissWrapper},r&&i.createElement($e.a.Dismiss,{count:n,lens:t,theme:ln})))},dn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.marksVM,r=t.cardsVM,o=t.alignmentVM,c=t.transition,u=t.onTransitionEnd,d=t.state,p=d.get().currentLens.meta;return i.createElement("div",{key:p.id,className:ln.lensWrapper,onTransitionEnd:u},i.createElement(l.F.div,a.__assign({},Object(l.classes)(ln.header,c.map(function(e){return e.revampedTitle}))),i.createElement(un,{lens:p,lensAlertsCount:this._lensAlertsCount})),i.createElement(et.a.Classic,{key:p.id,cardsListScrollManager:this.props.cardsListScrollManager,name:p.id,isMaster:this.props.isMaster},function(t){return i.createElement(i.Fragment,null,i.createElement("div",{ref:function(e){return t.lens("viewport").set(s.Option.of(e))},className:ln.fakeTop}),i.createElement("div",{className:ln.viewport},i.createElement(l.F.div,a.__assign({},Object(l.classes)(ln.lensviewContentWrapper,c.map(function(e){return e.base}))),i.createElement(l.F.div,a.__assign({},Object(l.classes)(ln.scrollWrapper,c.map(function(e){return e.content}))),i.createElement(Qe.a,{lensView:d.lens(te.d.Prism.getLens()),className:ln.scroll,cardsVM:r,onMount:function(e){return t.lens("scroll").set(s.Option.of(e))},onTitleMount:function(e){return t.lens("title").set(s.Option.of(e))},renderCard:function(t){return i.createElement(tt.a.Component,{key:t.get().cardId,card:t,lensId:p.id,marksVM:n,cardsVM:r,alignmentVM:o,lensAlertsCount:e._lensAlertsCount,onFocus:e._onCardFocus})}})))))}))},t}($e.a),pn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._classes=l.Atom.create(""),t._state=l.Atom.create(s.Option.empty()),t._content=l.Atom.create(null),t._onTransitionEnd=function(){var e=t._state.get();e.contains(J.a.Type.checkingOut)&&t._state.set(s.None),e.isEmpty()&&t._content.set(null)},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.theme,r=t.state;this._subs.push(this._state.pairwise().map(function(e){var t=e[0];return e[1].fold(function(){return t.fold(function(){throw new I.InvariantError("Cannot animate sidebar loader from None to None")},function(e){switch(e){case J.a.Type.checkingOut:return[n.checkingOutEnd+" "+n.hideEnd];case J.a.Type.checkingIn:return[n.checkingInEnd+" "+n.hideEnd];case J.a.Type.checking:return[n.hideStart,n.hideEnd];default:return Object(I.assertNever)(e)}})},function(e){switch(e){case J.a.Type.checkingOut:return t.contains(J.a.Type.checkingIn)?[n.checkingOutEnd]:t.isEmpty()?[n.hideEnd]:[n.checkingOutStart,n.checkingOutEnd];case J.a.Type.checkingIn:return t.contains(J.a.Type.checkingOut)?[n.checkingInEnd]:t.contains(J.a.Type.checking)?[]:[n.checkingInStart,n.checkingInEnd];case J.a.Type.checking:return[n.checkingStart,n.checkingEnd];default:return Object(I.assertNever)(e)}})}).switchMap(function(e){return I.Animation.rafSequence(e,!0)}).subscribe(U.e.toAtom(this._classes)),r.subscribe(function(t){e._state.set(t),null===e._content.get()&&t.nonEmpty()&&e._content.set(e.props.children)}),r.switchMap(function(){return o.Observable.timer(500)}).subscribe(this._onTransitionEnd))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){var e=this;return i.createElement(l.F.div,{"data-role":"loader-content",key:"content",className:this._classes,mount:function(t){return t&&(e._el=t)},onTransitionEnd:function(t){return t.target===e._el&&e._onTransitionEnd()}},this._content)},t}(i.Component),mn=n("jcJZ"),fn=n("Oj6O"),hn=n("weRr"),gn=n("TYHi"),vn=function(e){var t=e.name,n=e.title,r=e.tooltip,o=e.tooltipAlignment,s=e.isActive,c=e.isDisabled,u=e.className,d=e.onClick,p=e.children;return i.createElement(re.a,a.__assign({name:t,styleType:ne.Typography.Type.Base,active:s,title:"string"==typeof r?i.createElement("div",{className:gn.tooltip},r):r,titleAlign:o,disabled:c,onClick:d},Object(l.classes)(gn.outcomeBtn,u)),n,p)},bn=function(e){return i.createElement(l.F.Fragment,null,l.Atom.combine(e.progress,e.isActive,function(t,n){return 100===t?i.createElement(ie.e,{viewBox:"0 0 32 32",width:32,className:gn.radialProgressBar},n?i.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#FFF",strokeWidth:"2",transform:"translate(1 1)"},i.createElement("circle",{cx:"15",cy:"15",r:"15",opacity:".2"}),i.createElement("path",{strokeLinecap:"round",d:"M9 16.75l4.13 4.13L23 11"})):i.createElement("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2",transform:"translate(1 1)"},i.createElement("circle",{cx:"15",cy:"15",r:"15",stroke:"#DCF6F0"}),i.createElement("path",{stroke:"#15C39A",strokeLinecap:"round",d:"M9 16.75l4.13 4.13L23 11"}))):[i.createElement(hn.a,{key:"progress",percentage:t,colorType:n?hn.a.ColorType.white:yn.outcomeIdToProgressBarColor(e.outcomeId),fontSize:hn.a.FontSize.small,iconSize:hn.a.IconSize.outcome,theme:gn}),i.createElement(i.Fragment,{key:"outcome-icon"},yn.outcomeIdToIcon(e.outcomeId,n))]}))};function yn(e){return i.createElement(vn,{name:"lens-"+e.id,isActive:e.isActive,isDisabled:e.isDisabled,onClick:e.onClick,title:e.title,tooltip:e.tooltip,tooltipAlignment:e.tooltipAlignment,className:yn.outcomeIdToButtonColor(e.id)},i.createElement(bn,{outcomeId:e.id,progress:e.progress,isActive:e.isActive}),e.status&&i.createElement(ne.Small,{className:gn.outcomeStatus},e.status))}!function(e){var t;e.outcomeIdToProgressBarColor=function(e){return r[e].progressBar},e.outcomeIdToButtonColor=function(e){return r[e].button},e.outcomeIdToIcon=function(e,t){return r[e].icon[t?"selected":"unselected"]};var n=i.createElement(ie.e,{viewBox:"0 0 18 15",width:18,className:gn.icon},i.createElement("defs",null,i.createElement("path",{id:"premium-path",d:"M0 5l4-5h8l4 5-8 8z"})),i.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd",transform:"translate(1 1)"},i.createElement("mask",{id:"premium-mask",fill:"#fff"},i.createElement("use",{xlinkHref:"#premium-path"})),i.createElement("path",{stroke:"#F29100",strokeOpacity:".3",d:"M-.67 5.04L3.76-.5h8.48l4.43 5.54L8 13.7-.67 5.04z",fill:"#FBC73C"}),i.createElement("path",{fill:"#FDD46E",d:"M8 5L4 0h8L8 5zm0 0v8L0 5h8z",mask:"url(#premium-mask)"}),i.createElement("path",{fill:"#FAB712",d:"M8 5h8l-4-5z",mask:"url(#premium-mask)"}))),r=((t={})[P.a.SpecialId.Correctness]={button:gn.correctness,progressBar:hn.a.ColorType.crimson,icon:{unselected:i.createElement(ie.e,{viewBox:"0 0 14 19",width:14,className:gn.icon},i.createElement("defs",null,i.createElement("path",{id:"correctness-unselected-path",d:"M0 2.25L7 0l7 2.25v5.81a9 9 0 0 1-3.36 7.02L7 18l-3.64-2.92A9 9 0 0 1 0 8.06V2.25z"})),i.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd",transform:"translate(0 .5)"},i.createElement("mask",{id:"correctness-unselected-mask",fill:"#fff"},i.createElement("use",{xlinkHref:"#correctness-unselected-path"})),i.createElement("use",{fill:"#FF6680",xlinkHref:"#correctness-unselected-path"}),i.createElement("path",{fill:"#FFCCD5",d:"M7 0h9v19H7z",mask:"url(#correctness-unselected-mask)"}))),selected:i.createElement(ie.e,{viewBox:"0 0 16 21",width:16,className:gn.icon},i.createElement("defs",null,i.createElement("path",{id:"correctness-selected-path",d:"M0 2.25L7 0l7 2.25v5.811a9 9 0 0 1-3.362 7.016L7 18l-3.638-2.923A9 9 0 0 1 0 8.061V2.25z"})),i.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(1 1.5)"},i.createElement("mask",{id:"correctness-selected-mask",fill:"#fff"},i.createElement("use",{xlinkHref:"#correctness-selected-path"})),i.createElement("path",{stroke:"#ce1331",fill:"#fff",fillOpacity:".25",d:"M-.5 1.886L7-.525l7.5 2.41v6.176a9.5 9.5 0 0 1-3.55 7.406L7 18.64l-3.95-3.174A9.5 9.5 0 0 1-.5 8.06V1.886z"}),i.createElement("path",{fill:"#fff",d:"M7 0h9v19H7z",mask:"url(#correctness-selected-mask)",opacity:".3",stroke:"none"})))}},t[P.a.SpecialId.Clarity]={button:gn.clarity,progressBar:hn.a.ColorType.blueRibbon,icon:{selected:i.createElement(ie.e,{viewBox:"0 0 18 18",width:18,className:gn.icon},i.createElement("defs",null,i.createElement("circle",{id:"clarity-selected-path",cx:"8",cy:"8",r:"8"})),i.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(1 1)"},i.createElement("mask",{id:"clarity-selected-mask",fill:"#fff"},i.createElement("use",{xlinkHref:"#clarity-selected-path"})),i.createElement("circle",{cx:"8",cy:"8",r:"8.5",stroke:"#3659B5",fill:"#fff",fillOpacity:".25",strokeOpacity:".5"}),i.createElement("path",{fill:"#FFF",d:"M19 7.233C19 12.727 13.975 17 7.975 17c-5.4 0-9.894-3.439-10.841-7.98l2.025-1.645c2.5-2.031 6.385-1.883 8.679.332.046.045.092.09.137.137 2.114 2.185 5.828 2.438 8.295.565.076-.058.986-.857 2.73-2.397v1.221z",mask:"url(#clarity-selected-mask)",opacity:".29"}))),unselected:i.createElement(ie.e,{viewBox:"0 0 16 16",width:16,className:gn.icon},i.createElement("defs",null,i.createElement("circle",{id:"clarity-unselected-circle",cx:"8",cy:"8",r:"8"})),i.createElement("g",{fill:"none",stroke:"none",fillRule:"evenodd"},i.createElement("mask",{id:"clarity-unselected-mask",fill:"#fff"},i.createElement("use",{xlinkHref:"#clarity-unselected-circle"})),i.createElement("use",{fill:"#CDF",xlinkHref:"#clarity-unselected-circle"}),i.createElement("path",{fill:"#99BCFF",d:"M19 7.23C19 12.73 13.98 17 7.97 17c-5.4 0-9.89-3.44-10.84-7.98l2.03-1.64a6.71 6.71 0 0 1 8.81.46 6.42 6.42 0 0 0 8.3.57L19 6v1.22z",mask:"url(#clarity-unselected-mask)"})))}},t[P.a.SpecialId.Engagement]={button:gn.engagement,progressBar:hn.a.ColorType.green,icon:{selected:i.createElement(ie.e,{viewBox:"0 0 18 18",width:18,className:gn.icon},i.createElement("defs",null,i.createElement("circle",{id:"engagement-selected-circle",cx:"8",cy:"8",r:"8"})),i.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd",transform:"translate(1 1)"},i.createElement("mask",{id:"engagement-selected-mask",fill:"#fff"},i.createElement("use",{xlinkHref:"#engagement-selected-circle"})),i.createElement("circle",{cx:"8",cy:"8",r:"8.5",stroke:"#13bf6c",fill:"#fff",fillOpacity:.25,strokeOpacity:".5"}),i.createElement("path",{fill:"#fff",d:"M4 8a5 5 0 1 1 8 0 5 5 0 1 1-8 0zm0 0a5 5 0 0 0 8 0 5 5 0 0 0-8 0z",mask:"url(#engagement-selected-mask)",opacity:".3"}))),unselected:i.createElement(ie.e,{viewBox:"0 0 16 16",width:16,className:gn.icon},i.createElement("defs",null,i.createElement("circle",{id:"engagement-unselected-circle",cx:"8",cy:"8",r:"8"})),i.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},i.createElement("mask",{id:"engagement-unselected-mask",fill:"#fff"},i.createElement("use",{xlinkHref:"#engagement-unselected-circle"})),i.createElement("use",{fill:"#d4faf1",xlinkHref:"#engagement-unselected-circle"}),i.createElement("path",{fill:"#90f0d9",d:"M4 8a5 5 0 1 1 8 0 5 5 0 1 1-8 0zm0 0a5 5 0 0 0 8 0 5 5 0 0 0-8 0z",mask:"url(#engagement-unselected-mask)"})))}},t[P.a.SpecialId.Tone]={button:gn.tone,progressBar:hn.a.ColorType.electricViolet,icon:{selected:i.createElement(ie.e,{viewBox:"0 0 18 18",width:18,className:gn.icon},i.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none"},i.createElement("circle",{cx:"9",cy:"9",r:"8.5",strokeLinejoin:"round",strokeOpacity:".5"}),i.createElement("circle",{cx:"9",cy:"9",r:"9",fill:"#fff",opacity:".3"}),i.createElement("circle",{cx:"9",cy:"11",r:"6",fill:"#fff",opacity:".3"}),i.createElement("circle",{cx:"9",cy:"13",r:"4",fill:"#fff",opacity:".3"}))),unselected:i.createElement(ie.e,{viewBox:"0 0 16 16",width:16,className:gn.icon},i.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none"},i.createElement("circle",{cx:"8",cy:"8",r:"8",fill:"#EED6FF"}),i.createElement("circle",{cx:"8",cy:"10",r:"6",fill:"#D29BFA"}),i.createElement("circle",{cx:"8",cy:"12",r:"4",fill:"#BA78ED"})))}},t[P.a.SpecialId.Plagiarism]={button:gn.plagiarism,progressBar:hn.a.ColorType.lightBlue,icon:{selected:i.createElement(ie.e,{viewBox:"0 0 18 18",width:18,className:gn.icon},i.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd",transform:"translate(1 1)"},i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:".5",d:"M11.5 4.5H13A3.5 3.5 0 0 1 16.5 8v5a3.5 3.5 0 0 1-3.5 3.5H8A3.5 3.5 0 0 1 4.5 13v-1.5H3A3.5 3.5 0 0 1-.5 8V3A3.5 3.5 0 0 1 3-.5h5A3.5 3.5 0 0 1 11.5 3v1.5z",opacity:".3"}),i.createElement("rect",{width:"11",height:"11",x:"5",y:"5",fill:"#FFF",opacity:".3",rx:"3"}),i.createElement("rect",{width:"11",height:"11",fill:"#FFF",opacity:".4",rx:"3"}))),unselected:i.createElement(ie.e,{viewBox:"0 0 16 16",width:16,className:gn.icon},i.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},i.createElement("rect",{width:"11",height:"11",x:"5",y:"5",fill:"#79E8F2",rx:"3"}),i.createElement("rect",{width:"11",height:"11",fill:"#CCFBFF",rx:"3"}),i.createElement("path",{fill:"#94EFF7",d:"M11 5v3a3 3 0 0 1-3 3H5V8a3 3 0 0 1 3-3h3z"})))}},t[P.a.SpecialId.Premium]={button:gn.premium,progressBar:hn.a.ColorType.orange,icon:{selected:n,unselected:n}},t)}(yn||(yn={}));var _n,En,wn=n("53PH"),Cn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._outcomes=t.props.features.isFree.view(function(e){return e?[P.a.SpecialId.Correctness,P.a.SpecialId.Clarity]:[P.a.SpecialId.Correctness,P.a.SpecialId.Clarity,P.a.SpecialId.Engagement,P.a.SpecialId.Tone]}),t._focusedLensOrderNumber=l.Atom.combine(t.props.pageViewModel.stateHolder.state,t._outcomes,function(e,t){return t.indexOf(e.currentLens.id)}),t._activeLensId=t.props.pageViewModel.stateHolder.state.view("currentLens","id"),t._isDocumentEmpty=t.props.documentModel.documentLength.view(function(e){return 1===e}),t._isIdle=t.props.documentModel.checkingState.view(function(e){return"idle"===e}),t._navigateTo=function(e){return t.props.pageViewModel.switchToLens(e,Ee.a.sidebar,"lensOrder")},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.sidebarViewModel;return i.createElement("div",{className:wn.wrapper},i.createElement(Q.a,{key:"onboarding",alignment:"bottomFlexible",eventType:"onclick",stepId:fn.a.Id.Step7,title:"Focused editing",message:"Categorized suggestions help you concentrate on specific aspects of your writing.",findFirstButton:{dotPosition:"center",buttonOrder:this._focusedLensOrderNumber,notificationPosition:"underButton"},themes:{containerClassName:wn.onboardingContainer,containerWrapperClassName:wn.onboardingContainer,notificationClassName:wn.onboardingNotification,triangleClassName:wn.triangleClassName}},i.createElement(Me.b,a.__assign({name:"lenses"},Object(l.classes)(wn.itemList,this.props.className),{update:t.lenses.view("size").mapTo(U.e.voidValue),allowHover:!0,key:"list"}),this._outcomes.view(function(n){return n.map(function(n){return i.createElement(Mn,{key:n,lens:t.getPersistentLens(n),isActive:e._activeLensId.view(function(e){return e===n}),isDocumentEmpty:e._isDocumentEmpty,isIdle:e._isIdle,navigateTo:e._navigateTo,outcomeData:Xe(n)})}).concat([i.createElement(Sn,{key:P.a.SpecialId.Premium,lens:t.getPersistentLens(P.a.SpecialId.Premium),isDocumentEmpty:e._isDocumentEmpty,isActive:e._activeLensId.view(function(e){return e===P.a.SpecialId.Premium}),navigateTo:e._navigateTo,outcomeData:Xe(P.a.SpecialId.Premium)})])}))))},t}(d.a),kn=function(e){function t(t){var n=e.call(this,t)||this;n._isEmpty=n.props.lens.view("count").view(function(e){return 0===e}),n._onClick=function(){n.context.gnarSpec.openLensButtonClick(I.StringUtils.camelize(n._title),n.context.pageId),n.props.navigateTo(n.props.isActive.get()?P.a.SpecialId.AllAlerts:n._id)};var r=t.lens.get();return n._id=r.id,n._title=r.title,n}return a.__extends(t,e),t}(d.a),Sn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this;return i.createElement(l.F.Fragment,null,this._isEmpty.view(function(t){return t?null:i.createElement(vn,{key:"premium",name:"premium",title:"Premium",isActive:e.props.isActive,onClick:e._onClick,className:yn.outcomeIdToButtonColor(P.a.SpecialId.Premium)},i.createElement(l.F.Fragment,null,e.props.isActive.view(function(t){return[i.createElement(hn.a,{key:"progress",percentage:0,colorType:t?hn.a.ColorType.white:yn.outcomeIdToProgressBarColor(P.a.SpecialId.Premium),fontSize:hn.a.FontSize.small,iconSize:hn.a.IconSize.outcome,theme:gn}),i.createElement(i.Fragment,{key:"premium-icon"},yn.outcomeIdToIcon(P.a.SpecialId.Premium,t)),i.createElement(ne.Small,{key:"status",className:gn.outcomeStatus},l.Atom.combine(e.props.lens,e.props.isDocumentEmpty.view(function(e){return e?Ze.IsDocumentEmpty:0}),e.props.outcomeData.stateMessage))]})))}))},t}(kn),Mn=function(e){function t(t){var n=e.call(this,t)||this;n._lensPercentileAtom=n.props.lens.view("percentile");var r=n._lensPercentileAtom.get();return n._progress=l.Atom.create(n.props.isDocumentEmpty.get()||!n._isEmpty.get()&&100===r?0:r),n}return a.__extends(t,e),t.prototype.componentDidMount=function(){this._progressUpdate=this.props.isDocumentEmpty.switchMap(Object(I.choose)(o.Observable.of(0),this._isEmpty.switchMap(Object(I.choose)(o.Observable.of(100),this._lensPercentileAtom)))).distinctUntilChanged().switchMap(U.e.Scheduler.rafScheduler).subscribe(U.e.toAtom(this._progress))},t.prototype.componentWillUnmount=function(){this._progressUpdate.unsubscribe()},t.prototype.render=function(){var e=this.props,t=e.isActive,n=e.lens,r=e.isDocumentEmpty,a=e.outcomeData;return i.createElement(yn,{id:this._id,title:this._title,isActive:t,isDisabled:l.Atom.combine(t,this._isEmpty,function(e,t){return t&&!e}),tooltip:a.description,tooltipAlignment:"left",onClick:this._onClick,status:l.Atom.combine(n,r.view(function(e){return e?Ze.IsDocumentEmpty:0}),a.stateMessage),progress:this._progress})},t}(kn),An=n("+wa7"),Tn=n("sN39"),xn=n("xm6m"),On=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.getSetGoalsIcon=function(e){return 0===e?i.createElement(ie.d.GoalsEmpty,a.__assign({key:"goals-empty"},Object(l.classes)(xn.actionIcon,xn.goalsCornerState))):100===e?i.createElement(ie.d.GoalsComplete,a.__assign({key:"goals-complete"},Object(l.classes)(xn.actionIcon,xn.goalsCornerState))):i.createElement(ie.d.GoalsPartial,{key:"goals-partial",className:xn.actionIcon,percentage:e})},t.prototype.render=function(){var e=this.props,t=e.documentModel,n=e.pageViewModel,r=e.setGoalsState,o=e.performanceState,s=e.successLensViewModel,c=t.contextCompleteness,u=this.context,d=u.textResources,p=u.gnarSpec,m=u.pageId;return i.createElement(l.F.header,a.__assign({key:"header"},Object(l.classes)(xn.headerWrapper)),i.createElement("div",{className:xn.firstDelimiter}),i.createElement(Q.a,{key:"actions-onboarding-performance",alignment:"bottomFlexible",eventType:"onclick",stepId:fn.a.Id.Step8,title:"Document statistics",message:"See how your writing stacks up against other Grammarly users.",findFirstButton:{dotPosition:"center",buttonOrder:0,notificationPosition:"underButton"},themes:{containerWrapperClassName:xn.performanceOnboardingContainer,notificationClassName:xn.goalsOnboardingNotification,triangleClassName:xn.goalsTriangleClassName}},i.createElement(re.a.SidebarFlat,{name:"performance",active:o,disabled:o,onClick:function(){o.set(!0),p.documentStatisticsButtonClick(m)}},i.createElement("div",{key:"performance-name"},d.denali.performance.title),i.createElement(Tn.a,{documentModel:t,successLensViewModel:s,sidebarOpen:n.stateHolder.sidebarOpen,successIcon:i.createElement(ie.d.CheckmarkAnimated,{key:"navigation-checkmark",width:22,className:xn.iconWrapper}),progressIcon:function(e){return i.createElement(hn.a,{key:"navigation-performance-progress",colorType:hn.a.ColorType.logan,iconSize:hn.a.IconSize.small,percentage:e,theme:{radialProgressBar:xn.iconWrapper}})},zeroIcon:i.createElement(ie.d.Performance,{key:"performance-empty-icon",className:xn.zeroIconWrapper})}))),i.createElement(Q.a,{key:"actions-onboarding-set-goals",alignment:"bottomFlexible",eventType:"onclick",stepId:fn.a.Id.Step1,title:"Set Goals",message:"Tell Grammarly about your writing goals to receive more precise suggestions.",findFirstButton:{dotPosition:"center",buttonOrder:0,notificationPosition:"underButton"},themes:{containerWrapperClassName:xn.goalsOnboardingContainer,notificationClassName:xn.goalsOnboardingNotification,triangleClassName:xn.goalsTriangleClassName}},i.createElement(re.a.SidebarFlat,{name:"set-goals",active:r,disabled:r,onClick:function(){r.set(!0),p.setGoalsButtonClick(m)}},c.view(function(e){return 0===e?"Set goals":"Update goals"}),c.view(this.getSetGoalsIcon))),i.createElement("div",{className:xn.secondDelimiter,key:"delimiter"}))},t}(d.a),Nn=n("l1Lu"),Ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t._completenessToGoalsNumber=function(e){return e/20},t.prototype.render=function(){var e=this.props,n=e.documentModel,r=e.pageViewModel,o=e.setGoalsState,s=e.performanceState,c=e.successLensViewModel,u=n.contextCompleteness,d=this.context,p=d.textResources,m=d.gnarSpec,f=d.pageId;return i.createElement(l.F.header,{key:"header",className:Nn.headerWrapper},i.createElement(Q.a,{key:"actions-onboarding-performance",alignment:"bottomFlexible",eventType:"onclick",stepId:fn.a.Id.Step8,title:"Document statistics",message:"See how your writing stacks up against other Grammarly users.",findFirstButton:{dotPosition:"center",buttonOrder:0,notificationPosition:"underButton"},themes:{containerWrapperClassName:Nn.performanceOnboardingContainer,notificationClassName:Nn.goalsOnboardingNotification,triangleClassName:Nn.goalsTriangleClassName}},i.createElement(vn,{name:"performance",title:p.denali.performance.title,isActive:s,isDisabled:s,onClick:function(){s.set(!0),m.documentStatisticsButtonClick(f)}},i.createElement(Tn.a,{documentModel:n,successLensViewModel:c,sidebarOpen:r.stateHolder.sidebarOpen,successIcon:i.createElement(ie.d.CheckmarkAnimated,{key:"navigation-checkmark",width:22,className:Nn.iconWrapper}),progressIcon:function(e){return i.createElement(hn.a,{key:"navigation-performance-progress",colorType:hn.a.ColorType.logan,iconSize:hn.a.IconSize.small,percentage:e,theme:{radialProgressBar:Nn.iconWrapper}})},zeroIcon:i.createElement(ie.d.Performance,{key:"performance-empty-icon",className:Nn.zeroIconWrapper})}))),i.createElement(Q.a,{key:"actions-onboarding-set-goals",alignment:"bottomFlexible",eventType:"onclick",stepId:fn.a.Id.Step1,title:"Set Goals",message:"Tell Grammarly about your writing goals to receive more precise suggestions.",findFirstButton:{dotPosition:"center",buttonOrder:0,notificationPosition:"underButton"},themes:{containerWrapperClassName:Nn.goalsOnboardingContainer,notificationClassName:Nn.goalsOnboardingNotification,triangleClassName:Nn.goalsTriangleClassName}},i.createElement(vn,{name:"set-goals",isActive:o,isDisabled:o,title:"Goals",className:Nn.setGoalsBtn,onClick:function(){o.set(!0),m.setGoalsButtonClick(f)}},i.createElement(ie.d.GoalsEmpty,a.__assign({key:"goals-empty"},Object(l.classes)(Nn.actionIcon,Nn.goalsCornerState))),i.createElement(ne.Small,{className:Nn.goalsSet},u.view(t._completenessToGoalsNumber).view(function(e){return 0===e?"No goals set":e+" of 5 set"})))),i.createElement("div",{className:Nn.secondDelimiter,key:"delimiter"}))},t}(On),In=n("lN2x"),Pn=n("W1E0"),Fn=n("iyic"),Dn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t}(Ve.a),Rn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stateToClassSidebarMapper=function(e,t){return!e||te.d.isForceSidebar(t)?{prev:{start:{},end:{}},next:{start:{},end:{}}}:te.d.isSidebarOpened(e)?{prev:{start:{base:Pn.navigationLeaveRightStart},end:{base:Pn.navigationLeaveRight}},next:{start:{},end:{}}}:{prev:{start:{},end:{}},next:{start:{base:Pn.navigationEnterLeftStart},end:{base:Pn.navigationEnterLeft}}}},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.pageViewModel,r=t.documentModel;return i.createElement("div",{className:In.navigationWrapper},i.createElement(Dn,a.__assign({key:"lensWrapper",state:n.stateHolder.state.distinctUntilChanged(function(e,t){return te.d.isSidebarOpened(e)===te.d.isSidebarOpened(t)}),stateToClassMapper:this._stateToClassSidebarMapper},Object(l.classes)(In.fullHeight,this.props.className)),function(t){var o=t.state,s=t.view;return te.d.isSidebarOpened(o)?i.createElement(l.F.div,a.__assign({key:"sidebar"},Object(l.classes)(s.map(function(e){return e.base}),n.stateHolder.sidebarOpen.view(function(e){return e?In.wrapper:In.narrowWrapper}))),r.checkingState.view(function(t){return"full"===t?null:e.props.features.denali.outcomesUI?e._renderOutcomesNavigation():e._renderNavigation()})):null}))},t.prototype._renderOutcomesNavigation=function(){var e=this.props,t=e.pageViewModel,n=e.sidebarViewModel,r=e.documentModel,a=e.features,o=e.setGoalsVisibilityState,s=e.performanceVisibilityState,c=e.successLensViewModel;return[i.createElement(Ln,{key:"navigation-header",pageViewModel:t,sidebarViewModel:n,documentModel:r,setGoalsState:o,performanceState:s,successLensViewModel:c}),i.createElement(Cn,{key:"navigation-lenses",pageViewModel:t,documentModel:r,sidebarViewModel:n,features:a})]},t.prototype._renderNavigation=function(){var e=this.props,t=e.pageViewModel,n=e.sidebarViewModel,r=e.documentModel,a=e.features,o=e.setGoalsVisibilityState,s=e.performanceVisibilityState,c=e.successLensViewModel;return[i.createElement(On,{key:"navigation-header",pageViewModel:t,sidebarViewModel:n,documentModel:r,setGoalsState:o,performanceState:s,successLensViewModel:c}),i.createElement(mn.a,{key:"navigation-lenses",pageViewModel:t,sidebarViewModel:n,features:a})]},t}(d.a);_n=Rn||(Rn={}),En=Fn,_n.Loader=function(e){var t=e.baseLoaderClass,n=e.state,r=e.showToolbar,o=e.features;return i.createElement(pn,{state:n.view("navigation"),theme:En},i.createElement(l.F.div,a.__assign({},Object(l.classes)(o.denali.revampedHeader?In.navigationLoaderWrapper:In.navigationLoaderWrapperWithPadding,t,r.view(function(e){return e&&In.navigationLoaderWithToolbar}))),i.createElement(l.F.div,{className:n.view("lens").view(function(e){return e.fold(function(){return In.fullHeightLoader},function(e){return e===J.a.Type.checkingOut?In.fullHeightLoaderNavigation:In.fullHeightLoader})})},i.createElement(l.F.div,{className:n.view("lens").view(function(e){return e.fold(function(){return In.loaderWrapperNoShadow},function(e){return e===J.a.Type.checkingOut?In.loaderWrapperNoShadow:In.loaderWrapper})})},i.createElement(An.b,{key:"rechecking"})))))};var Vn=n("gAIq"),Bn=n("rjEp"),jn=n("RfT4"),Hn=function(e){var t=e.className;return i.createElement("div",{className:t},i.createElement("svg",{viewBox:"0 0 64 64"},i.createElement("g",{clipPath:"url(#animationMask_ccPw7GWbMV)"},i.createElement("g",{clipPath:"url(#cp_gwBohdzz)",display:"block"},i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",stroke:"#A5ACC8",d:"M11 17h22M11 23h22M11 29h22M11 35h22M11 41h12",fill:"none",display:"block",strokeWidth:"2"})),i.createElement("path",{stroke:"#A6ADC9",strokeWidth:"2",d:"M52.022 18v22a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1V18a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1z",fill:"none",display:"block"})),i.createElement("defs",null,i.createElement("clipPath",{id:"animationMask_ccPw7GWbMV"},i.createElement("path",{d:"M0 0h64v64H0z"})),i.createElement("clipPath",{id:"cp_gwBohdzz"},i.createElement("path",{d:"M0 0h64v64H0z"})))))},Wn=n("x02P"),Un=n("xUiX"),zn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Object(I.invariant)(void 0!==n.hovered,"Hovered context of HideAssistant should be defined"),r}return a.__extends(t,e),t.prototype.render=function(){var e=this;return i.createElement(l.F.Fragment,null,this.context.hovered.map(function(t){return t?e.props.enableAnimation?i.createElement(Bn.a,{key:"animation-icon",className:Un.hideAssistantIcon,animation:Wn,mode:Bn.a.Mode.forwards}):i.createElement(Hn,{className:Un.hideAssistantIcon}):null}))},t.contextTypes=Vn.a.HoveredContextTypes,t}(i.Component),Gn=Object(d.f)(function(e,t){var n=e.pageViewModel,r=t.textResources.denali;return i.createElement(re.a.SidebarFlat,{name:"hide-assistant",className:Un.overviewBtn,onClick:function(){n.closeSidebar(),t.gnarSpec.assistantCloseButtonClick(t.pageId,n.stateHolder.state.get().currentLens.type)}},i.createElement("span",{key:"hide-assistant-text",className:Un.hideAssistantText},r.hideAssistant),i.createElement(zn,{enableAnimation:t.environment.has(p.b.Flag.supportsLottie)}))}),qn=Object(d.f)(function(e,t){var n=e.pageViewModel,r=t.textResources.denali;return i.createElement(re.a.SidebarFlat,{name:"hide-assistant",className:Un.overviewBtn,onClick:function(){n.closeSidebar(),t.gnarSpec.assistantCloseButtonClick(t.pageId,n.stateHolder.state.get().currentLens.type)}},i.createElement(ne.Small,{className:Un.hideAssistantOutcomeText},r.hideAssistant),i.createElement(zn,{enableAnimation:t.environment.has(p.b.Flag.supportsLottie)}))}),Kn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.pageViewModel,n=e.documentModel,r=e.sidebarViewModel,a=e.features,o=a.denali.outcomesUI?qn:Gn;return i.createElement(l.F.div,{className:Un.sidebarHeader},i.createElement("div",{"data-name":"toggler",key:"toggle-wrapper",className:Un.togglerWrapper},i.createElement(jn.a,{key:"new-toggler",pageViewModel:t,documentModel:n,sidebarViewModel:r,features:a})),t.stateHolder.sidebarOpen.map(function(e){return e?i.createElement(o,{key:"hide-assistant",pageViewModel:t}):null}))},t}(d.a),Yn=n("1d/y"),Zn=n("Jmy1");var Jn,Xn=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.stateIn=function(e){return n.props.pageViewModel.stateHolder.state.view(function(t){return t.currentLens.type===e})},n.stateMatch=(t=n.props.pageViewModel.stateHolder.sidebarOpen,function(e,n){return t.view(function(t){return t?e:n})}),n.trackingPlacement=function(){return n.props.pageViewModel.stateHolder.sidebarOpen.get()?"wiritingAssistant":"writingMode"},n.toProofit=function(e){(n.context.gnarSpec.professionalProofreadingButtonClick(n.context.pageId,n.trackingPlacement()),e)?Object(I.expectNonNull)(n.props.proofitViewModelOption.get(),"Proofit VM is not initialized").showOrderModal():(n._freemiumPlagiarism.set(!1),n._freemiumProofit.set(!0))},n.toPlagiarism=function(e){n.context.gnarSpec.plagiarismButtonClick(n.context.pageId,n.trackingPlacement()),e?n.props.pageViewModel.switchTo(te.f.plagiarism):(n._freemiumProofit.set(!1),n._freemiumPlagiarism.set(!0))},n.plagiarismActive=n.stateIn(te.f.plagiarism),n._freemiumPlagiarism=l.Atom.create(!1),n._freemiumProofit=l.Atom.create(!1),n._renderProofit=function(e){return i.createElement(re.a.SidebarFlat,{key:"proofit",name:"proofread",className:n.stateMatch(Zn.blockFull,Zn.blockTeaserBig),title:n.stateMatch("","Human Proofreading"),onClick:function(){return n.toProofit(e)}},i.createElement(l.F.div,{className:n.stateMatch("",Zn.hidden)},"Human",i.createElement("br",null),"Proofreader"),i.createElement(ie.d.Proofread,{className:Zn.actionIcon}))},n}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.features,r=t.plagiarismModel;return i.createElement(l.F.div,{className:this.stateMatch(Zn.documentActionsFull,Zn.documentActionsTeaser)},n.proofit.view(function(t){var n=t===Se.j.enabled;return e.props.proofitViewModelOption.nonEmpty()&&(n||t===Se.j.upgradeIsNeeded)&&e._renderProofit(n)}),n.plagiarism.view(function(t){return!(t===Se.j.disabled)&&i.createElement(re.a.SidebarFlat,{onClick:function(){return e.toPlagiarism(t===Se.j.enabled)},key:"plagiarism",name:"plagiarism",active:l.Atom.combine(e.plagiarismActive,e._freemiumPlagiarism,I.or),title:e.stateMatch("","Plagiarism Check"),className:e.stateMatch(Zn.blockFull,Zn.blockTeaser)},i.createElement(l.F.div,{className:e.stateMatch("",Zn.hidden)},"Plagiarism"),l.Atom.combine(e.plagiarismActive,r.checkingState.view("type"),function(t,n){return t&&"full"!==n?i.createElement(Ae.a.PlagiarismMeter,{key:"plagiarism-counter",className:Zn.actionIcon,isChecking:r.checkingState.view("type").view(function(e){return"checking"===e}),count:e.props.sidebarViewModel.getPersistentLens(P.a.SpecialId.Plagiarism).view("percentile")}):i.createElement(ie.d.Plagiarism,{className:Zn.actionIcon,key:"plagiarism-icon"})}))}),n.isFree.view(function(t){return t&&[i.createElement(Yn.a.Plagiarism,{key:"free-plagiarism",upgradeViewModel:e.props.upgradeViewModel,visible:e._freemiumPlagiarism}),i.createElement(Yn.a.ProfessionalProofreaders,{key:"free-proofit",upgradeViewModel:e.props.upgradeViewModel,visible:e._freemiumProofit})]}))},t}(d.a),Qn=n("MtqJ"),$n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isActive=l.Atom.combine(t.plagiarismActive,t._freemiumPlagiarism,I.or),t._plagiarismLens=t.props.sidebarViewModel.getPersistentLens(P.a.SpecialId.Plagiarism),t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.features,r=t.pageViewModel;return i.createElement(l.F.div,{className:this.stateMatch(Qn.documentActionsFull,Qn.documentActionsTeaser)},n.proofit.view(function(t){var n=t===Se.j.enabled;return e.props.proofitViewModelOption.nonEmpty()&&(n||t===Se.j.upgradeIsNeeded)&&i.createElement(vn,{key:"proofit",name:"proofread",tooltip:e.stateMatch("","Human Proofreading"),title:i.createElement(l.F.div,{className:e.stateMatch("",Qn.hidden)},"Send to",i.createElement("br",null),"proofreaders"),onClick:function(){return e.toProofit(n)},className:e.stateMatch("",Qn.blockTeaser)},i.createElement(ie.d.Proofread,{className:e.stateMatch(Qn.actionIconTeaser,Qn.actionIcon)}))}),n.plagiarism.view(function(t){if(t===Se.j.disabled)return null;var n=Xe(P.a.SpecialId.Plagiarism).stateMessage,o=t===Se.j.enabled;return i.createElement(vn,a.__assign({onClick:function(){return e._isActive.get()?r.switchToLens(P.a.SpecialId.AllAlerts,Ee.a.sidebar,"lensOrder"):e.toPlagiarism(o)},key:"plagiarism",name:"plagiarism",isActive:e._isActive,tooltip:e.stateMatch("","Plagiarism Check"),title:i.createElement(l.F.span,{className:e.stateMatch("",Qn.hidden)},"Plagiarism")},Object(l.classes)(yn.outcomeIdToButtonColor(P.a.SpecialId.Plagiarism),e.stateMatch(Qn.blockFull,Qn.blockTeaser))),r.stateHolder.sidebarOpen.view(function(t){return t?i.createElement(l.F.Fragment,{key:"plagiarism-button-content"},i.createElement(bn,{outcomeId:P.a.SpecialId.Plagiarism,progress:l.Atom.combine(e.props.plagiarismModel.plagiarismCheckedInSession,e._plagiarismLens.view("percentile"),function(e,t){return e?100-t:0}),isActive:e._isActive}),l.Atom.combine(e._plagiarismLens,e._isActive,e.props.plagiarismModel.plagiarismCheckedInSession,function(e,t,r){var a=0;return t&&(a|=Ze.IsLensActive),r&&(a|=Ze.IsLensVisited),i.createElement(ne.Small,{key:"originality-status",className:gn.outcomeStatus},n(e,o?a:0))})):i.createElement(ie.d.Plagiarism,{className:Qn.actionIcon,key:"plagiarism-icon"})}))}),n.isFree.view(function(t){return t&&[i.createElement(Yn.a.Plagiarism,{key:"free-plagiarism",upgradeViewModel:e.props.upgradeViewModel,visible:e._freemiumPlagiarism}),i.createElement(Yn.a.ProfessionalProofreaders,{key:"free-proofit",upgradeViewModel:e.props.upgradeViewModel,visible:e._freemiumProofit})]}))},t}(Xn),er=n("tpxX"),tr=n("n+Au"),nr=n("zwFA"),rr=n("PrZ+"),ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t}(Ve.a);!function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._subs=[],e._state=U.e.atomSwitchBy(function(e){var t=7;return t=31*(t=31*t+Object(s.hashCodeOfString)(e.currentLens.id))+(te.d.isInSuccess(e)?1231:1237)},e.props.denaliViewModels.stateHolder.state),e._renderOutcomes=function(t){var n=e.props,r=n.denaliViewModels,a=r.successLensViewModel,o=r.sidebarViewModel,s=r.cardsViewModel,c=r.marksViewModel,l=r.upgradeViewModel,u=r.alignmentViewModel,d=r.pageViewModel,p=r.cardsListScrollManager,m=n.plagiarismModel,f=n.features,h=n.scrollEl,g=t.state.get(),v={navigateToAllAlerts:function(){return d.switchToUnfocusedLens(P.a.SpecialId.AllAlerts,Ee.a.sidebar)}};switch(g.currentLens.type){case te.f.closed:return null;case te.f.plagiarism:return i.createElement(Dt.Provider,{key:"plagiarism-view",value:v},i.createElement(on,{"data-name":"plagiarism-view",transition:t.view,plagiarismModel:m,marksVM:c,cardsVM:s,state:t.state,alignmentVM:u,isMaster:"next"===t.type,onTransitionEnd:"prev"===t.type?t.done:I.noop,scrollEl:h,features:f.denali,cardsListScrollManager:p}));case te.f.advanced:return i.createElement(Dt.Provider,{key:"paidview",value:v},i.createElement(cn,{"data-name":"paidview",transition:t.view,upgradeViewModel:l,sidebarViewModel:o,features:f,scrollEl:h}));case te.f.lensview:var b=g.currentLens.meta,y="prev"===t.type?t.done:I.noop,_=te.d.isInSuccess(g),E=e.props.features.denali.superScroll?Wt:Ht;return i.createElement(Dt.Provider,{key:_?"success-view-"+b.id:b.id,value:v},_?i.createElement(A.Top,{key:"success-view",scrollEl:h},i.createElement(zt,{lens:b,scrollEl:h,transition:t.view,successLensViewModel:a,onTransitionEnd:y,features:f})):i.createElement(E,{"data-name":"lensview",transition:t.view,marksVM:c,cardsVM:s,state:t.state,alignmentVM:u,isMaster:"next"===t.type,onTransitionEnd:y,scrollEl:h,cardsListScrollManager:p}));default:return Object(I.assertNever)(g.currentLens)}},e._renderClassic=function(t){var n=e.props,r=n.denaliViewModels,a=r.successLensViewModel,o=r.sidebarViewModel,c=r.cardsViewModel,u=r.marksViewModel,d=r.upgradeViewModel,p=r.alignmentViewModel,m=r.cardsListScrollManager,f=n.plagiarismModel,h=n.features,g=h.denali.revampedHeader,v=t.state.get();switch(v.currentLens.type){case te.f.closed:return null;case te.f.plagiarism:var b=g?rn:Xt;return i.createElement(b,{key:"plagiarism-view","data-name":"plagiarism-view",transition:t.view,plagiarismModel:f,marksVM:u,cardsVM:c,state:t.state,alignmentVM:p,isMaster:"next"===t.type,onTransitionEnd:"prev"===t.type?t.done:I.noop,scrollEl:l.Atom.create(s.None),features:h.denali,cardsListScrollManager:m});case te.f.advanced:var y=g?Re:Pe;return i.createElement(y,{"data-name":"paidview",key:"paidview",transition:t.view,upgradeViewModel:d,sidebarViewModel:o,features:h,scrollEl:l.Atom.create(s.None)});case te.f.lensview:var _=v.currentLens.meta,E=g?dn:$e.a,w="prev"===t.type?t.done:I.noop;return te.d.isInGlobalSuccess(v)?i.createElement(Ke,{key:"success-view",transition:t.view,successLensViewModel:a,onTransitionEnd:w,features:h}):i.createElement(E,{key:_.id,"data-name":"lensview",transition:t.view,marksVM:u,cardsVM:c,state:t.state,alignmentVM:p,isMaster:"next"===t.type,onTransitionEnd:w,scrollEl:l.Atom.create(s.None),cardsListScrollManager:m});default:return Object(I.assertNever)(v.currentLens)}},e._renderModern=function(t){var n=e.props,r=n.denaliViewModels,a=r.successLensViewModel,o=r.sidebarViewModel,s=r.cardsViewModel,c=r.marksViewModel,l=r.upgradeViewModel,u=r.alignmentViewModel,d=r.cardsListScrollManager,p=n.plagiarismModel,m=n.features,f=n.scrollEl,h=t.state.get();switch(h.currentLens.type){case te.f.closed:return null;case te.f.plagiarism:return i.createElement(rn,{key:"plagiarism-view","data-name":"plagiarism-view",transition:t.view,plagiarismModel:p,state:t.state,marksVM:c,cardsVM:s,alignmentVM:u,isMaster:"next"===t.type,onTransitionEnd:"prev"===t.type?t.done:I.noop,scrollEl:f,features:m.denali,cardsListScrollManager:d});case te.f.advanced:return i.createElement(Re,{"data-name":"paidview",key:"paidview",transition:t.view,upgradeViewModel:l,sidebarViewModel:o,features:m,scrollEl:f});case te.f.lensview:var g="prev"===t.type?t.done:I.noop;return te.d.isInGlobalSuccess(h)?i.createElement(A.Top,{key:"success-view",scrollEl:f},i.createElement(Ke,{key:"success-view",transition:t.view,successLensViewModel:a,onTransitionEnd:g,features:m})):i.createElement(It,{key:h.currentLens.id,"data-name":"lensview",transition:t.view,marksVM:c,cardsVM:s,alignmentVM:u,isMaster:"next"===t.type,onTransitionEnd:g,state:t.state,scrollEl:f,cardsListScrollManager:d});default:return Object(I.assertNever)(h.currentLens)}},e}return a.__extends(n,t),n.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},n.prototype.render=function(){var t=this;return Object(nr.a)(!this.context.environment.has(p.b.Flag.supportsLottie)),i.createElement(ar,a.__assign({key:"animationWrapper"},Object(l.classes)(this.props.documentModel.checkingState.view(function(e){return"full"===e&&"lensview"===t.state?Pn.fadedWrapperModern:Pn.wrapperModern})),{state:this._state,stateToClassMapper:e.stateToClassMapper}),this.props.features.denali.outcomesUI?this._renderOutcomes:this.props.features.denali.superScroll?this._renderModern:this._renderClassic)},n}(d.a);e.TheView=t;var n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return i.createElement("div",{"data-name":"navigation-view",className:Pn.navigationWraperTier},i.createElement(e.LensNavigationView,a.__assign({},this.props)),i.createElement(e.ActionsView,a.__assign({},this.props)))},n}(d.a);e.NavigationView=n,e.TheViewPlaceholder=function(){return i.createElement("div",{className:Pn.wrapperModern})},e.Grid=function(e){var t=e.className,n=e.opened,r=e.name,o=e.children;return i.createElement(l.F.div,a.__assign({key:"sidebar-tier","data-name":"sidebar-tier"},Object(l.classes)(Pn.sidebarTier,n.view(function(e){return!e&&Pn.hiddenWrapper}),t)),i.createElement("div",{key:"sidebar-wrapper","data-name":r,className:Pn.sidebarWrapper},o))};var r=[te.f.closed,te.f.lensview,te.f.advanced,te.f.plagiarism],o=function(e){return function(t){return[t,e].join(" ")}},c=function(e){return te.d.isLensview(e)&&!te.d.isInSuccess(e)||e.currentLens.type===te.f.advanced};e.stateToClassMapper=function(e,t){var n=void 0!==e&&e.get(),a=t.get();if(n&&te.d.isSidebarOpened(n)){if(te.d.isSidebarOpened(a)){if(a.alertSource===te.c.forceSidebar||a.alertSource===te.c.forceText)return{prev:{start:{base:Pn.lensHideStart},end:{base:Pn.lensHide}},next:{start:{},end:{}}};if(c(a)&&c(n)){var i="textOrder"===a.switchOrder?Pn.lensMoveUp:P.a.comparator(n.currentLens.meta,a.currentLens.meta)>0?Pn.lensMoveDown:Pn.lensMoveUp;return{prev:{start:{base:(s=o(i))(Pn.lensLeaveStart),title:s(Pn.lensLeaveStartTitle),revampedTitle:Pn.lensLeaveStartTitle,content:s(Pn.lensLeaveStartContent),allAlertsButton:Pn.allAlertsVisible},end:{base:s(Pn.lensLeave),title:s(Pn.lensLeaveTitle),revampedTitle:Pn.lensLeaveTitle,content:s(Pn.lensLeaveContent),allAlertsButton:Pn.allAlertsHidden}},next:{start:{base:s(Pn.lensEnterStart),title:s(Pn.lensEnterStartTitle),revampedTitle:Pn.lensEnterStartTitle,content:s(Pn.lensEnterStartContent),allAlertsButton:Pn.allAlertsHidden},end:{base:s(Pn.lensEnter),title:s(Pn.lensEnterTitle),revampedTitle:Pn.lensEnterTitle,content:s(Pn.lensEnterContent),allAlertsButton:Pn.allAlertsVisible}}}}var s,l=(i=r.indexOf(n.currentLens.type)-r.indexOf(a.currentLens.type))>0||te.d.isInSuccess(a)?Pn.up:Pn.down;return{prev:{start:{base:(s=o(l))(Pn.stateLeaveStart),revampedTitle:Pn.lensLeaveStartTitle},end:{base:s(Pn.stateLeave),revampedTitle:Pn.lensLeaveTitle}},next:{start:{base:s(Pn.stateEnterStart),revampedTitle:Pn.lensEnterStartTitle},end:{base:s(Pn.stateEnter),revampedTitle:Pn.lensEnterTitle}}}}return{prev:{start:{base:Pn.sidebarLeaveRightStart},end:{base:Pn.sidebarLeaveRight,revampedTitle:Pn.revampedTitleLeaveRight}},next:{start:{},end:{}}}}return{prev:{start:{},end:{}},next:{start:{base:Pn.sidebarEnterLeftStart,revampedTitle:Pn.revampedTitleEnterLeftStart},end:{base:Pn.sidebarEnterLeft,revampedTitle:Pn.revampedTitleEnterLeft}}}},e.Loader=function(t){var n=t.state,r=t.baseLoaderClass,o=t.showToolbar,s=t.features;return i.createElement(e.Grid,{name:"sidebar-loader",opened:l.Atom.create(!0)},i.createElement(pn,{state:n.view("lens"),theme:rr},i.createElement(l.F.div,a.__assign({},Object(l.classes)(Pn.loaderWrapper,r)),i.createElement($e.a.Rechecking,{features:s,"data-name":"lensviewRechecking",key:"lensview-rechecking"}))),i.createElement(Rn.Loader,{key:"navigation-rechecking",baseLoaderClass:r,state:n,showToolbar:o,features:s}))},e.ActionsView=function(e){var t=e.denaliViewModels,n=t.pageViewModel,r=t.sidebarViewModel,o=t.upgradeViewModel,s=t.proofitViewModelOption,c=e.documentModel,l=e.plagiarismModel,u=e.features,d=e.settingsModel,p=e.JSXPortal,m={pageViewModel:n,plagiarismModel:l,proofitViewModelOption:s,sidebarViewModel:r,features:u,upgradeViewModel:o,settingsModel:d};return i.createElement("div",{className:Pn.actionsWrapper},i.createElement(Kn,{pageViewModel:n,sidebarViewModel:r,documentModel:c,features:u}),u.denali.outcomesUI?i.createElement($n,a.__assign({},m)):i.createElement(Xn,a.__assign({},m)),s.map(function(e){return i.createElement(p,null,i.createElement(Ue,{proofit:e}))}).orNull())},e.LensNavigationView=function(e){var t=e.denaliViewModels,n=t.successLensViewModel,r=t.sidebarViewModel,a=t.pageViewModel,o=t.reportViewModel,s=t.upgradeViewModel,c=e.documentModel,u=e.features,d=e.settingsModel,p=e.setGoalsVisibilityState,m=e.JSXPortal,f=l.Atom.create(!1);return i.createElement(i.Fragment,null,i.createElement(Rn,{key:"navigation",pageViewModel:a,sidebarViewModel:r,successLensViewModel:n,features:u,documentModel:c,setGoalsVisibilityState:J.a.SetGoalsVisibilitySource.toVisible(p,"user"),performanceVisibilityState:f}),i.createElement(m,null,i.createElement(er.a,{features:u,documentModel:c,visible:p,key:"set-goals-modal",upgradeViewModel:s,settingsModel:d}),i.createElement(tr.b,{documentModel:c,successLensViewModel:n,visible:f,reportViewModel:o,key:"performance-modal"})))}}(Jn||(Jn={}));var ir,or,sr,cr=n("vu24");or=ir||(ir={}),sr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype._renderAssistantLoader=function(){var e=this.props,t=e.state,n=e.userAccount;return i.createElement(Jn.Loader,{key:"sidebar-loader",state:t,baseLoaderClass:cr.baseLoaderClass,showToolbar:t.view("text").view(function(e){return e.isEmpty()}),features:n.features})},t.prototype.render=function(){var e=this,t=this.props,n=t.state,r=t.className,o=t.userAccount,s=this.context.documentLoader.portal;return i.createElement(l.F.Fragment,null,n.view("text").view(function(t){return t.fold(function(){return i.createElement(s.Source,{mountHereWhileNotReady:!0},i.createElement("div",{className:r},i.createElement("div",a.__assign({key:"editor"},Object(l.classes)(cr.invisibleSecondTier,cr.baseLoaderClass)),i.createElement(be,{position:"top"})),e._renderAssistantLoader()))},function(t){return i.createElement("div",{key:"with-text-loader",className:r},i.createElement("div",a.__assign({key:"editor"},Object(l.classes)(cr.secondTier,cr.baseLoaderClass)),!o.features.denali.hideToolbar&&i.createElement(fe,{type:t,features:o.features,logout:o.logout}),i.createElement(be,{position:"top"},i.createElement("div",{className:cr.textLoaderWrap},i.createElement(_e.b,null)))),e._renderAssistantLoader())})}))},t}(d.a),or.Loader=sr;var lr,ur,dr,pr=n("WhHs"),mr=n("cERz"),fr=n("XGpl"),hr=n("Fgeo"),gr=n("ttzm"),vr=function(e,t,n){var r=n.denali.footer;switch(t){case hr.b.wordsCount:return e[t].toLocaleString()+" "+I.StringUtils.pluralize(e[t],r.word,r.words);case hr.b.charsCount:return e[t].toLocaleString()+" "+I.StringUtils.pluralize(e[t],r.character,r.characters);case hr.b.readingTime:return I.DateUtils.convertTimeToShortString(e[t])+" "+r.readingTime;case hr.b.speakingTime:return I.DateUtils.convertTimeToShortString(e[t])+" "+r.speakingTime;case hr.b.readabilityScore:return e[t].fold(function(){return r.disabledReadabilityScore},function(e){return e+" "+r.readabilityScore});default:return Object(I.assertNever)(t)}},br=function(e,t){return t===hr.b.readabilityScore&&e[t].isEmpty()},yr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentWillUnmount=function(){this.props.footerElement.set(s.None)},t.prototype.render=function(){var e=this,n=this.props,r=n.stateHolder,o=n.className,c=n.documentModel,u=n.settingsModel;return i.createElement(l.F.div,a.__assign({},Object(l.classes)(r.sidebarOpen.view(Object(I.choose)(gr.footerSqueezedRevamped,gr.footerWrapper)),o),{mount:function(t){return e.props.footerElement.set(s.Option.of(t))}}),i.createElement(ye,null,i.createElement("div",{className:gr.contentWrapperRevamped},i.createElement(t.Content,{documentModel:c,settingsModel:u,theme:{footerContainer:gr.footerContainerRevamped}}))))},t}(d.a);lr=yr||(yr={}),ur=Object(d.f)(function(e,t){var n=e.counters,r=e.currentCounter,a=t.textResources;return i.createElement(l.F.div,null,n.combineLatest(r).map(function(e){var t=e[0],n=e[1];return t.map(function(e){return i.createElement(i.Fragment,null,i.createElement("div",{className:gr.footerLabel},vr(e,n,a)),i.createElement(ie.d.TriangleArrow,{className:gr.footerArrow}))}).orNull()}))}),dr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._counters=l.Atom.create(s.None),t._currentCounter=t.props.settingsModel.footerCounterType,t._setCounter=function(e){return t.props.settingsModel.updateFooterCounterType(e)},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this._subs.push(this.props.documentModel.checkingState.filter(function(e){return"idle"===e}).first().switchMapTo(this.props.documentModel.score).combineLatest(this.props.documentModel.textInfo).subscribe(function(t){var n=t[0],r=t[1];return e._counters.set(r.map(function(e){return a.__assign({},e,{readabilityScore:n.map(function(){return e.readabilityScore})})}))}))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){var e=this,t=this.props.theme,n=void 0===t?gr:t;return i.createElement("div",{className:n.footerContainer},i.createElement(oe.a,{name:"footer-stats",customPosition:{top:"-10rem",left:"-2.6rem"},showDelay:300,theme:gr,label:i.createElement(ur,{counters:this._counters,currentCounter:this._currentCounter})},this._counters.view(function(t){return t.map(function(t){return Object.keys(t).map(function(n){return i.createElement(re.a.Flat,{key:n,name:n,className:gr.listItem,disabled:br(t,n),onClick:function(){return e._setCounter(n)}},!br(t,n)&&e._currentCounter.view(function(e){return e===n?i.createElement(ie.d.Helpfull,{key:"helpfull-icon"}):null}),vr(t,n,e.context.textResources))})}).orNull()})))},t}(d.a),lr.Content=dr;var _r,Er=n("3sgk"),wr=3.45;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._footerEl=l.Atom.create(s.None),t._subs=new p.e.Keeper,t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this._subs.push(this._footerEl.combineLatest(this.context).subscribe(function(t){var n=t[0];e.props.viewportPadding.set({top:e._titleEl.offsetHeight,bottom:n.fold(function(){return 0},function(e){return e.offsetHeight})})}))},t.prototype.componentWillUnmount=function(){this._subs.cleanAll()},t.prototype.render=function(){var e=this,t=this.props,r=t.denaliEditor,a=t.documentModel,o=t.pageViewModel,s=t.settingsModel,c=t.features;return i.createElement(l.F.div,{className:Er.toolbarWrapperTier},i.createElement(n,{key:"toolbar-title",isOpened:o.stateHolder.sidebarOpen,className:ve.overlayClickableEl,denaliEditor:r,pageViewModel:o,features:c,documentModel:a,remSize:this.context,onMount:function(t){return e._titleEl=t}}),i.createElement(l.F.div,{className:Er.toolbarContainerModern},s.editorPreferences.view("showWordCount").view(function(t){return t?i.createElement(yr,{key:"toolbar-footer",className:ve.overlayClickableEl,footerElement:e._footerEl,denaliEditor:r,documentModel:a,pageViewModel:o,settingsModel:s,stateHolder:o.stateHolder}):null})))},t.contextType=g.a.Context,t}(i.Component);e.Component=t;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._title=t.props.documentModel.title.view(function(e){return e||"Untitled"}),t._isTitleVisible=t.props.denaliEditor.scrollPosition.combineLatest(t.props.remSize).map(function(e){return e[0]>e[1]*wr}).startWith(!1).distinctUntilChanged(),t._onTitleClick=function(){t.context.gnarSpec.newTitleButtonClick(t.context.pageId),t.props.denaliEditor.scrollToTitle()},t._onMount=function(e){return e&&t.props.onMount(e)},t}return a.__extends(t,e),t.prototype._renderClassic=function(){return i.createElement(l.F.h3,{"data-name":"toolbar-title",className:this._isTitleVisible.map(function(e){return e?Er.toolbarTitle:Er.toolbarTitleHidden}),onClick:this._onTitleClick},this._title)},t.prototype._renderRevamped=function(){var e=this,t=this.props,n=t.isOpened,r=t.documentModel,o=t.className,s=function(t,n){return e._isTitleVisible.map(function(e){return e?t:n})};return i.createElement(l.F.div,a.__assign({},Object(l.classes)(n.view(function(e){return e?Er.headerWrapperSqueezedModern:Er.headerWrapperModern}),o)),i.createElement("div",{className:Er.headerContainerModern},i.createElement("span",{className:Er.titleWrapper},i.createElement(l.F.h3,a.__assign({"data-name":"toolbar-title"},Object(l.classes)(this._isTitleVisible.map(function(e){return e?Er.headerTitle:Er.headerTitleHidden}),n.view(function(e){return!e&&Er.headerTitleFull})),{onClick:this._onTitleClick}),this._title),i.createElement(l.F.span,{className:s(Er.savedContainer,Er.savedContainerHidden)},i.createElement(ue,{className:Er.savedIndicator,isSaved:r.saved})),i.createElement(l.F.span,{className:s(Er.savedContainerAbsoluteHidden,Er.savedContainerAbsolute)},i.createElement(ue,{className:Er.savedIndicator,isSaved:r.saved})))))},t.prototype.render=function(){var e=this,t=this.props.className;return i.createElement(i.Fragment,null,i.createElement("div",a.__assign({},Object(l.classes)(Er.toolbarTitleContainerModern,t),{ref:function(t){return t&&e._onMount(t)}})),i.createElement("div",{className:Er.absoluteWrapper},i.createElement(ye,null,this.props.features.denali.revampedHeader||this.props.features.denali.superScroll?this._renderRevamped():this._renderClassic())))},t}(d.a)}(_r||(_r={}));var Cr,kr,Sr=n("7nmT"),Mr=n("HeG+"),Ar=function(e){var t=e.word,n=e.apply;return i.createElement(re.a.Primary,{name:"accept-synonym",className:Mr.item,onClick:n(t)},t)},Tr=function(e){var t=e.synonyms,n=e.apply;return i.createElement("div",{className:Mr.row},t.map(function(e,t){return i.createElement(Ar,a.__assign({},{word:e,key:t,apply:n}))}))},xr=function(e){var t=e.result.synonymsOrGroups,n=e.apply;return i.createElement(l.F.div,{className:Mr.wrapper},i.createElement(ne.Base,{className:Mr.title},"Synonyms"),t.fold(function(e){return i.createElement(Tr,a.__assign({key:"single"},{synonyms:e,apply:n}))},function(e){return i.createElement("ol",{className:Mr.list},e.map(function(e,t){var r=e.meaning,o=e.words;return i.createElement(ne.Typography,{key:t,styleType:ne.Typography.Type.Base,nodeType:"li",className:Mr.group},i.createElement(ne.Base,{className:Mr.groupTitle},r),i.createElement(Tr,a.__assign({key:"single"},{synonyms:o,apply:n})))}))}))},Or=function(e){var t=e.activeWord;return i.createElement("div",{className:Mr.emptyResultWrapper},"No synonyms for ",i.createElement("span",{className:Mr.activeWord},t)," found")},Nr=150,Lr=70,Ir=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onClickSubscription=null,t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=Sr.findDOMNode(this);this._onClickSubscription=o.Observable.fromEvent(window,"click").subscribe(function(n){t&&t!==n.target&&!I.DOM.isParent(t,n.target)&&e.props.shouldHide(n.target)&&e.props.hide()})},t.prototype.componentWillUnmount=function(){null!==this._onClickSubscription&&this._onClickSubscription.unsubscribe()},t.prototype.render=function(){return i.Children.only(this.props.children)},t}(i.Component),Pr=32,Fr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=u.Monitoring.Logging.getLogger("SynonymsPopup"),t._getRect=function(){return t.props.synonymsInfo.activeMark.rect.map(function(e){return e.fst})},t._getAbsRect=function(){return t.props.synonymsInfo.activeMark.viewportRect.map(function(e){return e.fst})},t._state=l.Atom.create(t._getRect().map(function(e){return{top:e.bottom,left:0}}).toOption()),t._getPosition=function(e){var n=e[0],r=e[1];return t._el?s.Try.map2(t._getAbsRect(),t._getRect(),function(e,a){var i=t._el.getBoundingClientRect(),o=i.width,c=i.height,l=r<a.bottom+c+Pr&&c<a.top+Nr,u=l?a.top-c:a.bottom,d=e.left+o,p=d<n.right?0:d-n.right+Pr;return{card:{top:u,left:a.left-p},markOffset:(l?e.top-n.top-c:n.bottom-e.bottom-c)<Lr?Object(s.Some)(l?Math.min(n.top+c+Lr,n.bottom-a.height):Math.max(n.bottom-c-Lr,a.height+Lr)):s.None}}).recover(function(e){throw t._log.info("Cannot get synonym popup position",e),e}).toOption():s.None},t._sub=null,t._rendered=!1,t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.synonyms,r=t.synonymsInfo,a=t.editorHeight;this._sub=this.context.map(function(e){return e.rect}).combineLatest(a).map(this._getPosition).subscribe(function(t){e._rendered||(e._rendered=!0,t.flatMap(function(e){return e.markOffset}).forEach(function(t){n.ded.scrollToMark(r.activeMark,{paddingTop:t,animate:pr.AnimateMode.fast}).subscribe({error:function(t){return e._log.error("Cannot scroll to synonym",t)}})})),e._state.set(t.map(function(e){return e.card}))})},t.prototype.componentWillUnmount=function(){this._sub&&(this._sub.unsubscribe(),this._sub=null)},t.prototype.render=function(){var e=this,t=this.props,n=t.synonyms,r=t.synonymsInfo;return i.createElement(l.F.div,{mount:function(t){return e._el=t},key:"synonymsPopupWrapper",style:this._state.view(function(e){return e.getOrElse({visibility:"hidden",pointerEvents:"none"})}),className:Mr.synonymsPopupWrapper},i.createElement(Ir,{hide:function(){return n.hidePopup()},shouldHide:n.shouldHide},L.a.isEmpty(r.synonymsState)?i.createElement(Or,{activeWord:r.activeWord.value}):i.createElement(xr,{key:"synonymsCard",apply:function(e){return function(){return n.apply(e)}},result:r.synonymsState.synonyms})))},t.contextType=mr.a.Context,t}(i.Component),Dr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=u.Monitoring.Logging.getLogger("SynonymIconWrapper"),t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.mark,n=e.className,r=e.children;return i.createElement(l.F.div,{className:n,style:this.context.map(function(e){return e.rect}).map(this._log.handler("Update tooltip position").debug).map(function(){return t.rect.map(function(e){return e.fst})}).map(function(e){return e.map(function(e){return U.d.translate(e.left+e.width,e.top)}).getOrElse({visibility:"hidden"})})},r)},t.contextType=mr.a.Context,t}(i.Component),Rr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=u.Monitoring.Logging.getLogger("SynonymsView"),t}return a.__extends(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.renderLoader=function(e){return o.Observable.of(i.createElement(Dr,{className:Mr.iconWrapper,mark:e.activeMark},i.createElement(ie.d.SynonymLoader,{className:Mr.loader}))).delay(1e3).startWith(null)},t.prototype.renderPopup=function(e){return o.Observable.of(i.createElement(Fr,{synonyms:this.props.synonyms,synonymsInfo:e,editorHeight:this.props.editorHeight}))},t.prototype.render=function(){var e=this,t=this.props.synonyms,n=t.viewState.view(function(e){return e.map(function(e){return e.popupVisible}).getOrElse(!1)});return i.createElement(l.F.div,{className:Mr.contentWrapper},t.viewState.do(function(t){return e._log.debug("Synonym state changed",t.fold(function(){return null},function(e){return{kind:e.synonymsState.kind,popupVisible:e.popupVisible}}))}).switchMap(function(t){return t.map(function(t){return L.a.isQuerying(t.synonymsState)?e.renderLoader(t):n.switchMap(function(n){return n?e.renderPopup(t):o.Observable.of(null)})}).getOrElse(o.Observable.of(null))}))},t}(i.Component);!function(e){var t;(Cr||(Cr={})).withSelectOnScroll=function(e,t){return function(o){function s(){var e=null!==o&&o.apply(this,arguments)||this;return e._subs=[],e._onMount=function(t){e._cleanup(),e._init(t),e.props.onMount&&e.props.onMount(t)},e._init=function(a){e._subs.push(r(a,{base:40,padding:15},n(10,20),t.viewportPadding,t.onScrollOnSelect,t.validateMousedown))},e._cleanup=function(){e._subs.forEach(function(e){return e.unsubscribe()}),e._subs=[]},e}return a.__extends(s,o),s.prototype.componentWillUnmount=function(){this._cleanup()},s.prototype.render=function(){return i.createElement(e,a.__assign({},this.props,{onMount:this._onMount}))},s}(i.Component)},function(e){e.above="above",e.below="below",e.in="in"}(t||(t={}));var n=function(e,t,n){return void 0===n&&(n=1),function(r){return Math.max(n,Math.min(r/e,t))}},r=function(e,n,r,a,i,s){void 0===a&&(a=l.Atom.create({top:0,bottom:0})),void 0===s&&(s=function(){return!0});var c=function(e,t,a,i){var s="up"===i?-1:1;return o.Observable.timer(0,50).withLatestFrom(o.Observable.fromEvent(document,"mousemove",{passive:!0}).throttleTime(100).map(function(t){return{speed:r("up"===i?e.top-t.clientY:t.clientY-e.bottom),mouseX:t.clientX,mouseY:t.clientY}}).startWith({speed:1,mouseX:t,mouseY:a})).map(function(e){e[0];var t=e[1],r=t.speed,a=t.mouseX,i=t.mouseY;return{offset:s*n.base*r,mouseX:a,mouseY:i}})},u=o.Observable.merge(o.Observable.fromEvent(e,"mousedown",{passive:!0}).filter(function(e){return 1===e.which||0===e.button}).filter(function(e){return e.target instanceof Element&&s(e.target)}).mapTo(!0),o.Observable.fromEvent(document,"mouseup",{passive:!0}).mapTo(!1),o.Observable.fromEvent(document,"dragend",{passive:!0}).mapTo(!1),o.Observable.fromEvent(document,"click",{passive:!0}).mapTo(!1));return u.withLatestFrom(a).switchMap(function(r){var a=r[0],i=r[1];if(a){var s=e.getBoundingClientRect(),c={top:s.top+n.padding+i.top,bottom:s.bottom-n.padding-i.bottom};return o.Observable.fromEvent(document,"mousemove",{passive:!0}).map(function(e){return e.clientY<c.top?{rect:c,mouseX:e.clientX,mouseY:e.clientY,position:t.above}:e.clientY>c.bottom?{rect:c,mouseX:e.clientX,mouseY:e.clientY,position:t.below}:{rect:c,mouseX:e.clientX,mouseY:e.clientY,position:t.in}})}return o.Observable.of({position:t.in})}).distinctUntilChanged(function(e,t){return e.position===t.position}).switchMap(function(e){switch(e.position){case t.above:return c(e.rect,e.mouseX,e.mouseY,"up");case t.below:return c(e.rect,e.mouseX,e.mouseY,"down");case t.in:return o.Observable.empty();default:return Object(I.assertNever)(e)}}).subscribe(function(t){var n=t.offset,r=t.mouseX,a=t.mouseY;e.scrollTop+=n,i(r,a)}).add(u.switchMap(U.e.orEmpty(o.Observable.fromEvent(document,"wheel",{passive:!0}))).auditTime(200).subscribe(function(e){return i(e.clientX,e.clientY)}))}}(),function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onScroll=new o.Subject,t._editorHeight=l.Atom.create(0),t}return a.__extends(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){var e=this.props,t=e.denaliEditor,n=e.documentModel,r=e.pageViewModel,a=e.viewportPadding,o=e.children,c=this.context.environment.has(p.b.Flag.selectAndScroll)?Cr.withSelectOnScroll(Me.b,{viewportPadding:a,onScrollOnSelect:this.props.denaliEditor.extendSelectionTo,validateMousedown:t.containsElement}):Me.b,d=mr.a.withViewportContainer(u(c,{pageViewModel:r}),{type:mr.a.ContainerType.inherit}),m=l.Atom.create(s.None);return i.createElement(d,{name:"text",key:"denaliEditorWrapper",className:ve.scrollWrap,update:t.contentUpdated.auditTime(1e3).merge(r.stateHolder.sidebarOpen.skip(1).mapTo(U.e.voidValue)),onScroll:this.onScroll,allowHover:!0,onMount:function(e){return m.set(Object(s.Some)(e))}},i.createElement(v.b,{denaliEditor:t,title:n.title,theme:ve,scrollEl:m,editorHeight:this._editorHeight},o(this.onScroll,this._editorHeight)))},t}(d.a);e.Classic=t;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._editorHeight=l.Atom.create(0),t}return a.__extends(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){var e=this.props,t=e.denaliEditor,n=e.documentModel,r=e.pageViewModel,a=e.children,s=e.scrollEl,l=mr.a.withViewportContainer(u(c,{pageViewModel:r}),{type:mr.a.ContainerType.inherit});return i.createElement(l,{name:"editorComponent",className:ve.scrollWrapFixed},i.createElement(v.b,{denaliEditor:t,title:n.title,theme:ve,scrollEl:s,editorHeight:this._editorHeight},a(new o.Subject,this._editorHeight)))},t}(d.a);e.Modern=n;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.pageViewModel,n=e.children,r=u(c,{pageViewModel:t});return i.createElement(r,{name:"editorComponent",className:ve.scrollWrapFixed},i.createElement(i.Fragment,null,i.createElement(ye,null,i.createElement("div",{className:ve.textContent})),n))},t}(i.Component);e.Placeholder=r;var c=function(e){var t=e.className,n=e.onMount,r=e.children,a=e.name;return i.createElement(l.F.div,{"data-name":a,name:"text",key:"denaliEditorWrapper",className:t,mount:n},r)};function u(e,t){return function(n){function r(){var e=null!==n&&n.apply(this,arguments)||this;return e._textTransition=t.pageViewModel.stateHolder.sidebarOpen.skip(1).switchMap(function(e){return I.Animation.rafSequence(e?[ve.toWritingStart,ve.toWritingStart,ve.toWritingEnd]:[ve.toEditingStart,ve.toEditingStart,ve.toEditingEnd],!0)}).startWith(void 0),e}return a.__extends(r,n),r.prototype.shouldComponentUpdate=function(){return!1},r.prototype.render=function(){var n=this.props.className;return i.createElement(e,a.__assign({},this.props,Object(l.classes)(n,t.pageViewModel.stateHolder.sidebarOpen.view(Object(I.choose)(ve.editorComponentWrapperSqueezed,ve.editorComponentWrapper)),ve.container,this._textTransition)))},r}(i.Component)}}(kr||(kr={}));var Vr=n("UbFC"),Br=n("JMYL"),jr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentText=l.Atom.create({brief:"",detailed:""}),t._sendFeedback=function(){var e=t.context,n=e.gnarSpec,r=e.pageId,a=e.notifications,i=t._currentText.get(),o=i.brief,s=i.detailed;return n.feedbackFormSubmit(o,s,r).then(function(){t.props.visible.set(!1),t._currentText.set({brief:"",detailed:""}),a.showMessage("Your feedback has been sent. Thank you!")})},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props.visible;return i.createElement(Z.b,{visible:e,preventClose:!0,animate:!0},i.createElement(Z.a,{className:Br.wrapper},i.createElement(Z.a.Header,{className:Br.feedbackPopupHeader},i.createElement(ne.H1,{className:Br.header},"Send Product Feedback"),i.createElement(ne.P1,{className:Br.description},"Tell us what you think. We promise to act on your feedback to make Grammarly even more awesome."),i.createElement(Vr.a,{autofocus:!0,value:this._currentText.lens("brief"),placeholder:"Brief description",className:Br.briefDescriptionInput}),i.createElement(Vr.b,{placeholder:"Type your feedback",className:Br.feedbackInput,value:this._currentText.lens("detailed")}),i.createElement(ne.Base,null,"If you have a support or billing-related request, please go to"," ",i.createElement("a",{href:this.context.appConfig.support.mainPage,target:"_blank",className:Br.helpdesk},"Grammarly Helpdesk"))),i.createElement(Z.a.Footer,{className:Br.feedbackPopupFooter},i.createElement(re.a.Ghost,{name:"cancel",onClick:function(){return e.set(!1)}},"cancel"),i.createElement(re.a.Primary,{name:"send",disabled:this._currentText.view(function(e){return""===e.brief||""===e.detailed}),onClick:this._sendFeedback},"send"))))},t}(d.a),Hr=n("cQVk"),Wr=n("gPtD"),Ur=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._close=function(){return t.props.visible.set(!1)},t}return a.__extends(t,e),t.prototype.render=function(){return i.createElement(Z.b,{visible:this.props.visible,preventClose:!1,animate:!0},i.createElement(zr,{denaliSettings:this.props.denaliSettings,close:this._close,visible:this.props.visible,features:this.props.features}))},t}(d.a),zr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._preferencesModel=t.props.denaliSettings.editorPreferences,t._newPreferences=l.Atom.create(t.props.denaliSettings.editorPreferences.get()),t._autoScrollToNextAlert=t._newPreferences.lens("autoScrollToNextAlert").lens(U.b.unwrapOption(!t.props.features.autoJumpSettings.isDisabledByDefault)),t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.context.gnarSpec.preferencesPopupShow(this.context.pageId)},t.prototype.componentWillUnmount=function(){var e=this._newPreferences.get();!hr.e.equals(this._preferencesModel.get(),e)&&(this.props.denaliSettings.updateEditorPreferences(e),this.context.gnarSpec.preferencesFormSuccess(this._autoScrollToNextAlert.get(),e.fontSize,this.context.pageId,e.showWordCount))},t.prototype.render=function(){var e=this.props,t=e.features,n=e.close;return i.createElement(Z.a,{className:Wr.preferencesPopupWrapper},i.createElement(Z.a.Header,{className:Wr.popupHeader},i.createElement(ne.H1,null,"Preferences")),i.createElement(Z.a.Body,{name:"preferencesBody",className:Wr.popupBody},i.createElement(Gr,{value:this._autoScrollToNextAlert,id:"autoScrollSwitcher",title:t.autoJumpSettings.title,description:this.context.textResources.denali.preferences.autoJumpToNextAlertDescription}),i.createElement(Gr,{value:this._newPreferences.lens("showWordCount"),id:"showWordCountSwitcher",title:this.context.textResources.denali.preferences.showFooter,description:this.context.textResources.denali.preferences.showFooterDescription}),i.createElement(Gr,{value:this._newPreferences.lens(l.Lens.create(function(e){return e.fontSize===hr.g.Large},function(e,t){return a.__assign({},t,{fontSize:e?hr.g.Large:hr.g.Normal})})),id:"fontSizeIncreasedSwitcher",title:this.context.textResources.denali.preferences.increaseFontSize})),i.createElement(Z.a.Footer,{className:Wr.popupFooter},i.createElement(re.a.Primary,{name:"pref-done-btn",className:Wr.doneButton,onClick:function(){return n()}},"Done")))},t}(d.a),Gr=function(e){var t=e.value,n=e.id,r=e.title,a=e.description;return i.createElement("div",{className:Wr.bodySection},i.createElement("label",{className:Wr.setting},i.createElement(Hr.a,{checked:t,id:n,className:Wr.prefSwitcher}),i.createElement(ne.Base,null,r),a&&i.createElement(re.b,{titleAlign:"top",title:a,tooltipClass:Wr.settingTooltip})))},qr=n("w5WV"),Kr='We will record all your actions with diagnostic purpose, information from the document can be read by a developer. Do you want to continue? You can stop diagnostic recording session at any time by pressing the button "Disable diagnostic mode".',Yr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._showFeedbackPopup=l.Atom.create(!1),t._showPreferencesPopup=l.Atom.create(!1),t._diagnosticModeEnabled=l.Atom.create(I.Fullstory.isEnabled()),t.toggleDiagnostic=function(){t._diagnosticModeEnabled.get()?t.context.appRouter.forceReloadCurrentLocation():window.confirm(Kr)&&(I.Fullstory.enable(),t._diagnosticModeEnabled.modify(function(e){return!e}))},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.userAccount,r=t.JSXPortal,o=this.context.appConfig;return i.createElement("div",{className:qr.wrapper},i.createElement(Q.a,{key:"actions-onboarding-preferences",alignment:"topRight",eventType:"onclick",stepId:fn.a.Id.Step10,title:"Preference settings",message:"Display word count, adjust font size, and turn off auto-jumping to the next alert.",themes:{spotClassName:qr.onboardingSpot,triangleClassName:qr.onboardingTriangle,notificationClassName:qr.notificationClassName}},i.createElement(re.a.Ghost,{name:"pref-btn",className:qr.prefButton,onClick:function(){e._showPreferencesPopup.set(!0)}},i.createElement(ie.d.Gear,null))),i.createElement(oe.a,{showDelay:0,name:"help",theme:{dropdownList:qr.dropdownList},label:i.createElement(re.a.Ghost,{name:"help-btn",className:this._diagnosticModeEnabled.view(function(e){return e?qr.diagnosticMode:""})},i.createElement(ie.d.QuestionMark,{className:this._diagnosticModeEnabled.view(function(e){return e?qr.diagnosticModeIcon:""})}))},i.createElement(re.a.Flat,{name:"support",href:o.support.mainPage,target:"_blank"},"Support"),i.createElement(re.a.Flat,{name:"feedback",onClick:function(){e._showFeedbackPopup.set(!0)}},"Send product feedback"),n.features.hasSwitchToDenaliUI&&i.createElement(re.a.Flat,{name:"switch-to-classic",onClick:function(){return a.__awaiter(e,void 0,void 0,function(){var e;return a.__generator(this,function(t){switch(t.label){case 0:return e=this.props.docId,this.context.appRouter.navigate(d.e.routes.editor.href({docId:e}),{showSwitchUINotification:!0}),[4,n.settings.setDocumentMode(e,hr.d.EditorTs)];case 1:return t.sent(),this.context.gnarSpec.backToClassicButtonClick(this.context.pageId),[2]}})})}},"Back to classic Editor"),i.createElement(oe.a.Delimiter,null),i.createElement(re.a.Flat,{name:"policy",href:o.privacyPolicy,target:"_blank"},"Privacy Policy"),i.createElement(re.a.Flat,{name:"terms",href:o.termsOfServise,target:"_blank"},"Terms of Service")),i.createElement(r,null,i.createElement(jr,{key:"fb",visible:this._showFeedbackPopup}),i.createElement(Ur,{key:"pref",visible:this._showPreferencesPopup,denaliSettings:n.settings,features:n.features.denali})))},t}(d.a),Zr=n("dx2T"),Jr=function(e){var t=e.denaliEditorModel,n=e.documentModel,r=e.uploadViewModel,a=e.userAccount,o=e.docId,s=e.JSXPortal,c=e.denaliViewModels;return i.createElement("div",{className:Zr.toolbarLeft},i.createElement("div",{className:Zr.toolbarLeftTop},!a.features.denali.hideToolbar&&i.createElement(he,{pageViewModel:c.pageViewModel,documentModel:n,userAccount:a,uploadViewModel:r,sidebarViewModel:c.sidebarViewModel,onboarding:c.onboardingViewModel})),!a.features.demoMode&&i.createElement("div",{className:Zr.toolbarLeftBottom},i.createElement(Yr,{ded:t,userAccount:a,docId:o,JSXPortal:s})))},Xr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._setGoalsVisibilityState=t.context.documentLoader.setGoalsVisibilityState,t._scrollEl=l.Atom.create(s.None),t._subs=new p.e.Keeper,t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this._subs.push(this._scrollEl.switchMap(function(e){return e.map(Me.a.verticalScrollByWhellEvent).getOrElse(o.Observable.empty())}).subscribe())},t.prototype.componentWillUnmount=function(){this._subs.cleanAll()},t.prototype.render=function(){var e=this,t=this.props,n=t.denaliEditorModel,r=t.documentModel,a=t.plagiarismModel,o=t.uploadViewModel,c=t.userAccount,u=t.docId,d=t.denaliViewModels,p=c.features.denali.superScroll,m=l.Atom.create(pr.ViewportPadding.empty),f=U.d.Portal.create("modals-portal"),h=U.d.Portal.create("toolbarLeft-portal"),g=p?kr.Modern:kr.Classic;return i.createElement(i.Fragment,null,i.createElement(f.Destination,null),i.createElement(h.Destination,null),i.createElement(l.F.div,{"data-name":"document-content",className:p?cr.secondTierModern:cr.secondTier,mount:p?function(t){return e._scrollEl.set(s.Option.of(t))}:I.noop},i.createElement(A.Top,{className:cr.stickyLoader,scrollEl:this._scrollEl},i.createElement(this.context.documentLoader.portal.Destination,null)),i.createElement(Qr,{scrollEl:this._scrollEl,sidebarOpen:d.stateHolder.sidebarOpen,editor:i.createElement(kr.Placeholder,{pageViewModel:d.pageViewModel},i.createElement(_r.Component,{denaliEditor:n,documentModel:r,settingsModel:c.settings,pageViewModel:d.pageViewModel,features:c.features,viewportPadding:m,stateHolder:d.stateHolder})),assistant:i.createElement(i.Fragment,null,i.createElement(Jn.TheViewPlaceholder,null),i.createElement(Jn.NavigationView,{key:"sidebar",denaliViewModels:d,documentModel:r,plagiarismModel:a,features:c.features,setGoalsVisibilityState:this._setGoalsVisibilityState,settingsModel:c.settings,scrollEl:this._scrollEl,JSXPortal:f.Source}))},i.createElement(Jr,{denaliEditorModel:n,documentModel:r,uploadViewModel:o,userAccount:c,docId:u,JSXPortal:h.Source,denaliViewModels:d})),i.createElement($r,{opened:d.stateHolder.sidebarOpen,editor:i.createElement("div",{className:cr.horizontalEditorWrapper},i.createElement(mr.a.InheritVirtualContainer,{name:"withPadding",viewportPadding:m},i.createElement(g,{denaliEditor:n,documentModel:r,settingsModel:c.settings,pageViewModel:d.pageViewModel,features:c.features,scrollEl:this._scrollEl,viewportPadding:m},function(t,r){return i.createElement(ea,{denaliViewModels:d,denaliEditorModel:n,scrollEl:e._scrollEl,editorHeight:r})}))),assistant:i.createElement(Jn.TheView,{key:"sidebar",denaliViewModels:d,documentModel:r,plagiarismModel:a,features:c.features,setGoalsVisibilityState:this._setGoalsVisibilityState,settingsModel:c.settings,scrollEl:this._scrollEl})})))},t}(d.a),Qr=function(e){var t=e.sidebarOpen,n=e.editor,r=e.assistant,a=e.scrollEl,o=e.children;return i.createElement(A.Top,{className:cr.stickyHorizontal,scrollEl:a},n,i.createElement(Jn.Grid,{name:"sidebar-placeholder",opened:t},r),o)},$r=function(e){var t=e.opened,n=e.editor,r=e.assistant,a=e.children;return i.createElement("div",{className:cr.horizontal},n,i.createElement(Jn.Grid,{name:"sidebar",opened:t},r),a)},ea=function(e){var t=e.denaliViewModels,n=e.denaliEditorModel,r=e.scrollEl,o=e.editorHeight,s={denaliEditorModel:n,onboardingViewModel:t.onboardingViewModel},c=a.__assign({},s,{alignment:"bottomCenter",title:"In-line corrections",overlay:function(e){return i.createElement(A.Top,{scrollEl:r,className:cr.stickyOverlay},i.createElement(l.F.div,{className:e.view(function(e){return e?cr.overlayVisible:""})},i.createElement(Z.b,{visible:e,alignment:"none",overlayType:"transparent"})))},getFirstTarget:function(){return t.marksViewModel.getFirstMark()}});return i.createElement(l.F.Fragment,null,t.stateHolder.sidebarOpen.view(function(e){return e?i.createElement(Q.b,a.__assign({key:"sidebar-opened"},c,{stepId:fn.a.Id.Step11,message:"Click underlined words to see more details about what Grammarly has found.",completionTrigger:t.stateHolder.state.view(te.d.getActiveCard).view(function(e){return e.nonEmpty()}),eventType:"onclick"})):i.createElement(l.F.Fragment,{key:"sidebar-closed"},i.createElement(fr.b,{className:cr.inlineCardWrapper,inlineCardVM:t.createInlineCardViewModel(),onboardingViewModel:t.onboardingViewModel,openAlert:function(e,n){t.pageViewModel.switchToAlert({alert:e,highlightIndex:n},F.b.text,"textOrder")}}),i.createElement(Q.b,a.__assign({},c,{stepId:fn.a.Id.Step2,message:"Hover your mouse over underlined words to fix issues with one click.",completionTrigger:l.Atom.create(!1),eventType:"onhover"})))}),i.createElement(Q.b,a.__assign({},s,{stepId:fn.a.Id.Step9,alignment:"bottomRight",eventType:"onhover",title:"Synonyms",message:"Click on a word twice to see the synonyms.",getFirstTarget:function(){return t.synonymsViewModel.getFirstSynonym()},completionTrigger:t.synonymsViewModel.popupShown})),i.createElement(Rr,{synonyms:t.synonymsViewModel,editorHeight:o}))},ta=n("rtH6"),na=n("vXpH"),ra=n("0sKd"),aa=l.Lens.create(function(e){return e.isEmpty()},function(e){return e?s.None:Object(s.Some)("close")}),ia=Object(d.f)(function(e,t){var n=e.surveyViewModel,r=t.textResources,a=t.gnarSpec,o=t.pageId,c=r.denali.survey.proofitPromo,u=l.Atom.create(s.None);return i.useEffect(function(){a.surveyPopupShow(o,n.type)},[]),ta.a.useSubscriptionTo(u.switchMap(U.e.toOptionValueOnly).do(n.actions)),i.createElement(na.c.WithOverlay,{key:"proofit-modal-notification",position:na.b.BottomRight,isVisibleAtom:u.lens(aa),title:c.title,content:c.content,icon:i.createElement("picture",null,i.createElement("div",{className:ra.proofitIconBig})),iconPosition:na.a.Right,label:c.optional,isCloseButton:!1,buttons:i.createElement(i.Fragment,null,i.createElement(re.a.Primary,{name:"getStartedBtn",className:ra.getStartedBtn,onClick:function(){u.set(Object(s.Some)("getStarted")),a.professionalProofreadingButtonClick(o,"proofitPromo")}},c.actions.view),i.createElement(re.a.Caps,{name:"closeBtn",className:ra.closeBtn,onClick:function(){return u.set(Object(s.Some)("close"))}},c.actions.close))})}),oa=n("JbXn"),sa=Object(d.f)(function(e,t){var n=e.surveyVM,r=e.denaliEditor,a=t.documentLoader;return i.useEffect(function(){var e=r.dontFreezeWhen(n.view(I.OptionUtils.exists(function(e){return hr.j.isGnar(e.type)})),"gnarSurvey");return function(){return e.unsubscribe()}},[r]),i.createElement(l.F.Fragment,null,n.view(I.OptionUtils.mapOrDefault(function(e){switch(e.type){case hr.j.ProofitPromo:return i.createElement(l.F.Fragment,{key:"survey-proofit-promo"},a.setGoalsVisibilityState.view(function(t){return"hidden"===t&&i.createElement(ia,{surveyViewModel:e})}));case hr.j.OutcomesUINewUsersNewUI:case hr.j.OutcomesUINewUsersControl:case hr.j.OutcomesUINewUsersHalfAlerts:return i.createElement(oa.b,{key:"inline-survey",surveyViewModel:e});case hr.j.FreeClarityAlertsEnabled:case hr.j.FreeClarityAlertsControl:case hr.j.SuperScrollWithAutoJump:case hr.j.SuperScrollWithoutAutoJump:return i.createElement(oa.a,{key:"external-survey",surveyViewModel:e});default:return Object(I.assertNever)(e)}},null)))}),ca=n("zqxF"),la=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return i.createElement(t.BlockUnsavedChanges,{documentModel:this.props.documentModel},i.createElement(t.Content,a.__assign({},this.props)))},t}(d.a);!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._setGoalsVisibilityState=t.context.documentLoader.setGoalsVisibilityState,t._subs=new p.e.Keeper,t._tourLoadFinished=l.Atom.create(t.props.userAccount.features.denali.tour.isEmpty()),t}return a.__extends(t,e),t.prototype._trackAlertActions=function(){var e=this;return[this.props.denaliViewModels.pageViewModel.stateHolder.sidebarOpen.switchMap(U.e.orEmpty(this.props.denaliViewModels.marksViewModel.alertClicked)).switchMap(U.e.toOptionValueOnly).subscribe(function(){return e.context.gnarSpec.alertUnderlineClick(e.context.pageId,"assistantOn",e.context.pageSessionId)})]},Object.defineProperty(t.prototype,"_pageId",{get:function(){return this.props.documentModel.isDemoDocument?"demoDocument":"document"},enumerable:!0,configurable:!0}),t.prototype.componentWillMount=function(){var e=this;u.Monitoring.Logging.root.context.add({denali:!0,denaliGroup:this.props.userAccount.features.denali.denaliGroup}),this._loaderVM=this.props.denaliViewModels.createLoaderViewModel(this.props.uploadViewModel,J.a.SetGoalsVisibilitySource.toVisible(this._setGoalsVisibilityState,"setGoalsLoader"),this._tourLoadFinished),this.context.documentLoader.state.view("text").filter(function(e){return e.isEmpty()}).first().subscribe(function(){e.props.uploadViewModel.showUploadNotificationIfNeeded()})},t.prototype.componentDidMount=function(){var e,t=this,n=this.props,r=n.documentModel,a=n.selfUpdate,i=n.denaliEditorModel;this.context.gnarSpec.denaliDocumentPageShow(this._pageId,document.location.toString()),(e=this._subs).push.apply(e,[a.watch(r.saved.startWith(!0),"saved"),i.dontFreezeWhen(Z.b.activeCount.view(function(e){return e>0}),"overlay")].concat(this._trackAlertActions())),this.context.appRouter.locationState.forEach(function(e){!0===e.showSwitchUINotification&&t.context.notifications.showMessage("You switched to the new Grammarly Editor for this document.")})},t.prototype.getChildContext=function(){return a.__assign({},this.context,{pageId:this._pageId,wootricViewModel:this.props.wootricViewModel})},t.prototype.render=function(){var e=this,t=this.props,n=t.userAccount,r=t.denaliViewModels,o=t.denaliEditorModel,s=t.children;return i.createElement(Q.a.Context.Provider,{value:this.props.denaliViewModels.onboardingViewModel},i.createElement(p.c,a.__assign({onUnmount:function(){try{e.context.documentLoader.setGoalsVisibilityState.set("forceHidden"),r.dispose(),e._loaderVM.dispose(),e._subs.cleanAll()}catch(e){u.Monitoring.Logging.getLogger("Main").error("Cannot shutdown the engine",e)}}},Object(l.classes)(ca.firstTier)),s,i.createElement(X.a,{searchViewModel:r.searchViewModel,key:"search-bar"}),i.createElement(Xr,a.__assign({},this.props)),n.features.denali.tour.map(function(t){return i.createElement($.a,{key:"tour",type:t,settings:n.settings,tourLoaded:e._tourLoadFinished})}).orNull(),this.props.denaliViewModels.surveyManager.map(function(e){return e.active}).map(function(e){return i.createElement(sa,{surveyVM:e,denaliEditor:o})}).orNull()))},t.childContextTypes=a.__assign({},d.a.contextTypes,{pageId:Y.string,wootricViewModel:Y.object}),t}(d.a);e.Content=t,e.Loader=function(e){var t=e.state,n=e.userAccount;return i.createElement(ir.Loader,{className:ca.firstTierLoader,state:t,userAccount:n})};var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=u.Monitoring.Logging.getLogger("block_unsaved_changes"),t}return a.__extends(t,e),t.prototype._blockNavigationWhenUnsavedChanges=function(){return o.Observable.fromEvent(window,"beforeunload").withLatestFrom(this.props.documentModel.saved,function(e,t){return t?null:e}).filter(Boolean).subscribe(function(e){return e.returnValue="The changes in your document may be lost if you leave this page.","The changes in your document may be lost if you leave this page."})},t.prototype.render=function(){var e=this;return i.createElement(p.c,{onMount:function(){return e._blockNavigationWhenUnsavedChanges()}},this.props.children,i.createElement(d.e.Block,{when:this.props.documentModel.saved.startWith(!0).map(function(e){return!e}),message:function(){return e.props.documentModel.flush().catch(function(t){return e._log.error("Could not flush document before exit",t)}),e._log.warn("unsaved changes prompt before navigate"),"You may have unsaved changes in your document that will be lost if you leave the page."}}))},t}(i.Component);e.BlockUnsavedChanges=n}(la||(la={}));var ua=n("maHj"),da=function(e){var t=e.className;return i.createElement("div",a.__assign({},Object(l.classes)(ua.base,t)),i.createElement(ie.d.Grammarly,{className:ua.icon}),i.createElement("svg",{width:"99",height:"18",viewBox:"0 0 99 18"},i.createElement("g",{fill:"#4C4C4C",fillRule:"evenodd"},i.createElement("path",{d:"M2 17.16c-.5-.2-.84-.6-.84-1.16 0-.67.55-1.23 1.22-1.23.2 0 .36.04.5.1.86.4 1.8.63 2.92.63 2.05 0 3.02-.98 3.02-2.88v-.5c-.9 1.05-1.86 1.7-3.46 1.7-2.47 0-4.7-1.8-4.7-4.93v-.05c0-3.16 2.27-4.93 4.7-4.93 1.64 0 2.6.7 3.42 1.58v-.02c0-.8.67-1.48 1.5-1.48s1.5.67 1.5 1.5v6.8c0 1.9-.46 3.28-1.35 4.17-.98 1-2.5 1.42-4.55 1.42-1.4 0-2.63-.25-3.87-.74zM8.83 8.9v-.05c0-1.44-1.13-2.45-2.6-2.45-1.45 0-2.56 1-2.56 2.45v.04c0 1.45 1.1 2.44 2.57 2.44 1.46 0 2.6-1 2.6-2.45zM13.47 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.47C16.9 4.94 17.62 4 18.5 4c.94 0 1.47.6 1.47 1.46 0 .8-.52 1.26-1.13 1.4-1.52.35-2.37 1.52-2.37 3.65v2.8c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M19.6 11.65v-.03c0-2.3 1.77-3.38 4.28-3.38 1.06 0 1.83.18 2.58.43V8.5c0-1.25-.77-1.94-2.27-1.94-.84 0-1.5.12-2.08.3-.18.06-.3.08-.43.08-.7 0-1.26-.54-1.26-1.23 0-.52.34-.97.8-1.15.96-.36 1.98-.55 3.4-.55 1.62 0 2.8.43 3.56 1.18.8.8 1.14 1.96 1.14 3.38v4.8c0 .82-.65 1.45-1.46 1.45-.87 0-1.44-.6-1.44-1.23v-.02c-.73.8-1.73 1.34-3.2 1.34-2 0-3.63-1.15-3.63-3.25zm6.9-.7v-.52c-.5-.24-1.18-.4-1.9-.4-1.3 0-2.1.52-2.1 1.47v.04c0 .8.7 1.28 1.65 1.28 1.4 0 2.35-.77 2.35-1.86zM30.94 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.12c.7-.9 1.6-1.7 3.12-1.7 1.38 0 2.43.6 2.98 1.68.93-1.1 2.03-1.68 3.47-1.68 2.25 0 3.6 1.34 3.6 3.9v5.5c0 .82-.68 1.5-1.5 1.5-.84 0-1.5-.68-1.5-1.5V8.78c0-1.43-.64-2.16-1.77-2.16-1.12 0-1.8.73-1.8 2.15v4.5c0 .84-.7 1.5-1.52 1.5-.8 0-1.5-.66-1.5-1.5V8.8c0-1.43-.62-2.16-1.74-2.16-1.13 0-1.82.73-1.82 2.15v4.5c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M48.7 5.5c0-.83.68-1.5 1.5-1.5.84 0 1.5.67 1.5 1.5v.12c.7-.9 1.6-1.7 3.13-1.7 1.38 0 2.42.6 2.98 1.68.93-1.1 2.04-1.68 3.48-1.68 2.23 0 3.57 1.34 3.57 3.9v5.5c0 .82-.67 1.5-1.5 1.5s-1.5-.68-1.5-1.5V8.78c0-1.43-.63-2.16-1.75-2.16-1.13 0-1.82.73-1.82 2.15v4.5c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V8.8c0-1.43-.63-2.16-1.76-2.16-1.12 0-1.8.73-1.8 2.15v4.5c0 .84-.68 1.5-1.5 1.5-.84 0-1.5-.66-1.5-1.5V5.5M65.84 11.65v-.03c0-2.3 1.76-3.38 4.26-3.38 1.07 0 1.84.18 2.6.43V8.5c0-1.25-.78-1.94-2.28-1.94-.83 0-1.5.12-2.07.3-.18.06-.3.08-.44.08-.68 0-1.23-.54-1.23-1.23 0-.52.33-.97.8-1.15.96-.36 1.98-.55 3.38-.55 1.64 0 2.83.43 3.58 1.18.8.8 1.14 1.96 1.14 3.38v4.8c0 .82-.65 1.45-1.46 1.45-.86 0-1.43-.6-1.43-1.23v-.02c-.73.8-1.74 1.34-3.2 1.34-2 0-3.63-1.15-3.63-3.25zm6.9-.7v-.52c-.52-.24-1.2-.4-1.93-.4-1.27 0-2.06.52-2.06 1.47v.04c0 .8.67 1.28 1.64 1.28 1.4 0 2.35-.77 2.35-1.86zM77.17 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.47C80.6 4.94 81.3 4 82.2 4c.93 0 1.46.6 1.46 1.46 0 .8-.5 1.26-1.12 1.4-1.52.35-2.37 1.52-2.37 3.65v2.8c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M84.57 1.67c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V13.3c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V1.68M89.96 17.63c-.43-.15-.95-.5-.95-1.24s.58-1.23 1.2-1.23c.23 0 .37.04.5.08.25.08.4.12.62.12.53 0 .8-.1 1.07-.64l.1-.23-3.63-8.37c-.07-.2-.15-.5-.15-.7 0-.84.65-1.43 1.48-1.43.75 0 1.18.4 1.44 1.12l2.3 6.16 2.2-6.14C96.37 4.5 96.8 4 97.58 4c.77 0 1.42.6 1.42 1.38 0 .24-.08.57-.14.7l-3.7 8.87c-.88 2.15-1.77 2.96-3.56 2.96-.67 0-1.15-.1-1.64-.27"}))))},pa=n("JDRU"),ma=Object(d.f)(function(e,t){var n=t.appRouter;return i.createElement("div",{"data-name":"doc-not-found",className:pa.wrapper},i.createElement(da,{className:pa.logo}),i.createElement(fa,{className:pa.img}),i.createElement(ne.H1,{className:pa.title},"Can’t find this document"),i.createElement(ne.Paper,{className:pa.info},"It looks like this document was removed or URL is incorrect."),i.createElement(re.a.Primary,{name:"to-doc-list",className:pa.toHome,onClick:function(){return n.navigate(d.e.routes.documents.href({}))}},"Go to your documents"))}),fa=function(e){var t=e.className;return i.createElement("svg",{width:"194",height:"128",viewBox:"0 0 194 128",className:t},i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M44 40h64c2.2 0 4 1.8 4 4v80c0 2.2-1.8 4-4 4H45c-2.76 0-5-2.24-5-5V44c0-2.2 1.8-4 4-4z",fill:"#E4E6F2",opacity:".8"}),i.createElement("rect",{stroke:"#8189A9",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",x:"47",y:"33",width:"72",height:"88",rx:"1"}),i.createElement("path",{d:"M60.28 86h44.67M60.28 96h44.67M60.28 107H73",stroke:"#E4E6F2",strokeWidth:"2",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("g",{transform:"translate(64 47)"},i.createElement("circle",{fill:"#8189A9",cx:"3",cy:"3",r:"3"}),i.createElement("circle",{fill:"#8189A9",cx:"33",cy:"3",r:"3"}),i.createElement("path",{d:"M29.46 21.54C26.66 18.74 22.78 17 18.5 17c-4.28 0-8.16 1.73-10.96 4.54",stroke:"#8189A9",strokeWidth:"2",strokeLinecap:"round"})),i.createElement("path",{d:"M188.13 106.03c.3.3.3.8-.1 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8zm3.9 4l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm6.8-5.7c.3.3.3.8-.1 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0zM86.03 3.13l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm5.7 5.6l-1.9-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm-6.9.2c-.2 0-.4 0-.5-.1-.3-.3-.3-.8 0-1.1l1.7-1.9c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2zm5.7-5.6c-.2 0-.4-.1-.6-.2-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2z",fill:"#F6C2CB",fillRule:"nonzero"}),i.createElement("path",{d:"M4.6 60.2c2.2 0 3.9-1.8 3.9-3.9 0-2.2-1.8-3.9-3.9-3.9-2.2 0-3.9 1.8-3.9 3.9 0 2.1 1.7 3.9 3.9 3.9zm0-6.3C5.9 53.9 7 55 7 56.3c0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.4 1.1-2.4 2.4-2.4z",fill:"#A1E7D7",fillRule:"nonzero"})))},ha=n("AECf"),ga=n("p7hf"),va=n("aWq3"),ba=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this;return i.createElement(ga.b,{documentUpload:this.props.documentUpload,notifications:this.props.notifications,canDrop:function(){return!0},render:function(t,n){return i.createElement(l.F.div,null,l.Atom.combine(t,n,function(t,n){return(t||n)&&i.createElement(p.c,{className:va.animation,onMount:function(){return e.context.documentLoader.setGoalsVisibilityState.set("forceHidden")}},i.createElement("div",{className:va.one}),i.createElement("div",{className:va.two}),i.createElement("div",{className:va.three}),i.createElement(be,{position:"center",className:va.textWrapper},i.createElement("div",{className:va.titleWrap},i.createElement(ne.H1,{className:va.title},e.context.textResources.denali.uploadDropZone)),i.createElement(ne.Paper,{className:va.content},e.context.textResources.denali.uploadDropZoneTypes)))}))}})},t}(d.a),ya=n("U7CB"),_a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=u.Monitoring.Logging.getLogger("denali_loader"),t._metric=u.Monitoring.TimeSeries.root.getMetric("denali_loader"),t._state=t.context.documentLoader.state,t._subs=[],t}return a.__extends(t,e),t.prototype.componentWillMount=function(){this._listenLoading(this.props)},t.prototype.componentWillReceiveProps=function(e){this._clear(),this._listenLoading(e)},t.prototype.componentWillUnmount=function(){this._clear()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){return i.createElement(la.Loader,{key:"loading",state:this._state,userAccount:this.props.userAccount})},t.prototype._listenTimeseries=function(e,t,n){var r=this;return void 0===n&&(n=!1),this._state.skip(1).map(function(e){return t(e)}).distinctUntilChanged().map(function(t){if(void 0!==t)return n&&r._metric.getCounter(e+"."+t+".start.counter").increment(),{time:r._metric.getTimer(e+"."+t+".time").start(),counter:n?r._metric.getCounter(e+"."+t+".stop.counter"):void 0}}).pairwise().subscribe(function(e){var t=e[0];t&&(t.time.stop(),t.counter&&t.counter.increment())})},t.prototype._listenLoading=function(e){var t=this;this._state.distinctUntilChanged().subscribe(function(e){t._log.debug("State is changed to "+J.a.State.toString(e))}),this._subs.push(this._listenTimeseries("text",function(e){return e.text.orUndefined()},!0),this._listenTimeseries("lens",function(e){return e.lens.filter(function(e){return"checkingOut"!==e}).map(function(){return"checking"}).orUndefined()}),this._listenTimeseries("navigation",function(e){return e.navigation.filter(function(e){return"checkingOut"!==e}).map(function(){return"checking"}).orUndefined()})),this.context.appRouter.locationState.exists(function(e){return!0===e.openSidebar})||this.props.userAccount.features.denali.sidebarOpenedByDefault?this._state.set(J.a.State.processing):this._state.set(J.a.State.text),this._subs.push(e.engineStream.subscribe(function(e){e.map(function(e){e.isLeft()&&t._state.set(J.a.State.idle)})}))},t.prototype._clear=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t}(d.a),Ea=n("F8cT"),wa=n("aYRv"),Ca=n("I+/w"),ka=n("DTSS"),Sa=n("rJIe"),Ma=n("4zwF"),Aa=a.__assign({},Ca.a,{alertUndo:function(e,t){return i.createElement(Ta,{action:t("undo"),content:Object(Sa.a)(e.args.params),buttonText:e.data.undo})},textRemoved:function(e,t){return i.createElement(Ta,{action:t("undo"),content:e.data.textRemoved,buttonText:e.data.undo})}}),Ta=function(e){var t=e.action,n=e.buttonText,r=e.content;return i.createElement(ka.a.Content,null,i.createElement("div",{className:Ma.alertUndoWrapper},i.createElement("div",{className:Ma.alertUndoContent},r),i.createElement(re.a,{name:"alertUndoButton",className:Ma.alertUndoBtn,onClick:t,styleType:ne.Typography.Type.H3Legacy},i.createElement(ie.d.Undo,{className:Ma.alertUndoIcon}),n)))},xa=n("SoVu"),Oa=n("oRwa"),Na=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=u.Monitoring.Logging.getLogger("denali.editorContent"),t._wootricViewModelImpl=t.props.userAccount.features.denali.wootric.filter(function(){return!t.props.userAccount.profile.get().isTest}).map(function(e){return new c.f.WootricViewModelImpl(new c.f.WootricListenerModelImpl(localStorage,t.props.userAccount.features.denali.wootricTest,e),t.props.engineStream.switchMap(function(e){return e.flatMap(function(e){return e.toOption()}).map(function(e){return e.alertsList.alertEvents.filter(function(e){return"alert_applied"===e.kind}).mapTo(U.e.voidValue)}).getOrElse(o.Observable.empty())}),t.props.userAccount.profile.get())}),t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.docId,r=t.userAccount,a=t.networkState,c=t.selfUpdate,l=t.uploadViewModel,u=t.upgradeHook,m=t.notifications,v=t.ded,b=t.engineStream,y=t.notificationsManager,_=i.createElement(i.Fragment,{key:"notificationsCenterWrapper"},i.createElement(h.a,{key:"platformNotificationsCenter",views:Aa,manager:y,onNotificationClose:function(t){return e.context.gnarSpec.notificationCloseButtonClick(t.type,e.context.pageId)}}),i.createElement(ya.a,{key:"denaliNotificationCenter",wootricViewModel:this._wootricViewModelImpl,notifications:m,denaliEditorModel:v}));return i.createElement(g.a.Manager,null,i.createElement(p.c,{key:n,onMount:function(t){return e._log.info("denali page mount"),document.body.classList.add(xa.body),document.body.classList.remove("editorTs"),t?o.Observable.fromEvent(t,"wheel").subscribe(function(e){e.preventDefault()}):void 0},onUnmount:function(){e._log.info("denali page unmount"),document.body.classList.remove(xa.body),document.body.classList.add("editorTs")}},i.createElement(Ea.a,null),b.map(function(t){return t.map(function(t){return t.fold(function(t){return t.code===f.Reconnect.WsCodes.NOT_FOUND?(e._log.warn("document not found on init",t),i.createElement(ma,{key:"404"})):(t.code===f.Reconnect.WsCodes.UNAUTHORIZED?e._log.warn("unauthorized on init",t):e._log.warn("engine init error",t),_)},function(t){return i.createElement(g.a.Context.Consumer,{key:"remSize"},function(o){var p=new wa.a(t,v,m,r,u,Object(s.Some)(r.subscription),e.context,o,a,function(){window.PROOFIT_SUBMITTED=!0,e.context.appRouter.navigate(d.e.routes.documents.href({}))},n,l,y);return i.createElement(la,{key:"main",denaliEditorModel:v,plagiarismModel:t.plagiarismModel,documentModel:t.documentModel,uploadViewModel:l,wootricViewModel:e._wootricViewModelImpl,userAccount:r,selfUpdate:c,notifications:m,denaliViewModels:p,docId:n},_)})})}).getOrElse(_)}).startWith(_),i.createElement(ha.a,{key:"tooltip"}),i.createElement(ba,{documentUpload:l.uploadModel,notifications:m})))},t}(d.a),La=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._uploadViewModel=new G.b(t.props.doxApi,t.context.appRouter,t.props.notifications,t.context.telemetry,t.context.environment.info.browser),t._docId=l.Atom.create(s.Option.of(Number(t.props.docId))),t}return a.__extends(t,e),t.prototype._renderPageDoc=function(e){var t=this,n=this.props,r=n.notifications,a=n.userAccount,s=n.networkState,l=n.upgradeHook,u=n.doxApi,p=n.wsConnectivity,f=n.selfUpdate,h=n.notificationsManager,g=this.context,b=g.appConfig,y=g.telemetry,_=g.environment.info.browser,E=new v.a({classes:xa,containerClass:a.settings.editorPreferences.view("fontSize").map(function(e){switch(e){case hr.g.Normal:return I.DOM.classes(Oa.paper,xa.editorContainer);case hr.g.Large:return I.DOM.classes(Oa.paper,xa.editorContainer,xa.bigSize);default:return Object(I.assertNever)(e)}}),freezeFocusFeature:!0,allowNavigationTo:function(e){return c.f.isWootricTextArea(e)||K.a.isSearchInput(e)},shouldFocusEditor:q.b.isInlineCard,placeholder:{strings:this.context.textResources.denali.placeholder,uploadInputAccept:"safari"===_?m.e.ACCEPTED_UPLOAD_MIME_TYPES.join(","):m.e.ACCEPTED_UPLOAD_EXTENSIONS.join(","),upload:function(e){return t._uploadViewModel.uploadModel.upload(e,!1)}}}),w=U.e.promiseToStream(function(){return z.create(b,y,u,p,E,""+e,a.settings,a.features,r,t.context.environment)});return i.createElement(d.b,{key:"base-page-"+e,title:w.switchMap(function(e){return e.flatMap(function(e){return e.toOption()}).map(function(e){return e.documentModel.title}).getOrElse(o.Observable.of("Grammarly"))}).map(function(e){return e||"Grammarly"})},i.createElement("div",null,i.createElement(Na,{key:"denali-editor-content",docId:""+e,notifications:r,userAccount:a,upgradeHook:l,networkState:s,uploadViewModel:this._uploadViewModel,ded:E,engineStream:w,selfUpdate:f,notificationsManager:h}),i.createElement(_a,{key:"loader",engineStream:w,uploadVM:this._uploadViewModel,userAccount:a})))},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillReceiveProps=function(e){var t=Number(e.docId);this._docId.set(s.Option.of(t))},t.prototype.render=function(){var e=this;return i.createElement(l.F.div,null,this._docId.view(function(t){return t.filter(function(e){return!isNaN(e)}).fold(function(){return i.createElement(d.b,{title:"Grammarly"},i.createElement(ma,{key:"404"}))},function(t){return e._renderPageDoc(t)})}))},t}(d.a);t.default=La},kVh0:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("Rzgf"),s=function(e){var t=e.className,n=e.width,s=void 0===n?"11.5rem":n;return a.createElement("div",r.__assign({},Object(i.classes)(t,o.wrapper,o.nothingToCheck)),a.createElement("svg",{height:"100%",viewBox:"0 0 181 209",width:s},a.createElement("defs",null,a.createElement("rect",{id:"a",width:"141",height:"100",rx:"15"})),a.createElement("g",{transform:"translate(-51 -60)",fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M0 0h272v288H0z"}),a.createElement("path",{d:"M153.5 269c34 0 37-1.3 37-3s-3-3-37-3-61.5 1.3-61.5 3 27.5 3 61.5 3z",fill:"#F2F3FA"}),a.createElement("g",{transform:"translate(51 69)"},a.createElement("mask",{id:"b",fill:"#fff"},a.createElement("use",{xlinkHref:"#a"})),a.createElement("use",{fill:"#979DFF",xlinkHref:"#a"}),a.createElement("g",{mask:"url(#b)",fill:"#A5AAFE"},a.createElement("path",{d:"M-3.7 138.6V87.4h17.6l-.2 1.3v15.4c0 2.3 1.8 4.2 4.1 4.2h16.5v30.3h-38zm38-41.3v2.7H22V88.2l12.3 9zm6.6-5.5L24.7 80c-.8-.5-1.6-.8-2.5-.8h-30a4.1 4.1 0 0 0-4.2 4.1v59.5c0 2.3 1.9 4.2 4.1 4.2h46.4c2.3 0 4.1-1.9 4.1-4.2V95.2c0-1.3-.6-2.6-1.7-3.4zm193.2-66.5h-58.8a4.1 4.1 0 1 0 0 8.3H234a4.1 4.1 0 1 0 0-8.3m-113.2 76.2H86.5a4.1 4.1 0 1 0 0 8.3h34.3a4.1 4.1 0 1 0 0-8.3m0 17.9h-59a4.1 4.1 0 1 0 0 8.3h59a4.1 4.1 0 1 0 0-8.3m-27.2 18.4H62a4.1 4.1 0 1 0 0 8.3h31.7a4.1 4.1 0 1 0 0-8.3M53.1 41H23.3a4.1 4.1 0 1 0 0 8.2h29.8a4.1 4.1 0 1 0 0-8.2M-7 49.2H5.8a4.1 4.1 0 1 0 0-8.2H-7a4.1 4.1 0 1 0 0 8.2m58.9 10.5H-7A4.1 4.1 0 1 0-7 68h58.9a4.1 4.1 0 1 0 0-8.3m79.2-20.1a4.7 4.7 0 1 0-.1-9.4 4.7 4.7 0 0 0 .1 9.4M73.4 14.5a4.7 4.7 0 1 0 .1 9.5 4.7 4.7 0 0 0-.1-9.5M-3.1-8.1a4.7 4.7 0 1 0-.1-9.5 4.7 4.7 0 0 0 0 9.5M19.3-13a4.7 4.7 0 1 0-9.5.2 4.7 4.7 0 0 0 9.5-.1m97.5 150.1a4.7 4.7 0 1 0 .1 9.5 4.7 4.7 0 0 0 0-9.5M186.7-9.2a8.8 8.8 0 1 1 0 17.6 8.8 8.8 0 0 1 0-17.6m0 25.9a17.1 17.1 0 1 0 0-34.2 17.1 17.1 0 0 0 0 34.2M25.2 33a4.1 4.1 0 1 0 0-8.3 8.8 8.8 0 0 1 0-17.6 4.1 4.1 0 1 0 0-8.2 17.1 17.1 0 0 0 0 34.1m131.5 13.8a4.1 4.1 0 0 0-4.2 4.1 8.8 8.8 0 0 1-17.6 0 4.1 4.1 0 0 0-8.2 0 17.1 17.1 0 0 0 34.1 0 4 4 0 0 0-4.1-4M73.6 30a4.1 4.1 0 0 0-4.1 4.1v25.2a4.1 4.1 0 0 0 8.2 0V34a4 4 0 0 0-4.1-4.1M-3.2-.5a4.1 4.1 0 0 0-4.1 4.1v25.2a4.1 4.1 0 0 0 8.3 0V3.6C1 1.3-1-.5-3.2-.5m94.8 63.9c2.2 0 4.1-1.8 4.1-4.1V14.4a4.1 4.1 0 0 0-8.3 0v44.9c0 2.3 1.9 4.1 4.2 4.1m17.7-75.2a4.1 4.1 0 0 0-4.1 4.2v66.9a4.1 4.1 0 0 0 8.2 0v-67a4 4 0 0 0-4.1-4M35.8 20.6a4.1 4.1 0 0 0 5.9 0l4.2-4.2 4.3 4.2a4.1 4.1 0 1 0 5.9-5.8l-4.3-4.3L56 6.2A4.1 4.1 0 1 0 50.2.4l-4.3 4.3L41.7.4a4.1 4.1 0 0 0-5.9 5.8l4.3 4.3-4.3 4.3a4.1 4.1 0 0 0 0 5.8m92.1-14.4a4.1 4.1 0 0 0 5.8 0L138 2l4.3 4.2A4.1 4.1 0 1 0 148 .4L144-4l4-4a4.1 4.1 0 1 0-5.8-5.9L138-9.7l-4.3-4.3a4.1 4.1 0 0 0-5.8 5.9L132-4l-4 4.4a4.1 4.1 0 0 0 0 5.8m103.8 54.6l-13.7-9c-1.4-1-3.2-1-4.5 0L202 59.3l-12.8-7.5c-1.4-.8-3-.7-4.4.1l-13.2 8.8a4.1 4.1 0 1 0 4.6 7l11-7.4 12.9 7.4c1.3.8 3 .8 4.4 0l11.3-7.6 11.4 7.5a4.1 4.1 0 0 0 4.6-6.9M62.8 91c.8 0 1.6-.3 2.3-.7l11-7.4 13 7.5c1.3.8 3 .7 4.3-.1l11.4-7.6 11.4 7.6a4.1 4.1 0 0 0 4.5-7l-13.6-9c-1.4-1-3.2-1-4.6 0l-11.6 7.6-12.8-7.5c-1.4-.7-3-.7-4.4.2l-13.2 8.8a4.1 4.1 0 0 0 2.3 7.5m94.6-77.2a4.1 4.1 0 0 0-4.2 4.1v19.4a4.1 4.1 0 0 0 8.3 0V17.8a4 4 0 0 0-4.1-4.1"})),a.createElement("rect",{fill:"#8383EF",mask:"url(#b)",x:"20",y:"29",width:"63",height:"85",rx:"5"})),a.createElement("rect",{fill:"#FFF",x:"67",y:"94",width:"63",height:"85",rx:"5"}),a.createElement("path",{d:"M117.5 186H69a5 5 0 0 1-5-5v-22.2",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("g",{strokeLinecap:"round"},a.createElement("path",{fill:"#FFF",d:"M167.7 169.5v-41.2l-4.3-5.7-9.9 9.7-29.1-5.3 1.2-6.6 22.7 2.2 17.9-20.7 11.6-4.5v-5.1h-2.5l-2.4-2.2-.6-4H171l1.3-6.6.6-8.7 1.6-3.1 21.7 2.2 1.6 92.2-5.6 7.4z"}),a.createElement("path",{d:"M123.8 124.2h-4l-6.3.3a6.4 6.4 0 0 1-2.5-3.3c-.4-1.4-.3-2.8.4-4.4l14.6 3-2.2 4.4zm56.4-16.8l-3.8-2-1.4-6.9 2.6-1.3.5-5.5H174l-1.4-4-.8-1.8-1.5.4 2.3-6.2v-7.2l2.4 3.4 5.2 1.8 1.9.5 1 2.3 3.5.8.5 1.6-1.3 2.1V87l2.2 2.2 1.4 1-2.3 4.3v4l2.3.8-1.4 3.4-3.1 3.3-2.4 1.4z",fill:"#A6ADC9"}),a.createElement("path",{d:"M180.7 64.6c-2.3 1.4 7.8.9 13.2 14.3 3 .5 4.2-1 3.6-4.5a21 21 0 0 0 8 11.3c5 3 14 8.2 16.6 11.9 2.7 3.6 2.5 10.1-1.4 12.1-2.7 1.3-.9.8 5.3-1.6l4-5.8.7-6.5-2.9-5.3-4.8-3.8-6-4.7-4.2-6.5-1.9-7.6-2.5-4.9-3.8-2h-4.4l-2.7 1.6-1.7 2-2.4-1-1.3 1.9-3.9-1-6.2-.5c.7-.5.2-.3-1.3.6z",fill:"#F2F3FA"}),a.createElement("path",{d:"M184.1 259.8l2 1.2c1.7-.1 3-.5 3.8-1.2.7-.5 1-1.4.8-2.5l-5.3-.2-1.3 2.7z",fill:"#A6ADC9"}),a.createElement("path",{d:"M164.4 123c1 2.8 2.6 6 7.7 5.1 5-.8 1.9-6.2-2.1-6.2s-6.6-1.6-5.6 1.1z",fill:"#F2F3FA"}),a.createElement("path",{d:"M208 173.3l.5 7.8c2.4 1.3 4 1.4 4.6.3.6-1.2.6-2.8 0-4.8l-2.7-4.8-2.4 1.5z",fill:"#A6ADC9"}),a.createElement("path",{d:"M196.1 127l-6.2 7.7c-1.3 2.1-1.3 6.5 0 13.3 2 10 2 18.4 0 29.3-1.3 7.3-1.9 33.7-1.9 79.2h3l3.5-61.6 1.6-19.7 1.7-10.2-1.7-13.6-1.6-12.3 1.6-12.1zm-3.3-25.5c2.8 2.7 4.4 5 5 7.2.7 2.1 4.5 23.1 11.6 63h1.8l-10.6-67.5-7.8-2.7zm-18.9 73.2l-1 27.8a4 4 0 0 0 1.3 3l4.4 4.3-4.7-35z",fill:"#F2F3FA"}),a.createElement("path",{stroke:"#3B3E4D",strokeWidth:"2",strokeLinejoin:"round",d:"M177.9 91.8v5.6l-11.7 4.2-17.8 21.4-22.9-3.3-1.3 6.8 29.1 5.8 10.1-9.9"}),a.createElement("path",{d:"M175 98.7c.2 5.8 2.1 8.6 5.7 8.6s6.5-2.7 8.8-8.1m-19.8 9.7l-6.4 12.2c.7 2.3 2.1 4.6 4.2 6.7v40l-4.9 36.3a8 8 0 0 0 2.2 6.6l10 10.2 6 6.2m-17.5-105.5h9",stroke:"#3B3E4D",strokeWidth:"2",strokeLinejoin:"round"}),a.createElement("path",{d:"M174.7 174l9.8 83h6.7c1.4-26 2.7-51 3.8-75.2.9-11 1.7-10.2 1.7-16.1 0-6-2.3-20.4-2.3-24 0-2.3.6-7.1 1.9-14.3",stroke:"#3B3E4D",strokeWidth:"2",strokeLinejoin:"round"}),a.createElement("path",{d:"M192.2 86c-3 3.9-4.9 7.8-5.4 11.7l13.8 6.6 10.5 67.2-3.9 1-5.6-24m-9.3 87.7l12 11.3m-36.7-95.2h17.2M180 91.8h-4.5a3 3 0 0 1-3-3v-2.6h-2l2-6.2v-6.2c0-4.5 3.4-9.7 10.7-9.7 5 0 8.4 1 10.2 3 1.4 1.6 2.1 3 2.1 4.2M191 266.4h-22.2c0-1.3 1-2.4 2.2-2.7l11-2.5c2-.7 3-2.1 3-4.1m23-14.1l7.4 5.7-13.5 17.4a3 3 0 0 1-.9-3.4l4.8-10c.7-2.1.2-3.8-1.4-5m6.4-75.7c1 1.8 1.7 3.5 2 5.2.7 2.5-.7 7.7 1 12M208 173v6c0 .8.4 1.6 1 2m-83.4-61.2l-20.7-3.8m6.1 4.9c.5 2 1.8 3.4 3.8 3.8 3 .6 4-1.7 9.2-.6m71.4-59.7a8 8 0 0 1 7.8-3.4c8.7.9 6.3 10.8 11.5 18.5 3.7 5.4 9.2 8.1 11.1 9.7 1 .8 2.6 2.4 3.5 4.4.9 1.9 1 4.2.8 6-.6 5-3.4 10.4-13 10.4",stroke:"#3B3E4D",strokeWidth:"2",strokeLinejoin:"round"}),a.createElement("path",{d:"M197 66.5c-.6-1-1.4-1.9-2.5-2.6-1.7-1-3.6 1-1.1 3.3m-34.9 199.3h50.9M173 71c-.8 2.6 1.1 6.8 6.3 6.8h1.2c1 0 1.8.8 1.8 1.8s.8 1.8 1.8 1.8h1.4c.8 0 1.4.6 1.4 1.4v.2c0 .7-.3 1.5-.9 2-.6.5-.7 1.4-.3 2.1.8 1.2 2 2 3.7 2.7m-5.3 170a6 6 0 0 0 4.7.5",stroke:"#3B3E4D",strokeWidth:"2",strokeLinejoin:"round"})),a.createElement("path",{d:"M62 99h-5m6.3-4.6L59 92m7.8-1l-2.5-4.2M72 90v-5",stroke:"#3B3E4D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),a.createElement("path",{d:"M77 104v13",stroke:"#15C39A",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))))},c=function(e){var t=e.className,n=e.width,s=void 0===n?"10rem":n;return a.createElement("div",r.__assign({},Object(i.classes)(t,o.wrapper,o.noIssuesFound)),a.createElement("svg",{height:"100%",viewBox:"0 0 148 258",width:s},a.createElement("defs",null,a.createElement("rect",{id:"a",width:"148",height:"105",rx:"15"})),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M-53-13h272v288H-53z"}),a.createElement("g",{transform:"translate(0 103)"},a.createElement("mask",{id:"b",fill:"#fff"},a.createElement("use",{xlinkHref:"#a"})),a.createElement("use",{fill:"#6FC8E3",xlinkHref:"#a"}),a.createElement("g",{mask:"url(#b)",fill:"#84D5EE"},a.createElement("path",{d:"M102.8-3h32.3L118.6 7 102.8-3zm-7.7 25.2v-20l21.1 13.6a4.3 4.3 0 0 0 4.6 0L143 2.3v20H95zm-4.3 8.6h56.6c2.4 0 4.3-1.9 4.3-4.3V-7.3c0-2.3-2-4.3-4.3-4.3H90.8c-2.4 0-4.3 2-4.3 4.3v33.8c0 2.4 1.9 4.3 4.3 4.3zm43.5 70c-2-1.2-4.7-.5-5.9 1.5l-15.8 27-9.1-8.8a4.3 4.3 0 0 0-6 6.2l13 12.5a4.3 4.3 0 0 0 6.7-.9l18.7-31.6c1.2-2 .5-4.7-1.6-5.9m-118-60.2h61.2a4.3 4.3 0 1 0 0-8.6H16.3a4.3 4.3 0 1 0 0 8.6m0 18.6h61.2a4.3 4.3 0 1 0 0-8.6H16.3a4.3 4.3 0 1 0 0 8.6m107.4 90.4H62.5a4.3 4.3 0 1 0 0 8.6h61.2a4.3 4.3 0 1 0 0-8.6m-20.3-79.9H93a4.3 4.3 0 1 0 0 8.6h10.4a4.3 4.3 0 1 0 0-8.6m0 18H93a4.3 4.3 0 1 0 0 8.6h10.4a4.3 4.3 0 1 0 0-8.6m45.3-18h-29.3a4.3 4.3 0 1 0 0 8.6h29.3a4.3 4.3 0 1 0 0-8.6m-99.4 0h-33a4.3 4.3 0 1 0 0 8.6h33a4.3 4.3 0 1 0 0-8.6m0 18.2h-33a4.3 4.3 0 1 0 0 8.6h33a4.3 4.3 0 1 0 0-8.6m-32.6 76.6a5 5 0 1 0-.2-9.9 5 5 0 0 0 .2 9.9m86.8-108a5 5 0 1 0-9.9 0 5 5 0 0 0 9.9 0M36.9 20.4a5 5 0 1 0-.2-9.9 5 5 0 0 0 .2 9.9m0-18.4a5 5 0 1 0-.2-9.8A5 5 0 0 0 37 2m37.5 111.8a9.1 9.1 0 1 1 0 18.3 9.1 9.1 0 0 1 0-18.3m0 26.9a17.8 17.8 0 1 0 0-35.6 17.8 17.8 0 0 0 0 35.6m72.8-100.3c-2.3 0-4.3 2-4.3 4.3a9.1 9.1 0 0 1-18.3 0 4.3 4.3 0 0 0-8.6 0 17.8 17.8 0 0 0 35.5 0c0-2.4-1.9-4.3-4.3-4.3M17 20.6c2.3 0 4.2-1.9 4.2-4.3V-3.6a4.3 4.3 0 0 0-8.6 0v20c0 2.3 2 4.2 4.3 4.2M77 69.5a4.3 4.3 0 0 0-4.3 4.2l-.2 18.4c0 2.4 1.9 4.3 4.3 4.4 2.4 0 4.3-2 4.3-4.3l.2-18.4c0-2.4-1.8-4.3-4.2-4.3M55.4 19.3a4.3 4.3 0 0 0 6 0l4.5-4.4 4.4 4.4a4.3 4.3 0 1 0 6.1-6L72 8.7l4.4-4.4a4.3 4.3 0 1 0-6-6.1l-4.5 4.4-4.4-4.4a4.3 4.3 0 0 0-6.1 6l4.4 4.5-4.4 4.4a4.3 4.3 0 0 0 0 6.1M13.3 129.8a4.3 4.3 0 0 0 6 0l4.5-4.4 4.5 4.4a4.3 4.3 0 1 0 6-6l-4.4-4.5 4.4-4.4a4.3 4.3 0 1 0-6-6.1l-4.5 4.4-4.4-4.4a4.3 4.3 0 0 0-6.1 6l4.4 4.5-4.4 4.4a4.3 4.3 0 0 0 0 6.1m30.7 7.7c-2.4 0-4.4 2-4.4 4.3V162a4.3 4.3 0 0 0 8.7 0v-20.2c0-2.3-2-4.3-4.4-4.3"}))),a.createElement("path",{d:"M113.6 216.4l-26-58.8 2-6-2-3.6 3.6-29.7 3-16.8H87l-2.2 7.2-8 3.4v-9.2l-17.1-.9 5.4 6.7c.5 2.5.5 3.6 0 3.4-.3-.2-2.8-1.4-7.6-4.7-.6-.3-1.3-2.3-2-5.9h-8l3.8 22.3 4.1 24.2-1.3 3.6 1.3 6v58.8h11.4l6.9-42.7 26.9 42.7h13z",fill:"#FFF"}),a.createElement("path",{fill:"#F1F2FA",d:"M56.5 157.7l31.3-.9 1.5-3.9-1.5-5.9 5.1-41 7.7-30.9h-4.5L85 107.7l-7.9 4.4-2.6 3.2-3.4 1.1-3.6-1.1-2.9-3.2-7.4-4.4-10.3-32.6h-4.1L55.2 147l-1 5.9z"}),a.createElement("path",{d:"M79.2 98c-4.2 1.5-6.4 2.7-6.6 3.8-.3 1.1-.4 6-.4 14.6l4.2-3.4v-5l1-6.2 2.5-3-.7-.7zm.8 57.8l45.1 95.4c2.8 2 3.5 1.4 2.1-1.8L87 155.8h-7z",fill:"#F1F2FA"}),a.createElement("path",{d:"M89.5 111.1c-1.3 4.8-3.8 16-7.5 33.3l1 9.4h5.6l-.8-6.7 4.3-33 7.8-38.5-1.1-1.2c-5.3 21.5-8.4 33.7-9.3 36.7z",fill:"#FFF"}),a.createElement("path",{d:"M73.2 174.8c0-.4 2.6 1.3 3 .6.7-1.1-.4-5.2-1-5.7-2-2-5.6-.3-6.3 2.8-1 4.3-4 29.2-8.9 75h2.2a3193 3193 0 0 0 11-72.7z",fill:"#F1F2FA"}),a.createElement("g",{transform:"translate(22)"},a.createElement("rect",{fill:"#FFF",x:"23.5",y:"12.4",width:"48.2",height:"59.6",rx:"5.6"}),a.createElement("path",{d:"M23.5 55V19.6c0-2.5.3-3.4.8-4.3a5 5 0 0 1 2.1-2.2c1-.5 1.8-.7 4.3-.7h27.4m3.9 0h2.6m4.3.7c.9.5 1.6 1.2 2 2.2.6.9.8 1.8.8 4.3v30.7M65 72H30.5",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("rect",{fill:"#F2F3FA",x:"33.6",y:"23.6",width:"29.1",height:"4.5",rx:"1.1"}),a.createElement("rect",{fill:"#F2F3FA",x:"33.6",y:"32.6",width:"29.1",height:"2.3",rx:"1.1"}),a.createElement("rect",{fill:"#F2F3FA",x:"33.6",y:"39.4",width:"29.1",height:"2.3",rx:"1.1"}),a.createElement("rect",{fill:"#F2F3FA",x:"33.6",y:"46.1",width:"29.1",height:"2.3",rx:"1.1"}),a.createElement("path",{stroke:"#68DEC2",strokeWidth:"2.2",strokeLinecap:"round",d:"M53.8 62.8l2.7 2.5 8.5-7.9"}),a.createElement("path",{d:"M5 7.9a5 5 0 0 0 5 5 5 5 0 0 0-5 5v.1a5 5 0 0 0-5-5 5 5 0 0 0 5-5.1zm92 32.6a5 5 0 0 0 5 5 5 5 0 0 0-5 5.1 5 5 0 0 0-5-5 5 5 0 0 0 5-5z",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("ellipse",{fill:"#3B3E4D",cx:"10.6",cy:"32.1",rx:"1.7",ry:"1.7"}),a.createElement("ellipse",{fill:"#3B3E4D",cx:"21.9",cy:"1.7",rx:"1.7",ry:"1.7"}),a.createElement("ellipse",{fill:"#3B3E4D",cx:"84.6",cy:"24.2",rx:"1.7",ry:"1.7"}),a.createElement("ellipse",{fill:"#3B3E4D",cx:"91.4",cy:"12.9",rx:"1.7",ry:"1.7"})),a.createElement("g",{stroke:"#3B3E4D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"},a.createElement("path",{d:"M49 82.4l-2.7-8.3H42l8.5 46.8 4.5 25.8-1 5.5 1.9 4.4v90.7h6.2l11.1-75.6 30.1 48.7m23.7 26.9l-38.4-88.8-.7-1.9.9-4.4-.9-5.5 3.4-27.6"}),a.createElement("path",{d:"M99.2 79.4l1.3-5.3h-4.8l-10.9 34-8.4 3.7c-1 2.8-2.7 4.2-5.4 4.2s-4.6-1.4-5.8-4.2l-7.8-4.5m3.9 140.6v9H40.6v-.8c0-1 .8-2 1.8-2.2l10.5-2c2-.8 3-2.1 3-4m-20.3 9H67m34.7 0h43.8m-2.3 0v-.8c0-1.1-.8-2-1.8-2.2l-9.9-2a7 7 0 0 1-4.5-4.3m-70.1-90.8h21.3m-23.6-4.5h10.1"}),a.createElement("path",{d:"M60.7 83l3-2.2.6 2.2 3.1-3.5.5 2 3.7-2.8v2h2.2L72.4 85l2.9 3.5 3.5 2.2L78 93l2.4 5c-2.5 2.1-3.8 4-3.8 5.5v7.7m-11.3 1c0-4.2-1-7.1-3.5-8.8-1.9-1.3-4-3.3-5.3-5.8"}),a.createElement("path",{d:"M63.2 104.2c1.4-2.8 2-4.8 1.7-6-.3-1.6-1.1-1.6-1.4-1-.3.5-2.8-.7-1-2.4 1.8-1.7-1.7-3 .4-5 1.3-1.3 2.8-2.3 4.3-3M42 74.3c-.4-2.5-.6-4-.5-4.7.9-6 3.2-7.8 5-8.8 3-1.8 4 6 1.8 6m52.1 7.7c.6-2 .8-3.6.7-4.5a14 14 0 0 0-5.5-9.2c-3-1.8-4 6-1.8 6"})))))},l={NothingToCheck:s,NoIssuesFound:c,NothingToNoIssueFound:c,NoIssueFoundToNothingToCheck:s,EverythingIsClear:function(e){var t=e.className,n=e.width,s=void 0===n?"15rem":n;return a.createElement("div",r.__assign({},Object(i.classes)(t,o.wrapper,o.everythingIsClear)),a.createElement("svg",{height:"100%",viewBox:"0 0 214 215",width:s},a.createElement("defs",null,a.createElement("rect",{id:"a",width:"141",height:"100",rx:"15"})),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M-14-59h272v288H-14z"}),a.createElement("g",{transform:"translate(53 14)"},a.createElement("mask",{id:"b",fill:"#fff"},a.createElement("use",{xlinkHref:"#a"})),a.createElement("use",{fill:"#68DEC2",xlinkHref:"#a"}),a.createElement("g",{mask:"url(#b)",fill:"#FFF",fillOpacity:".3"},a.createElement("path",{d:"M-64 140.8V91.1h17.1a4 4 0 0 0-.2 1.2v15a4 4 0 0 0 4 4H-27v29.5h-37zm37-40.1v2.6h-12V91.8l12 8.9zm6.4-5.3l-15.8-11.6a4 4 0 0 0-2.4-.8H-68a4 4 0 0 0-4 4v58a4 4 0 0 0 4 4h45a4 4 0 0 0 4-4V98.6a4 4 0 0 0-1.6-3.2zM177-15a4 4 0 0 0-5.6 1.5l-14.8 25.2-8.5-8.2a4 4 0 1 0-5.6 5.8L154.6 21a4 4 0 0 0 6.3-.8l17.4-29.6A4 4 0 0 0 177-15m-10 45.7h-57.2a4 4 0 0 0 0 8H167a4 4 0 0 0 0-8m-110.1 74H23.6a4 4 0 0 0 0 8.1H57a4 4 0 0 0 0-8m-.1 17.4H-.3a4 4 0 0 0 0 8H57a4 4 0 0 0 0-8M30.6 140H-.3a4 4 0 0 0 0 8h30.9a4 4 0 0 0 0-8M-8.8 46h-28.9a4 4 0 0 0 0 8h29a4 4 0 0 0 0-8m-58.4 8h12.4a4 4 0 0 0 0-8h-12.4a4 4 0 0 0 0 8M-10 64.2h-57a4 4 0 0 0 0 8h57a4 4 0 0 0 0-8m77-19.6a4.6 4.6 0 1 0-.2-9.2 4.6 4.6 0 0 0 .1 9.2m-56-24.3a4.6 4.6 0 1 0 .1 9.2 4.6 4.6 0 0 0-.1-9.2M-41.6-6.4a4.6 4.6 0 1 0-9.2 0 4.6 4.6 0 0 0 9.2 0M53 139.5a4.6 4.6 0 1 0 .2 9.2 4.6 4.6 0 0 0-.1-9.2M121-2.8a8.6 8.6 0 1 1 0 17.1 8.6 8.6 0 0 1 0-17m0 25a16.6 16.6 0 1 0 0-33.2 16.6 16.6 0 0 0 0 33.3M26.5-13.5a4 4 0 0 0-4-4 8.6 8.6 0 0 1 0-17 4 4 0 0 0 0-8.1 16.6 16.6 0 0 0 0 33.2 4 4 0 0 0 4-4m-62.4 51.6a4 4 0 0 0 0-8 8.6 8.6 0 0 1 0-17.1 4 4 0 0 0 0-8 16.6 16.6 0 0 0 0 33.1M91.8 51.6a4 4 0 0 0-4 4 8.6 8.6 0 0 1-17.1 0 4 4 0 1 0-8 0 16.6 16.6 0 0 0 33 0 4 4 0 0 0-4-4M11.1 35.2a4 4 0 0 0-4 4v24.6a4 4 0 1 0 8 0V39.3a4 4 0 0 0-4-4m17.4 32.5a4 4 0 0 0 4-4V20a4 4 0 1 0-8 0v43.7a4 4 0 0 0 4 4m17.3-73a4 4 0 0 0-4 4v65a4 4 0 1 0 8 0v-65a4 4 0 0 0-4-4m-71.4-1a4 4 0 0 0 5.7 0l4.1-4.1 4.2 4.1a4 4 0 0 0 5.7 0A4 4 0 0 0-6-12l-4.2-4.1 4.2-4.2a4 4 0 0 0-5.7-5.6l-4.2 4.1-4.1-4.1a4 4 0 1 0-5.7 5.6l4.2 4.2-4.2 4.1a4 4 0 0 0 0 5.7m.1 32.5a4 4 0 0 0 5.7 0l4.1-4.2 4.2 4.2a4 4 0 0 0 5.7 0 4 4 0 0 0 0-5.7l-4.2-4.2 4.2-4.1a4 4 0 0 0-5.7-5.7l-4.2 4.2-4.1-4.2a4 4 0 1 0-5.7 5.7l4.2 4.1-4.2 4.2a4 4 0 0 0 0 5.7m89.4-14a4 4 0 0 0 5.7 0L73.6 8l4.2 4.2a4 4 0 0 0 5.7 0 4 4 0 0 0 0-5.7l-4.2-4.1 4.2-4.2a4 4 0 0 0-5.7-5.7l-4.2 4.2-4.1-4.2a4 4 0 1 0-5.7 5.7l4.1 4.2-4.1 4.1a4 4 0 0 0 0 5.7m100.9 53l-13.3-8.8a4 4 0 0 0-4.4 0L135.8 64l-12.5-7.3a4 4 0 0 0-4.2.1l-12.9 8.5a4 4 0 0 0 4.5 6.7l10.7-7.1 12.5 7.3a4 4 0 0 0 4.3-.2l11-7.3 11 7.3a4 4 0 1 0 4.5-6.7M.6 94.5a4 4 0 0 0 2.2-.7l10.8-7.1L26 94a4 4 0 0 0 4.2-.2l11-7.3 11.1 7.3a4 4 0 1 0 4.5-6.7l-13.3-8.8a4 4 0 0 0-4.5 0l-11 7.5-12.5-7.3a4 4 0 0 0-4.3.1l-12.8 8.5a4 4 0 0 0 2.2 7.4m91.8-75.1a4 4 0 0 0-4 4v18.9a4 4 0 1 0 8 0V23.4a4 4 0 0 0-4-4"})),a.createElement("rect",{fill:"#7CA1FF",mask:"url(#b)",x:"-41",y:"-8",width:"69",height:"29",rx:"7"})),a.createElement("path",{d:"M145 215c49.4 0 53.7-1.3 53.7-3s-4.3-3-53.7-3c-49.3 0-89.3 1.3-89.3 3s40 3 89.3 3z",fill:"#F2F3FA"}),a.createElement("g",{transform:"translate(7 1)"},a.createElement("path",{d:"M74 13v12c0 3.1-.3 4.3-1 5.4-.5 1.2-1.4 2-2.6 2.7-1.1.6-2.3.9-5.4.9H46v-1.8c0-6.7.7-9 2-11.5s3.2-4.4 5.7-5.7c2.4-1.3 4.8-2 11.5-2H74z",fill:"#15C39A"}),a.createElement("rect",{fill:"#FFF",width:"69",height:"29",rx:"5"}),a.createElement("rect",{fill:"#F2F3FA",x:"2",y:"7",width:"19",height:"7",rx:"2"}),a.createElement("rect",{fill:"#F2F3FA",x:"29",y:"7",width:"19",height:"7",rx:"2"}),a.createElement("rect",{fill:"#FFF",x:"149",y:"45",width:"53",height:"74",rx:"5"}),a.createElement("path",{d:"M189.7 46h9.9c2.2 0 3 .2 3.8.7a4 4 0 0 1 2 1.9c.4.8.6 1.6.6 3.8v61.2c0 2.2-.2 3-.7 3.8a4 4 0 0 1-1.9 2c-.8.4-1.6.6-3.8.6h-32.1",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("rect",{fill:"#F2F3FA",x:"160",y:"57",width:"32",height:"5",rx:"1"}),a.createElement("rect",{fill:"#F2F3FA",x:"160",y:"67",width:"32",height:"3",rx:"1"}),a.createElement("rect",{fill:"#F2F3FA",x:"160",y:"74",width:"32",height:"3",rx:"1"}),a.createElement("rect",{fill:"#F2F3FA",x:"160",y:"81",width:"32",height:"3",rx:"1"}),a.createElement("rect",{fill:"#F2F3FA",x:"160",y:"88",width:"32",height:"3",rx:"1"}),a.createElement("path",{d:"M100.1 114.1l-10-64.5-26-5.4L44 27.4l2.4-4.3 21.8 12.5L90 36.8l13.6 1.5 1-5.8-4.5-1.3V13l3.5-7.6 9.5-2.8 9.3 2.8 4.7 7.6h19.7l2.4 14.4 4 9.4 5.6 5.5 2 7.3-2 5.2c0 .7-1.9 1.8-5.6 3.5-5.7 2.6-14.3 1.5-21.2-1.2l24.6 37-3.4 3.5-26-33.8v19.1l12.3 31.2h-39.4z",fill:"#FFF"}),a.createElement("path",{d:"M65.6 43.3c-1-.9-1.3-4.3 4.3-2.8a224 224 0 0 1 15.9 5.1c3.2 1.3 4.8 2.7 4.8 4.3a217 217 0 0 1-25-6.6zM167.9 198l-36-103.5-5-11.8V64.2c1.1-2.3 2.2-2.9 3.3-1.7 11.5 12.6 21.1 28.3 24.4 32.8 1 1.4 1-.7 1.2-.8 1.3-.2-20.8-31.4-20.5-31.6 1-.8-2.1-3-2.3-3.5-2.4-6.2-12.6-10.2-14-8.5-1.9 2-.5 12.6 4 31.8l4 9.3 38 106h2.8zM105.2 5.1c-.8 1.5 2 7.6 6.1 8.8 2.8.8 5-.4 7-3.7V4l-3.5-.8h-5.3c-2.3.3-3.7 1-4.3 2z",fill:"#F1F2FA"}),a.createElement("path",{fill:"#A6ADC9",d:"M100.3 18.1v12.6l4 1.9v5.5l3.6 3 3.4.9h6.1l-1-3.9v-5.5l-3.8-.6-4.7-2-2-2v-2.7l1.3-1.6-.5-2-1.6-.7-2.2-1.4-1.6-1.5zM115 201c-2.8 1.8-2.6 3 .3 3.5 3 .5 4.2-.6 3.6-3.5h-4z"}),a.createElement("path",{d:"M118.3 111.6c0-.8 6.8-2 5.7-2.5-2.6-1.5-14.5-1.8-14.5 0 0 2.5 4.4 4.2 4.4 7.8 0 2.4 1.4 30.4 4.4 84.2h2.3l-2.3-89.5zm3.5-105.4c.7 6.7 2.8 9.6 6.3 8.9 5.3-1.1 9.5-2.1 11.2 1.6 1.6 3.8-6 15.6.9 20.5 6.7 5 18.8 12.5 8.5 21.7l10.3-4.8 1.7-4.4v-3.9l-1.7-3.5-2.3-2.3-4-3.6-3-6-1-10.2L146 10l-4.2-5.2-5.6-3.2H130l-5.8 1.7-2.4 3z",fill:"#F1F2FA"}),a.createElement("path",{d:"M161 198.5c-.1 2.2.5 3.6 2 4.1 2.2.7 7.1.6 6.6-.7a21 21 0 0 0-2.3-4l-6.2.6zM43.3 26.5c-4-.4-6.9-1-8.8-1.9-2-.8-3.3-1-4-.4-3.3-1.4-4-2.4-1.8-2.8 2-.5 6.5-1 13.3-1.7l4.7 3.4-3.4 3.4zm113.8 68.1c1.9.5 3.6 1.3 5 2.6 2.2 2 3.7 4.8 3.3 6-.4 1.1-2.3 6.8-6.6 4.3-2.9-1.8-3.7-3-2.4-3.9l-1.8 1.6-.8-5.4-.7-2.1 4-3z",fill:"#A6ADC9"})),a.createElement("path",{d:"M16.6 30H7.4c-2.2 0-3-.2-3.8-.7a4 4 0 0 1-2-1.9c-.4-.8-.6-1.6-.6-3.8V7.4c0-2.2.2-3 .7-3.8a4 4 0 0 1 1.9-2c.8-.4 1.6-.6 3.8-.6h53.7m18.4 0h7m4 0h2m-15 5h4m-61 24h3m77 181.3h41.4m30.2 0h20.3M168.2 101l4 5.6m-6.4-3.6l4.7 6.5m-59.4-76.2v6l-14.2-2-21.6-.4-21.8-13.3-3 4.6 21 16.4 25.4 5.8L120 202h7.6l-2.1-89.5m21.3 44.9l19.8 41.6h8.3a21825.3 21825.3 0 0 0-24.6-71A5945 5945 0 0 0 139 96c-2.4-6.7-3.9-8.8-5-13.3-.6-3-.6-8.9 0-17.5m25.5 33.2l4.1-2.9-18.2-28",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M113 34l-4-1.4a3 3 0 0 1-2-2.8v-13c.2-8.7 4.2-13 12-13 2.6 0 4.9.4 6.8 1M104 88l19.4 2.3m6.1-85.6c-1.2-1-6.3-.5-4.2 6m3.5-3.9c2.7-3 6.1-4.5 10.3-4.5 6.3 0 13.5 4.4 15.6 13.7 2.1 9.2-.6 17.7 8.3 24.4 9 6.6 4.5 19-7.3 19.7m4.3 38.6l1 1.4v6.8a.3.3 0 0 0 .5.2l1.7-2.2 3.7 5.4M53.1 23.6L48.7 21l-15.6 1.3m17.6 5.2c-1.8 1-5.6-.3-7.5-1.5-1.2-.7-3-1.1-5.4-1.1M104 211.3c0-1.3.9-2.4 2.2-2.7l10.9-2.5c2-.7 3-2 3-4.1m-.8 2.8c1.6.7 3.1.9 4.6.5m44.1-6v7.4m20.6 4.7c.4-1.6-.5-3.3-2-4l-7.4-3.4a8 8 0 0 1-4.4-5",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M107.1 14.8c0 2.4 1.7 6.4 5.3 7.1 2 .4 2.2 3 .9 3.7-1 .6-1.2 7.5 9.9 7.5m.5-3.5a35 35 0 0 0 2.2 17.4M111 39.5c2.2 1.8 4.4 3 6.6 3.3",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{stroke:"#68DEC2",strokeWidth:"3",strokeLinecap:"round",d:"M189.8 109.1l2.8 2.9 9.1-9.1"}))))}}},kbau:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("mrSG"),a=n("ERkP"),i=n("mEc7"),o=n("Pe9T"),s=n("il7+"),c=function(e){return"safari"===e?o.e.ACCEPTED_UPLOAD_MIME_TYPES.join(","):o.e.ACCEPTED_UPLOAD_EXTENSIONS.join(",")},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._renderInput=function(e,n){return a.createElement("input",{ref:function(e){return t._inputElement=e},"data-name":"upload-element",type:"file",accept:c(t.context.environment.info.browser),title:t.context.textResources.base.tooltipUploadElementInput,multiple:!1,className:e?s.upload:s.uploadContainer,onChange:function(e){var r="dataTransfer"in e?e.dataTransfer.files:e.target.files,a=t.props.documentUpload.upload(r,n);void 0!==t.props.onUpload&&t.props.onUpload(a)}})},t}return r.__extends(t,e),t.prototype.componentWillUnmount=function(){this.props.documentUpload.navigated()},t.prototype.render=function(){var e=this,t=this.props,n=t.hideTooltip,r=t.showNotification;return n?a.createElement("div",{className:s.uploadContainer,onClick:function(){return e._inputElement&&e._inputElement.click()}},this._renderInput(!0,r)):this._renderInput(!1,r)},t}(i.a)},l3Zs:function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return f});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("Jguk"),s=n("6v47"),c=n("ePPH"),l=n("0ZLt"),u=n("crDh");function d(e,t){return void 0===t&&(t=""),u[e+t]}var p=function(e){var t=e.alignment,n=e.onClose,s=e.themes,l=e.triangleCustomStyle,p=e.customStyle,m=e.children,f=e.hideCloseButton,h=e.onMount;return a.createElement(i.F.div,r.__assign({},Object(i.classes)(t.map(function(e){return d(e)}),u.stepWrapper,s&&s.className),{style:p,mount:h}),a.createElement(i.F.span,r.__assign({},Object(i.classes)(t.map(function(e){return d(e,"Triangle")}),u.triangle,s&&s.triangleClassName),{style:l})),a.createElement(o.d.Grammarly,{className:u.alertIcon}),m,!f&&a.createElement(c.a,{name:"onboard-close",className:u.closeIconWrapper,onClick:function(){return n&&n()}},a.createElement(o.d.Close,{className:u.closeIcon,width:12})))},m=function(e){var t=e.title,n=e.description,i=r.__rest(e,["title","description"]);return a.createElement(p,r.__assign({},i),a.createElement("span",{className:u.content},a.createElement(s.P1,{className:u.header},t),a.createElement(s.Base,{className:u.description},n)))},f=function(e){var t=e.onExitClick,n=e.onReviewClick,r=e.unreviewedAlertsCount,o=e.themes,d=void 0===o?{className:u.discoverabilityOnExit,triangleClassName:u.discoverabilityOnExitTriangle}:o,m=i.Atom.create(!1);return a.createElement(p,{hideCloseButton:!0,alignment:i.Atom.create("bottomFlexible"),themes:d},a.createElement("span",{className:u.dicsoverabiltyContent},a.createElement(s.Base,{className:u.description},"This document has ",r," unviewed"," ",r.view(function(e){return e>1?"alerts":"alert"}),"."),a.createElement("div",{className:u.buttonsList},a.createElement(c.a,{name:"onboard-exit",className:u.button,styleType:s.Typography.Type.P1,onClick:function(){return t(!m.get())}},"Exit anyway"),a.createElement(c.a,{name:"onboard-review",className:u.button,styleType:s.Typography.Type.P1,onClick:function(){return n(!m.get())}},"Review now")),a.createElement(l.b,{checked:m,className:u.checkbox,name:"on-exit"},a.createElement(s.Base,{className:u.checkboxText},"Don’t warn me again"))))}},lG5l:function(e,t,n){"use strict";var r=n("ERkP"),a=n("LLwm"),i=function(e){var t=e.title,n=e.author;return r.createElement("section",{className:a.titleSection},r.createElement("h1",{className:t.length<100?a.largeTitle:t.length<200?a.mediumTitle:a.smallTitle},t),r.createElement("p",{className:a.author},"by ",n))},o=n("t2Ba"),s=n("9+xw"),c=function(e){var t=e.stats;return r.createElement("section",{className:s.generalMetricsSection},r.createElement("h2",{className:s.generalMetricsHeader},"General metrics"),r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",{className:s.metrics},r.createElement("td",null,t.chars.toLocaleString("en-US")),r.createElement("td",null,t.words.toLocaleString("en-US")),r.createElement("td",null,t.sentences),r.createElement("td",null,o.DateUtils.convertTimeToShortString(t.readingTime)),r.createElement("td",null,o.DateUtils.convertTimeToShortString(t.speakingTime))),r.createElement("tr",{className:s.text},r.createElement("td",null,"characters"),r.createElement("td",null,"words"),r.createElement("td",null,"sentences"),r.createElement("td",null,"reading",r.createElement("br",null),"time"),r.createElement("td",null,"speaking",r.createElement("br",null),"time")))))},l=n("weRr"),u=(n("5kOx"),n("ZdBI")),d=function(e){var t=e.percentage,n=e.colorType,a=e.iconSize,i=e.description;return r.createElement(l.a,{percentage:t,colorType:n,iconSize:a,description:i,theme:u})},p=n("Jguk"),m=n("5LIq"),f=85,h=60;function g(e){return e>f?l.a.ColorType.eggBlue:e>h?l.a.ColorType.dandelion:l.a.ColorType.radicalRed}var v=function(e){var t=e.issues,n=e.className,a=e.text;return r.createElement("div",{className:n},r.createElement("div",{className:m.issueCounter},t||r.createElement(p.d.Checkmark,null)),a)},b=function(e){var t=e.critical,n=e.advanced;return r.createElement("td",{className:m.issueCounters},r.createElement(v,{className:m.total,issues:t+n,text:"Issues left"}),r.createElement(v,{className:m.critical,issues:t,text:"Critical"}),r.createElement(v,{className:m.advanced,issues:n,text:"Advanced"}))},y=function(e){var t=e.score;return r.createElement("td",null,r.createElement(d,{colorType:g(t),iconSize:l.a.IconSize.pdf,percentage:t}),r.createElement("p",{className:m.text},"This text scores better than ",t,"%",r.createElement("br",null),"of all texts checked by Grammarly"))},_=function(){return r.createElement("section",{className:m.section,"data-name":"no-writing-issues"},r.createElement("table",{className:m.scoreTable},r.createElement("thead",{className:m.sectionHeader},r.createElement("tr",null,r.createElement("th",{className:m.writingIssues},"Writing Issues"))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",{className:m.issuesSummary},r.createElement(p.d.Checkmark,null),r.createElement("span",null,"No issues found"))))))},E=function(e){var t=e.score,n=e.critical,a=e.advanced;return r.createElement("section",{className:m.section,"data-name":"section-score-"+t},r.createElement("table",{className:m.scoreTable},r.createElement("thead",{className:m.sectionHeader},r.createElement("tr",null,r.createElement("th",{className:m.score},"Score"),r.createElement("th",{className:m.writingIssues},"Writing Issues"))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement(y,{score:t}),r.createElement(b,{critical:n,advanced:a})))))},w=function(e){var t=e.score,n=e.critical,a=e.advanced;return n||a?r.createElement(E,{score:t,critical:n,advanced:a}):r.createElement(_,null)},C=n("mEc7"),k=n("mOEe"),S=n("Pb6b"),M=Object(C.f)(function(e,t){var n=e.plagiarismData,a=t.textResources;return r.createElement("section",{className:S.plagiarismSection,"data-name":"section-plagiarism-"+(n.state===k.a.CHECKED?n.score:-1)},r.createElement("h2",{className:S.plagiarismSectionHeader},"Plagiarism"),n.state===k.a.NOT_CHECKED?r.createElement("p",{className:S.text},"This text hasn’t been checked for plagiarism"):n.score<=0?r.createElement("p",{className:S.original},r.createElement(p.d.Checkmark,{className:S.plagiarismMark}),"This text seems 100% original. Grammarly found no matching text on",r.createElement("br",null),"the Internet or in ProQuest’s databases."):r.createElement("table",{className:S.genericTable},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",{className:S.score},r.createElement(d,{colorType:l.a.ColorType.lightVisteria,iconSize:l.a.IconSize.pdf,percentage:n.score,description:"%"})),r.createElement("td",{className:S.sources},r.createElement("div",{className:S.sourcesCount},n.sources),n.sources>1?"sources":"source")),r.createElement("tr",null,r.createElement("td",{colSpan:2,className:S.scoreDescription},a.denali.performance.report.plagiarismDescription(n.score,n.sources))))))}),A=n("cpQu"),T=function(e){var t=e.maxIssues,n=e.count/t*100;return n>94&&n<98?n=94:n>=98&&(n=100),r.createElement("div",{className:A.progressBarBg},r.createElement("div",{className:A.issueProgressBar,style:{width:n+"%"}}))},x=function(e){var t=e.category,n=e.categoryIssues;return r.createElement("tr",{className:A.temporaryHeader},r.createElement("th",{className:A.categoryAmount},r.createElement("div",{className:n>99?A.oval:A.circle},n)),r.createElement("th",{className:A.categoryTitle},t),r.createElement("th",{className:A.progressBarCell}))},O=function(e){var t=e.issues,n=0;return r.createElement("section",{className:A.writingIssuesSection},r.createElement("h2",{className:A.sectionHeader},"Writing Issues"),Object.entries(t).map(function(e){var t=e[0],r=e[1],a=0;return{category:t,issues:Object.entries(r).map(function(e){var t=e[0],r=e[1];return r>n&&(n=r),a+=r,{name:t,count:r}}),issuesCount:a}}).map(function(e){var t=e.category,a=e.issuesCount,i=e.issues;return r.createElement("table",{key:t,className:A.writingIssuesTable},r.createElement("thead",{className:A.issueHeader},r.createElement(x,{category:t,categoryIssues:a})),r.createElement("tbody",null,i.map(function(e){var t=e.name,a=e.count;return r.createElement("tr",{key:t,className:A.issueContent},r.createElement("td",{className:A.issueAmount},a),r.createElement("td",{className:A.issueTitle},t),r.createElement("td",null,r.createElement(T,{maxIssues:n,count:a})))})))}))},N=n("jW1I");n.d(t,"e",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return w}),n.d(t,"c",function(){return M}),n.d(t,"f",function(){return O}),n.d(t,"a",function(){return N.b})},mOEe:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return p});var r,a=n("CB9K"),i=n("ASSm"),o=n("oZTP"),s=n("xEd5"),c=n("t2Ba"),l=n("n3Ao"),u=n("p9uY"),d=n("fOM/");!function(e){e[e.CHECKED=0]="CHECKED",e[e.NOT_CHECKED=1]="NOT_CHECKED"}(r||(r={}));var p,m=12e3,f=function(){function e(e,t,n,c){var u=this;this._engine=e,this._profile=t,this._features=n,this._notificationsManager=c,this._log=s.Monitoring.Logging.getLogger("ReportViewModelImpl"),this.reportData=o.Atom.create(i.None),this.downloadStarted=o.Atom.create(!1),this._requestSent=o.Atom.create(!1),this.beginDownload=function(){return u.downloadStarted.set(!0)},this._finishDownload=function(){u.downloadStarted.set(!1),u._requestSent.set(!1)},this._reportModel=a.Observable.combineLatest(this._engine.documentModel.title.view(function(e){return e||"Untitled"}),this._engine.documentModel.recentDocumentStats.switchMap(l.e.toOptionValueOnly),this._engine.documentModel.score.switchMap(l.e.toOptionValueOnly),this._engine.documentModel.counters,this._features.isPremium.switchMap(function(e){return u._engine.plagiarismModel.checkingState.view(function(t){return e?Object(i.Some)(u._engine.documentModel.extraSettings.checkedPlagiarism?{score:t.percent,sources:t.fragments,state:r.CHECKED}:{state:r.NOT_CHECKED}):i.None})}),function(e,t,n,r,a){return Object(i.Some)({title:e,author:u._profile.get().fullName,stats:t,score:n.rank,criticalIssues:r.critical,advancedIssues:r.advanced,issues:u._calculateIssues(u._engine.alertsList.getAllAlertsAsArray().filter(d.a.isAlert)),plagiarism:a})}),this._subs=[this.downloadStarted.switchMap(function(e){return e?a.Observable.fromPromise(u._prepareDownload()).switchMapTo(u._reportModel.first()).timeout(m).catch(function(e){return u._log.error("Error while preparing PDF report",e),u._finishDownload(),u._notificationsManager.enqueue("error").mapTo(i.None)}):a.Observable.of(i.None)}).subscribe(l.e.toAtom(this.reportData))]}return e.prototype._prepareDownload=function(){return this._engine.documentModel.extraSettings.checkedPlagiarism&&!this._features.isFree.get()?this._engine.plagiarismModel.recheck():Promise.resolve()},e.prototype.tryToInterrupt=function(){this._requestSent.get()||this._finishDownload()},e.prototype._calculateIssues=function(e){return e.reduce(function(e,t){var n=u.a.OutcomeId.fromOutcomeId(t.lensId),r=t.toLiteAlert().categoryHuman;return e[n]=e[n]||{},e[n][r]=e[n][r]||0,e[n][r]+=1,e},{})},e.prototype.generateReport=function(e,t,n){this._requestSent.get()||(this._requestSent.set(!0),this._engine.documentModel.generateReport(e,{headerTemplate:t,footerTemplate:n,format:"Letter",marginTop:"70px",marginBottom:"70px"}).then(this._finishDownload))},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e}();!function(e){var t=function(){return function(){this.downloadStarted=o.Atom.create(!1),this.beginDownload=c.noop,this.tryToInterrupt=c.noop,this.generateReport=function(){throw new Error("Method not implemented.")},this.reportData=o.Atom.create(i.None),this.dispose=c.noop}}();e.Mock=t}(p||(p={}))},"n+Au":function(e,t,n){"use strict";var r=n("mrSG"),a=n("ERkP"),i=n("CB9K"),o=n("ASSm"),s=n("oZTP"),c=n("xEd5"),l=n("t2Ba"),u=n("mEc7"),d=n("uYVq"),p=n("Jguk"),m=n("ePPH"),f=n("6v47"),h=n("RCFH"),g=n("UI30"),v=function(){return a.createElement("svg",{width:"128",height:"177"},a.createElement("defs",null,a.createElement("rect",{id:"a",y:"14",width:"128",height:"128",rx:"64"})),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("ellipse",{fill:"#F1F2FA",cx:"64",cy:"173",rx:"48",ry:"4"}),a.createElement("path",{d:"M27 0h62a5 5 0 0 1 5 5v91a5 5 0 0 1-5 5H24a5 5 0 0 1-5-5V8a8 8 0 0 1 8-8z",fill:"#F1F2FA"}),a.createElement("mask",{id:"b",fill:"#fff"},a.createElement("use",{xlinkHref:"#a"})),a.createElement("use",{fill:"#A2BCFF",xlinkHref:"#a"}),a.createElement("path",{d:"M116.708 48.783a4.144 4.144 0 0 1 5.672-1.465 4.138 4.138 0 0 1 1.466 5.667l-17.955 30.462a4.141 4.141 0 0 1-3.57 2.039 4.145 4.145 0 0 1-2.879-1.164l-12.527-12.1a4.138 4.138 0 0 1-.099-5.855 4.144 4.144 0 0 1 5.858-.099l8.747 8.45 15.287-25.935zm-63.446 45.53h58.877a4.141 4.141 0 0 1 4.142 4.139 4.141 4.141 0 0 1-4.142 4.14H53.262a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zM8.793 17.33h31.735a4.141 4.141 0 0 1 4.143 4.14 4.141 4.141 0 0 1-4.143 4.14H8.793a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zm0 17.526h31.735a4.141 4.141 0 0 1 4.143 4.14 4.141 4.141 0 0 1-4.143 4.14H8.793a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zm4.99 68.985a4.74 4.74 0 0 1-4.686 4.794 4.74 4.74 0 0 1-.111-9.477 4.74 4.74 0 0 1 4.798 4.683zm16.757 16.106a4.141 4.141 0 0 1 4.142-4.14 4.141 4.141 0 0 1 4.143 4.14c0 9.416-7.665 17.076-17.087 17.076S4.65 129.363 4.65 119.947a4.141 4.141 0 0 1 4.143-4.14 4.141 4.141 0 0 1 4.143 4.14c0 4.85 3.948 8.796 8.802 8.796 4.853 0 8.802-3.946 8.802-8.796zM8.793 76.46c-1.06 0-2.12-.405-2.93-1.213a4.138 4.138 0 0 1 0-5.855l4.274-4.27-4.273-4.27a4.138 4.138 0 0 1 0-5.855 4.145 4.145 0 0 1 5.859 0l4.273 4.27 4.273-4.27a4.144 4.144 0 0 1 5.858 0 4.138 4.138 0 0 1 0 5.855l-4.273 4.27 4.274 4.27a4.138 4.138 0 0 1-2.93 7.068c-1.06 0-2.12-.405-2.929-1.213l-4.273-4.27-4.273 4.27a4.133 4.133 0 0 1-2.93 1.213zm87.342 44.285l13.678 9.075a4.138 4.138 0 0 1 1.16 5.739 4.144 4.144 0 0 1-5.743 1.159l-11.387-7.555-11.386 7.555a4.143 4.143 0 0 1-4.378.128l-12.844-7.478-11.078 7.35c-.705.468-1.5.691-2.288.691a4.14 4.14 0 0 1-2.295-7.589l13.227-8.776a4.144 4.144 0 0 1 4.377-.128l12.844 7.478 11.53-7.65a4.145 4.145 0 0 1 4.583 0zM31.23 86.814a4.141 4.141 0 0 1 4.142-4.14 4.141 4.141 0 0 1 4.143 4.14v19.402a4.141 4.141 0 0 1-4.143 4.14 4.141 4.141 0 0 1-4.142-4.14V86.814z",fill:"#BDCFFF",mask:"url(#b)"}),a.createElement("path",{d:"M36 12h65a5 5 0 0 1 5 5v88a8 8 0 0 1-8 8H36a5 5 0 0 1-5-5V17a5 5 0 0 1 5-5z",fill:"#7CA1FF",mask:"url(#b)"}),a.createElement("rect",{fill:"#FFF",x:"25",y:"6",width:"75",height:"101",rx:"5"}),a.createElement("path",{d:"M38 21h49a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H38a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1zm0 13h32a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H38a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1z",fill:"#F1F2FA"})))},b=n("YWUB"),y=n("n3Ao"),_=n("vgpX"),E=n("nQSW");n.d(t,"a",function(){return k}),n.d(t,"c",function(){return S}),n.d(t,"d",function(){return M}),n.d(t,"e",function(){return w}),n.d(t,"b",function(){return x});var w,C,k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._loadingState=s.Atom.create(t.props.statsLoadingState),t._buttonState=s.Atom.combine(t.props.reportViewModel.downloadStarted,t._loadingState,function(e,n){return t._getButtonState(e,n)}),t}return r.__extends(t,e),t.prototype._getButtonState=function(e,t){var n=this.context.textResources.denali.performance;return e?{disabled:!0,className:_.preparingForReportLabel,children:a.createElement("span",{key:"stats-load-container",className:_.loaderContainer},n.report.preparingPdfReport,a.createElement(g.a,{size:20,variation:"gray",wrapperClassName:_.downloadPdfSpinner}),a.createElement(d.a,{reportViewModel:this.props.reportViewModel}))}:Object.assign({className:_.downloadPdfReportButton,children:a.createElement("span",{key:"download-button"},a.createElement(p.d.Download,{className:_.downloadIcon}),n.report.downloadPdfReport)},t===w.READY?{disabled:!1}:{disabled:!0,title:t===w.SHORT_CONTENT?n.notEnoughTextToGenerateReport:void 0})},t.prototype.componentWillUnmount=function(){this.props.reportViewModel.tryToInterrupt()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillReceiveProps=function(e){var t=e.statsLoadingState;this._loadingState.set(t)},t.prototype.render=function(){return a.createElement(m.a.Caps,{name:"download-pdf-report",title:this._buttonState.view("title"),className:this._buttonState.view("className"),disabled:this._buttonState.view("disabled"),onClick:this.props.reportViewModel.beginDownload},this._buttonState.view("children"))},t}(u.a),S=Object(u.f)(function(e,t){var n=e.close,r=e.reportViewModel,i=e.statsLoadingState,o=t.environment;return a.createElement(h.a.Footer,{className:_.modalFooter},o.has(E.b.Flag.supportsDownloadPDF)?a.createElement(k,{statsLoadingState:i,reportViewModel:r}):null,a.createElement(m.a.Primary,{name:"close-stats",onClick:n},"Close"))}),M=Object(u.f)(function(e,t){var n=t.textResources;return a.createElement(h.a.Body,{name:"loadingPerformanceBody",className:_.modalBody},a.createElement(f.H2,null,n.denali.performance.title),a.createElement(g.a,{size:64,className:_.loader,variation:"blue"}))}),A=Object(u.f)(function(e,t){var n=t.textResources;return a.createElement(h.a.Body,{name:"emptyPerformanceBody",className:_.modalBody},a.createElement(f.H2,null,n.denali.performance.title))});!function(e){e[e.ERROR=0]="ERROR",e[e.EMPTY=1]="EMPTY",e[e.LOADING=2]="LOADING",e[e.SHORT_CONTENT=3]="SHORT_CONTENT",e[e.READY=4]="READY"}(w||(w={})),function(e){e[e.DISABLED=0]="DISABLED",e[e.ACTIVE=1]="ACTIVE",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.TOO_SHORT=3]="TOO_SHORT"}(C||(C={}));var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._performanceState=y.e.promiseToStream(function(){return t.props.documentModel.calculateStats()}).combineLatest(t.props.documentModel.checkingState,function(e,t){return"idle"!==t?o.None:e}).switchMap(function(e){return e.map(function(e){return e.fold(function(e){return c.Monitoring.Logging.getLogger("editor.toolbar").error("Error on requesting document stats",e),t._close(),t.context.notifications.showMessage("Error on requesting document statistics. Please try again later."),i.Observable.of({type:w.ERROR})},function(e){return t.props.documentModel.score.view(function(t){return{type:t.fold(function(){return w.SHORT_CONTENT},function(){return w.READY}),stats:e}})})}).getOrElse(i.Observable.of({type:w.LOADING}).delay(150))}).startWith({type:w.EMPTY}),t._close=function(){t.props.visible.set(!1)},t}return r.__extends(t,e),t.prototype._getContent=function(e){var t=this.props,n=t.documentModel,r=t.successLensViewModel;switch(e.type){case w.ERROR:return null;case w.EMPTY:return a.createElement(A,{key:"empty"});case w.LOADING:return a.createElement(M,{key:"loading"});case w.SHORT_CONTENT:return a.createElement(O,{key:"emptyBody"});case w.READY:return a.createElement(b.a,{key:"body",stats:e.stats,documentModel:n,successLensViewModel:r});default:return Object(l.assertNever)(e)}},t.prototype.render=function(){var e=this,t=this.props.reportViewModel;return a.createElement(h.a,{className:_.wrapper},this._performanceState.map(function(n){return a.createElement(a.Fragment,{key:"performance-modal"},e._getContent(n),a.createElement(S,{key:"footer",statsLoadingState:n.type,reportViewModel:t,close:e._close}))}))},t}(u.a),x=function(e){var t=e.documentModel,n=e.successLensViewModel,r=e.reportViewModel,i=e.visible;return a.createElement(h.b,{visible:i,animate:!0,smallResolution:"resize"},a.createElement(T,{documentModel:t,visible:i,reportViewModel:r,successLensViewModel:n}))},O=Object(u.f)(function(e,t){var n=t.textResources;return a.createElement(a.Fragment,null,a.createElement(h.a.Header,{className:_.modalHeader},a.createElement(f.H2,null,n.denali.performance.title)),a.createElement(h.a.Body,{name:"zeroPerformanceBody",className:_.emptyBody},a.createElement("div",{className:_.zeroStateContainer},a.createElement(v,null),a.createElement("div",{className:_.zeroStateText},n.denali.performance.notEnoughTextToCalculateStats))))})},okgj:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("t2Ba"),s=n("FTyx"),c=n("mEc7"),l=n("zwFA"),u=n("IGo4"),d=n("nQSW"),p=n("qbMg"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t}(s.a),f=function(e,t){var n=function(e){return e+" "+p.transitionDelay};return e&&e.type===u.a.SuccessType.large&&t.type===u.a.SuccessType.small?{prev:{start:{main:p.fadeOutEnd,secondary:p.fadeOutEnd},end:{main:p.fadeOutEnd,secondary:p.fadeOutEnd}},next:{start:{main:p.visible,secondary:p.fadeInStart},end:{main:p.visible,secondary:p.fadeInEnd}}}:e&&e.type===u.a.SuccessType.small&&t.type===u.a.SuccessType.large?{prev:{start:{main:p.fadeOutEnd,secondary:p.fadeOutStart},end:{main:p.fadeOutEnd,secondary:p.fadeOutEnd}},next:{start:{main:p.visible,secondary:p.visible},end:{main:p.visible,secondary:p.visible}}}:{prev:{start:{main:p.fadeOutStart,secondary:p.fadeOutStart},end:{main:p.fadeOutEnd,secondary:p.fadeOutEnd}},next:{start:{main:n(p.fadeInStart),secondary:n(p.fadeInStart)},end:{main:n(p.fadeInEnd),secondary:n(p.fadeInEnd)}}}},h=function(e){return function(t,n,r){switch(void 0===r&&(r=Object(l.a)(e)),t){case u.a.SuccessType.zero:return a.createElement(r.NothingToCheck,{key:"nothing-to-check",animate:n});case u.a.SuccessType.small:case u.a.SuccessType.large:return a.createElement(r.NoIssuesFound,{key:"no-issues-found",animate:n});case u.a.SuccessType.applied:return a.createElement(r.EverythingIsClear,{key:"everything-is-clear",animate:n});default:return Object(o.assertNever)(t)}}},g=Object(c.f)(function(e,t){var n=e.state,s=e.preventAnimation,c=e.children,g=t.textResources,v=t.environment,b=n.get(),y=!v.has(d.b.Flag.supportsLottie);return a.createElement(i.F.div,{className:p.successContainer},n.pairwise().map(function(e){var t=e[0];return function(e,t,n,r){void 0===r&&(r=!0);var i=Object(l.a)(n);switch(e){case u.a.SuccessType.zero:return t===u.a.SuccessType.large||t===u.a.SuccessType.small?a.createElement(i.NoIssueFoundToNothingToCheck,{key:"no-issue-found-to-nothing-to-check",animate:r}):h(n)(e,r,i);case u.a.SuccessType.applied:return h(n)(e,r,i);case u.a.SuccessType.large:case u.a.SuccessType.small:return t===u.a.SuccessType.zero?a.createElement(i.NothingToNoIssueFound,{key:"nothing-to-no-issue-found",animate:r}):h(n)(e,r&&t!==u.a.SuccessType.large&&t!==u.a.SuccessType.small,i);default:return Object(o.assertNever)(e)}}(e[1],t,y,!s)}).startWith(h(y)(b,!s)),a.createElement(m,{className:p.animationWrapper,state:n.map(function(e){return function(e,t){var n=t.denali.successLens;switch(e){case u.a.SuccessType.zero:return r.__assign({},n.emptyText,{type:u.a.SuccessType.zero});case u.a.SuccessType.small:return r.__assign({},n.smallText,{type:u.a.SuccessType.small});case u.a.SuccessType.large:return r.__assign({},n.largeText,{type:u.a.SuccessType.large});case u.a.SuccessType.applied:return{title:n.fixedText.titles[Object(o.rand)(9)],type:u.a.SuccessType.applied};default:return Object(o.assertNever)(e)}}(e,g)}),stateToClassMapper:f},function(e){var t=e.state,n=e.view;return a.createElement("div",{"data-name":"success-lens-text",key:t.type,className:p.textWrapper},a.createElement(i.F.div,r.__assign({key:"title"},Object(i.classes)(p.successTitle,n.map(function(e){return e.main}))),t.title),a.createElement("div",{className:p.successContent},a.createElement(i.F.div,{key:"firstLine",className:n.map(function(e){return e.main})},t.firstLine),a.createElement(i.F.div,{key:"secondLine",className:n.map(function(e){return e.secondary})},t.secondLine),c?a.createElement(i.F.span,{className:n.map(function(e){return e.main})},c):null))}))})},p7hf:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("CB9K"),s=n("mEc7"),c=n("t2Ba"),l=n("sWIT"),u=n("NIeu"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDropZoneVisible=i.Atom.create(!1),t.isDropZoneHovered=i.Atom.create(!1),t.timeout=void 0,t.isDocumentUploading=i.Atom.create(!1),t.onLeave=function(){t.isDropZoneVisible.set(!1),t.isDropZoneHovered.set(!1)},t.onDragOver=function(e){return t.isDropZoneVisible.set(!0),t.isDropZoneHovered.set(t.props.canDrop(e)),t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout(function(){return t.onLeave()},100),e.stopPropagation(),e.preventDefault(),!1},t.onDrop=function(e){e.preventDefault(),e.stopPropagation(),t.onLeave(),t.props.canDrop(e)&&(t.isDocumentUploading.set(!0),t.props.documentUpload.upload(e.dataTransfer.files,t.props.showNotification).then(function(){return t.isDocumentUploading.set(!1)}))},t._subs=[],t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this._subs=[o.Observable.fromEvent(document,"dragover").subscribe(this.onDragOver),o.Observable.fromEvent(document,"drop").subscribe(this.onDrop)]},t.prototype.componentWillUnmount=function(){this._unsubscribe(),this.props.documentUpload.navigated()},t.prototype.render=function(){return this.props.render(this.isDropZoneVisible,this.isDropZoneHovered,this.isDocumentUploading)},t.prototype._unsubscribe=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t}(s.a),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this;return a.createElement(d,r.__assign({},this.props,{canDrop:function(e){return c.DOM.hasParentWithClassName(e.target,u.dropzone)},render:function(t,n,o){return a.createElement(i.F.div,r.__assign({},Object(i.classes)(u.dropZoneElement,t.map(function(e){return e&&u.active}),n.map(function(e){return e&&u.hovered}),o.map(function(e){return e&&Object(i.classes)(u.active,u.hovered).className}))),a.createElement(i.F.div,{className:u.dropzone},o.map(function(t){return t?a.createElement("div",{className:u.progressContainer,key:"uploading"},a.createElement("div",{className:u.message},e.context.textResources.base.modalUploadingDocumentText),a.createElement(l.a,{size:18})):a.createElement("div",{className:u.dropzoneMiddleblock,key:"dropAFile"},"Drop a text file here")})))}}))},t}(s.a)},pp17:function(e,t,n){"use strict";var r=n("qHHG"),a=n("CB9K"),i=n("ASSm"),o=n("oZTP"),s=n("xEd5"),c=n("n3Ao"),l=n("t2Ba"),u=n("hQK4"),d=n("p9uY"),p=n("09XH"),m=function(e){var t=e.viewport,n=e.scrollTop,a=e.paddingTop,i=e.completeTransition;return function(e){var o=e.currentLens,s=r.f.getRenderedView(o.visibleCards,t,n-a,r.d),c=!1,l=o.visibleCards.map(function(e,t,n){var a=i(r.f.tryToCompleteAnimation(r.f.tryToChangeVisibility(e,e.position.watched||function(e){return s.from<=e&&s.to>e||o.cardIndex.exists(function(t){return e>=t-r.a&&e<=t+r.a})}(n))));return a!==e?(c=!0,a):e});return c?u.d.Prism.lensCards.set(l,e):e}},f=function(){function e(e,t,n){void 0===n&&(n=c.e.Scheduler.rafScheduler);var f=this;this._stateHolder=e,this._cardsViewModel=t,this._scheduler=n,this._log=s.Monitoring.Logging.getLogger("CardsListScrollManager"),this._validLensOption=this._stateHolder.state.view(u.d.mapper(function(e){var t=e.currentLens;return Object(i.Some)(t)})).map(function(e){return e.filter(function(e){return e.isCardsHeightValid})}),this._scrollTop=o.Atom.create(0),this._paddingTop=o.Atom.create(0),this._viewPort=o.Atom.create({top:p.a.FromWindowTop.ISO.wrap(0),height:0}),this.scrollOffset=new a.Subject,this._tryToCompleteTranstionWithSideEffect=function(e){return!e.position.visible&&e.visualState.incomplete?(f._cardsViewModel.completeTransitionTo.next([e.cardId,e.visualState.transitionId]),e.completeTransition(e.visualState.transitionId)):e},this._visibility=this._validLensOption.map(function(e){return e.map(function(e){return e.id})}).distinctUntilChanged().map(function(e){return e.nonEmpty()}).switchMap(c.e.orEmpty(a.Observable.combineLatest(this._viewPort,this._scrollTop,this._paddingTop,this._validLensOption.distinctUntilChanged(function(e,t){return i.Option.map2(e,t,function(e,t){return e.card.equals(t.card)&&e.visibleCards.size===t.visibleCards.size&&e.visibleCards.keys().every(function(e,n){return t.visibleCards.get(e).exists(function(e){return e.index===n})})}).getOrElse(!1)}).switchMap(this._scheduler)))).filter(function(e){e[0],e[1],e[2];return e[3].nonEmpty()}).map(function(e){return{viewport:e[0],scrollTop:e[1],paddingTop:e[2],completeTransition:f._tryToCompleteTranstionWithSideEffect}}).map(m),this._activeOnResize=l.DOM.windowResize.throttleTime(100).withLatestFrom(this._stateHolder.state.map(u.d.getActiveCard),function(e,t){return t}).switchMap(c.e.toOptionValueOnly).switchMap(function(e){var t=e.cardId;return f.getCardPosition(t,i.None).fold(function(){return a.Observable.empty()},function(e){return f.moveCardToPositionAnimated({cardId:t,position:e})})}),this.applicatorEffect={when:function(e){return d.a.isActiveId(e)},what:u.d.Effect.Applicator.create(a.Observable.merge(a.Observable.merge(this._activeOnResize,this._activeCardFreeze()).switchMapTo(a.Observable.never()),this._visibility))},this.setScrollTop=function(e){f._scrollTop.set(e)},this.setViewport=function(e){f._viewPort.set({top:p.a.FromWindowTop.ISO.wrap(e.top),height:e.height})},this.setTopPadding=function(e){f._paddingTop.set(e)},this.getContentOffset=function(e){var t=f._stateHolder.state.view("currentLens","id").get();return Math.round((t===d.a.SpecialId.AllAlerts?r.b:r.c)*e)},this.cardsViewportState=a.Observable.of(r.e.hidden)}return e.prototype._activeCardFreeze=function(){return this._validLensOption.pairwise().filter(function(e){var t=e[0],n=e[1];return i.Option.map2(t,n,function(e,t){return e.id===t.id&&i.Option.map4(e.card,e.cardIndex,t.card,t.cardIndex,function(e,t,n,r){return e.cardId===n.cardId&&t!==r}).getOrElse(!1)}).getOrElse(!1)}).map(function(e){var t=e[0],n=e[1];return i.Option.map2(t.flatMap(function(e){return e.card}),n.flatMap(function(e){return e.card}),function(e,t){return t.position.absTop-e.position.absTop}).getOrElse(0)}).do(this.scrollOffset)},e.prototype.getCardPosition=function(t,n){var r=this;return i.Try.of(function(){var a=u.d.mapper(function(e){var t=e.currentLens;return Object(i.Some)(t)})(r._stateHolder.state.get());Object(l.invariant)(a.nonEmpty(),"Cannot get position for lens without cards");var o=a.get(),s=o.visibleCards,c=o.cardsHeight;return e._getPosition(s,p.a.AbsTop.ISO.wrap(c),t,n,r._viewPort.get(),r._scrollTop.get(),r._paddingTop.get())}).recover(function(e){throw r._log.error("Cannot get card position",e),e})},e.prototype.moveCardToPositionSync=function(e){var t=this;return this._getOffset(e.cardId,e.position).map(function(e){t.scrollOffset.next(e)})},e.prototype.moveCardToPositionAnimated=function(e){var t=this;return a.Observable.create(function(n){var r=t._getOffset(e.cardId,e.position).fold(function(e){return t._log.error("Cannot set given position",e),n.error(e),a.Subscription.EMPTY},function(e){var r=2*t._viewPort.get().height,a=Math.abs(e)>r?(e>0?1:-1)*r:e,i=e-a;return l.Animation.createAnimationObservable(0,a,200).pairwise().map(function(e){var t=e[0];return e[1]-t}).startWith(i).do(function(e){return t.scrollOffset.next(e)}).subscribe({error:function(e){return n.error(e)},complete:function(){return n.complete()}})});return function(){return r.unsubscribe()}})},e.prototype._getOffset=function(t,n){var r=this,a=this._viewPort.get(),o=this._scrollTop.get(),s=p.a.converters(o,p.a.FromWindowTop.ISO.unwrap(a.top),this._paddingTop.get());return i.Try.of(function(){var i=u.d.getLens(r._stateHolder.state.get()).flatMap(function(e){return e.visibleCards.get(t).map(function(t){return{cardAbsTop:p.a.AbsTop.ISO.wrap(t.value.position.absTop),cardsHeight:p.a.AbsTop.ISO.wrap(e.cardsHeight)}})});Object(l.invariant)(i.nonEmpty(),"Cannot get offset for unknown card");var c=i.get(),d=c.cardAbsTop,m=c.cardsHeight,f=s.absTopToViewportTop(d),h=s.windowToViewport(n),g=e._getNormalizedPosition(f,h,{top:o,bottom:e._getMaxBottomScrollOffset(s.absTopToCardTop(m),a.height,o)});if(p.a.FromViewportTop.equals(g,h))return p.a.FromViewportTop.ISO.unwrap(f)-p.a.FromViewportTop.ISO.unwrap(h);throw new Error("Cannot scroll to given position")})},e._getMaxBottomScrollOffset=function(e,t,n){return Math.max(0,p.a.CardTop.ISO.unwrap(e)-(t+n))},e._getNormalizedPosition=function(e,t,n){var r=p.a.FromViewportTop.ISO.unwrap(e),a=p.a.FromViewportTop.ISO.unwrap(t),i=r-a;return p.a.FromViewportTop.ISO.wrap(i<-n.top?r+n.top:i>n.bottom?r-n.bottom:a)},e._getPosition=function(t,n,a,o,s,c,u,d){var m=this;void 0===d&&(d=!1);var f=p.a.converters(c,p.a.FromWindowTop.ISO.unwrap(s.top),u),h=t.get(a);return Object(l.invariant)(h.nonEmpty(),"Cannot get the position for an absent card"),h.map(function(e){var t=e.value,n=e.index;return{absTop:p.a.AbsTop.ISO.wrap(t.position.absTop),height:t.position.height,index:n}}).flatMap(function(a){var l=a.absTop,u=a.height,h=a.index;return o.map(f.windowToViewport).orElseL(function(){return Object(i.Some)(f.absTopToViewportTop(l))}).map(function(e){var n=r.f.getCardViewportOffset({cardTop:e,cardHeight:u,viewportHeight:s.height,padding:{before:t.getAt(h-1).map(function(e){return e.position.height}).getOrElse(0),after:t.getAt(h+1).map(function(e){return e.position.height}).getOrElse(0)}});return d&&(Object(r.g)(f.viewportToWindow(f.absTopToViewportTop(l)),"existing-top","red"),Object(r.g)(f.viewportToWindow(e),"suggested-top","green")),p.a.FromViewportTop.ISO.modify(p.a.concatC(-n))(e)}).map(function(t){var a=m._getNormalizedPosition(f.absTopToViewportTop(l),t,{top:c,bottom:e._getMaxBottomScrollOffset(f.absTopToCardTop(n),s.height,c)});return d&&Object(r.g)(f.viewportToWindow(p.a.FromViewportTop.ISO.modify(p.a.concatC(1))(a)),"new-top","black"),a})}).map(f.viewportToWindow).get()},e}(),h=function(){function e(){this.applicatorEffect={when:function(){return!1},what:u.d.Effect.Applicator.create(a.Observable.empty())},this.scrollOffset=new a.Subject,this.cardsViewportState=a.Observable.throw("Observable is not implemented.")}return e.prototype.getContentOffset=function(e){throw new Error("Method not implemented.")},e.prototype.setTopPadding=function(e){throw new Error("Method not implemented.")},e.prototype.setScrollTop=function(e){console.warn("Method not implemented.")},e.prototype.setViewport=function(e){console.warn("Method not implemented.")},e.prototype.getCardPosition=function(e,t){throw new Error("Method not implemented.")},e.prototype.moveCardToPositionSync=function(e){throw new Error("Method not implemented.")},e.prototype.moveCardToPositionAnimated=function(e){throw new Error("Method not implemented.")},e}(),g=function(){function e(e,t,n){void 0===n&&(n=c.e.Scheduler.rafScheduler);var l=this;this._stateHolder=e,this._cardsViewModel=t,this._scheduler=n,this._log=s.Monitoring.Logging.getLogger("CardsListScrollManager"),this._validLensOption=this._stateHolder.state.view(u.d.mapper(function(e){var t=e.currentLens,n=e.alertSource;return Object(i.Some)({currentLens:t,alertSource:n})})).map(function(e){return e.filter(function(e){var t=e.currentLens;return t.isCardsHeightValid&&t.card.forAll(function(e){return!e.scheduledToDispose})})}),this._scrollTop=o.Atom.create(0),this._paddingTop=o.Atom.create(0),this._viewPort=o.Atom.create({top:p.a.FromWindowTop.ISO.wrap(0),height:0}),this.scrollOffset=new a.Subject,this.cardsViewportState=this._validLensOption.switchMap(function(e){return e.fold(function(){return a.Observable.of(r.e.hidden)},function(e){return e.currentLens.visibleCards.size>0?a.Observable.combineLatest(l._scrollTop,l._viewPort,l._paddingTop).map(function(t){var n=t[0],a=t[1],i=t[2],o=p.a.converters(n,p.a.FromWindowTop.ISO.unwrap(a.top),i),s=e.currentLens.visibleCards,c=s.getAt(0).map(function(e){return e.position.absTop}).map(p.a.AbsTop.ISO.wrap).map(o.absTopToViewportTop).get(),l=s.getAt(s.size-1).get(),u=p.a.AbsTop.ISO.wrap(l.position.absTop),d=l.position.height,m=o.absTopToViewportTop(u);return p.a.FromViewportTop.ISO.unwrap(m)+d<0?r.e.above:p.a.FromViewportTop.ISO.unwrap(c)>a.height?r.e.below:r.e.hidden}):a.Observable.of(r.e.hidden)})}).debounce(function(e){return e===r.e.hidden?a.Observable.empty():a.Observable.timer(300)}).distinctUntilChanged().shareReplay(1),this._tryToCompleteTranstionWithSideEffect=function(e){return!e.position.visible&&e.visualState.incomplete?(l._cardsViewModel.completeTransitionTo.next([e.cardId,e.visualState.transitionId]),e.completeTransition(e.visualState.transitionId)):e},this._visibility=this._validLensOption.map(function(e){return e.map(function(e){return e.currentLens.id})}).distinctUntilChanged().map(function(e){return e.nonEmpty()}).switchMap(c.e.orEmpty(a.Observable.combineLatest(this._viewPort,this._scrollTop,this._paddingTop,this._validLensOption.map(function(e){return e.map(function(e){return e.currentLens})}).distinctUntilChanged(function(e,t){return i.Option.map2(e,t,function(e,t){return e.card.equals(t.card)&&e.visibleCards.size===t.visibleCards.size&&e.visibleCards.keys().every(function(e,n){return t.visibleCards.get(e).exists(function(e){return e.index===n})})}).getOrElse(!1)}).switchMap(this._scheduler)))).filter(function(e){e[0],e[1],e[2];return e[3].nonEmpty()}).map(function(e){return{viewport:e[0],scrollTop:e[1],paddingTop:e[2],completeTransition:l._tryToCompleteTranstionWithSideEffect}}).map(m),this.applicatorEffect={when:function(e){return d.a.isActiveId(e)},what:u.d.Effect.Applicator.create(a.Observable.merge(a.Observable.merge(this._handleSwitchActiveCard(),this._activeCardFreeze()).switchMapTo(a.Observable.never()),this._visibility))},this.setScrollTop=function(e){l._scrollTop.set(e)},this.setViewport=function(e){l._viewPort.set({top:p.a.FromWindowTop.ISO.wrap(e.top),height:e.height})},this.setTopPadding=function(e){l._paddingTop.set(e)},this.getContentOffset=function(e){var t=l._stateHolder.state.view("currentLens","id").get();return Math.round((t===d.a.SpecialId.AllAlerts?r.b:r.c)*e)}}return e.prototype._handleSwitchActiveCard=function(){return this._validLensOption.switchMap(c.e.toOptionValueOnly).pairwise().filter(function(e){e[0];return"sidebar"===e[1].alertSource}).filter(function(e){var t=e[0].currentLens,n=e[1].currentLens;return t.id===n.id&&t.card.exists(function(e){return n.visibleCards.get(e.cardId).exists(function(e){return!e.value.scheduledToDispose})})&&i.Option.map2(t.card,n.card,function(e,t){return e.cardId!==t.cardId}).getOrElse(!1)}).switchMap(c.e.Scheduler.rafScheduler).map(function(e){var t=e[0].currentLens,n=e[1].currentLens;return i.Option.map2(n.card.flatMap(function(e){return t.visibleCards.get(e.cardId).map(function(e){return e.value})}),n.card,function(e,t){return t.position.absTop-e.position.absTop}).getOrElse(0)}).filter(function(e){return 0!==e}).do(this.scrollOffset)},e.prototype._activeCardFreeze=function(){return this._validLensOption.map(function(e){return e.map(function(e){return e.currentLens})}).pairwise().filter(function(e){var t=e[0],n=e[1];return i.Option.map2(t,n,function(e,t){return e.id===t.id&&i.Option.map4(e.card,e.cardIndex,t.card,t.cardIndex,function(e,t,n,r){return e.cardId===n.cardId&&t!==r}).getOrElse(!1)}).getOrElse(!1)}).map(function(e){var t=e[0],n=e[1];return i.Option.map2(t.flatMap(function(e){return e.card}),n.flatMap(function(e){return e.card}),function(e,t){return t.position.absTop-e.position.absTop}).getOrElse(0)}).do(this.scrollOffset)},e.prototype.getCardPosition=function(t,n){var r=this;return i.Try.of(function(){var a=u.d.mapper(function(e){var t=e.currentLens;return Object(i.Some)(t)})(r._stateHolder.state.get());Object(l.invariant)(a.nonEmpty(),"Cannot get position for lens without cards");var o=a.get().visibleCards;return e._getPosition(o,t,n,r._viewPort.get(),r._scrollTop.get(),r._paddingTop.get())}).recover(function(e){throw r._log.error("Cannot get card position",e),e})},e.prototype.moveCardToPositionSync=function(e){var t=this;return this._getOffset(e.cardId,e.position).map(function(e){t.scrollOffset.next(e)})},e.prototype.moveCardToPositionAnimated=function(e){var t=this;return a.Observable.create(function(n){var r=t._getOffset(e.cardId,e.position).fold(function(e){return t._log.error("Cannot set given position",e),n.error(e),a.Subscription.EMPTY},function(e){var r=2*t._viewPort.get().height,a=Math.abs(e)>r?(e>0?1:-1)*r:e,i=e-a;return l.Animation.createAnimationObservable(0,a,200).pairwise().map(function(e){var t=e[0];return e[1]-t}).startWith(i).do(function(e){return t.scrollOffset.next(e)}).subscribe({error:function(e){return n.error(e)},complete:function(){return n.complete()}})});return function(){return r.unsubscribe()}})},e.prototype._getOffset=function(e,t){var n=this,r=this._viewPort.get(),a=this._scrollTop.get(),o=p.a.converters(a,p.a.FromWindowTop.ISO.unwrap(r.top),this._paddingTop.get());return i.Try.of(function(){var r=u.d.getLens(n._stateHolder.state.get()).flatMap(function(t){return t.visibleCards.get(e).map(function(e){return{cardAbsTop:p.a.AbsTop.ISO.wrap(e.value.position.absTop),cardsHeight:p.a.AbsTop.ISO.wrap(t.cardsHeight)}})});Object(l.invariant)(r.nonEmpty(),"Cannot get offset for unknown card");var a=r.get().cardAbsTop,i=o.absTopToViewportTop(a),s=o.windowToViewport(t);return p.a.FromViewportTop.ISO.unwrap(i)-p.a.FromViewportTop.ISO.unwrap(s)})},e._getPosition=function(e,t,n,a,o,s,c){void 0===c&&(c=!1);var u=p.a.converters(o,p.a.FromWindowTop.ISO.unwrap(a.top),s),d=e.get(t);return Object(l.invariant)(d.nonEmpty(),"Cannot get the position for an absent card"),d.map(function(e){var t=e.value,n=e.index;return{absTop:p.a.AbsTop.ISO.wrap(t.position.absTop),height:t.position.height,index:n}}).flatMap(function(t){var o=t.absTop,s=t.height,l=t.index;return n.map(u.windowToViewport).orElseL(function(){return Object(i.Some)(u.absTopToViewportTop(o))}).map(function(t){var n=r.f.getCardViewportOffset({cardTop:t,cardHeight:s,viewportHeight:a.height,padding:{before:e.getAt(l-1).map(function(e){return e.position.height}).getOrElse(0),after:e.getAt(l+1).map(function(e){return e.position.height}).getOrElse(0)}});return c&&(Object(r.g)(u.viewportToWindow(u.absTopToViewportTop(o)),"existing-top","red"),Object(r.g)(u.viewportToWindow(t),"suggested-top","green")),p.a.FromViewportTop.ISO.modify(p.a.concatC(-n))(t)})}).map(u.viewportToWindow).get()},e}();n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return g})},pt0e:function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return g});var r=n("mrSG"),a=n("yrnK"),i=n("ASSm"),o=n("oZTP"),s=n("xEd5"),c=n("t2Ba"),l=n("fOM/"),u=n("p9uY"),d=n("hQK4"),p=n("rvzg"),m=n("n3Ao"),f=function(){return d.d.create({alertSource:l.b.api,switchOrder:"lensOrder",focusedLensIndex:0,currentLens:p.a.create()})};function h(e,t){return function(n){return n.get(e).fold(t,function(e){return e.value})}}var g=function(){function e(e,t){var n=this;this._alertsList=e,this._positionManager=t,this._log=s.Monitoring.Logging.getLogger("FocusedLensManagerImpl"),this.lenses=this._alertsList.lenses.view(function(e){return e.filter(function(e){return!u.a.isPersistentId(e.id)})}),this.doesLensExist=function(e){return n._alertsList.lenses.get().get(e).nonEmpty()},this.getPersistentLens=Object(c.memoize)(function(e){var t=this;switch(e){case u.a.SpecialId.AllAlerts:return this._alertsList.lenses.view(h(e,function(){return t._alertsList.createLens(u.a.Info.allAlerts,u.a.Meta.empty,l.a.belongsToAllAlerts)}));case u.a.SpecialId.Plagiarism:return this._alertsList.lenses.view(h(e,function(){return t._alertsList.createLens(u.a.Info.plagiarism)}));case u.a.SpecialId.Premium:return this._alertsList.lenses.view(h(e,function(){return t._alertsList.createLens(u.a.Info.premium)}));case u.a.SpecialId.Correctness:case u.a.SpecialId.Clarity:case u.a.SpecialId.Engagement:case u.a.SpecialId.Tone:return this._alertsList.lenses.view(h(e,function(){return t._alertsList.createLens(u.a.Info.createOutcome(e),u.a.Meta.outcomeEmpty)}));default:return Object(c.assertNever)(e)}}),this.findPremiumAlert=function(){return n.getPersistentLens(u.a.SpecialId.Premium).get().count>0?i.Option.of(n._alertsList.getAllAlertsAsSortedArray(function(e){return l.a.isPremium(e)&&l.a.isRegistered(e)})[0]).map(function(e){return{alert:e,highlightIndex:0}}):i.None},this._lensAlerts=function(e){return n._alertsList.getAllAlertsAsSortedArray(function(t){return e.filter(t)&&l.a.isRegistered(t)})},Object(c.registerDebugHelper)("lensesView",function(){return n._log.debug(n.toString())})}return e._mapByActiveLensId=function(e,t,n,r,a){if(u.a.isOutcomeId(e))return r();switch(e){case u.a.SpecialId.Plagiarism:return t();case u.a.SpecialId.Premium:return n();case u.a.SpecialId.AllAlerts:return r();default:return a()}},e._createLens=function(t,n,r){var a=r.map(function(e){var t=e.alert,r=e.highlightIndex;return{alertIndex:n.findIndex(Object(d.h)(t)),highlightIndex:r}});return e._mapByActiveLensId(t.id,function(){return p.c.create(t,n,a)},function(){return p.d.create(t,n)},function(){return p.e.create(t,n,a)},function(){return p.b.create(t,n,a)})},e._transformALEventsToApplicator=function(e){switch(e.kind){case"alert_added":return function(t){return d.d.hasCards(t)?d.d.Prism.getLens().set(t.currentLens.add(e.alerts),t):t};case"alert_updated":return function(t){return d.d.hasCards(t)?t.patch({currentLens:t.currentLens.update(e.alerts),alertSource:i.Option.of(e.alerts.filter(l.a.isApplied).pop()).map(function(e){return e.state.source}).getOrElse(t.alertSource)}):t};case"alert_removed":return function(t){return d.d.hasCards(t)?t.patch({currentLens:t.currentLens.remove(e.alerts)}):t};case"alert_applied":return d.d.Effect.Applicator.Source.identity;default:return Object(c.assertNever)(e)}},e._transformLensesChangesToApplicator=function(e){return function(t){var n=t;return e.get(n.currentLens.id).map(function(e){var t=e.value,r=e.index;return n.patch({currentLens:n.currentLens.updateMeta(t),focusedLensIndex:r})}).getOrElse(n)}},e._filterALEvents=function(e){return function(t){if("alert_applied"===t.kind)return e(t.alert)?a.Observable.of(t):a.Observable.empty();var n=t.alerts.filter(e);return n.length>0?a.Observable.of(r.__assign({},t,{alerts:n})):a.Observable.empty()}},e.prototype.getFirstLensId=function(e){var t=this;return("all-alerts"===e?this.getPersistentLens(u.a.SpecialId.AllAlerts).view(function(e){return e.count?Object(i.Some)(e):i.None}).get():this.lenses.get().getAt(0)).map(function(e){return e.id}).orElseL(function(){return t.getPersistentLens(u.a.SpecialId.Premium).get().count>0?Object(i.Some)(u.a.SpecialId.Premium):i.None})},Object.defineProperty(e.prototype,"emptyState",{get:function(){return d.d.create({currentLens:e._createLens(this.getPersistentLens(u.a.SpecialId.AllAlerts).get(),[],i.None),alertSource:l.b.api,switchOrder:"lensOrder",focusedLensIndex:0})},enumerable:!0,configurable:!0}),e.prototype.getLensEventsByLensId=function(e,t,n){void 0===n&&(n=!0);var r=this._getActiveLensMeta(t),a=this._lensAlerts(r);return this._generateEventsFromState(this._createState(e,n?i.Option.of(a[0]).map(function(e){return{alert:e,highlightIndex:0}}):i.None,r,a))},e.prototype.getLensEventsByAlert=function(e,t,n){Object(c.invariant)(this._alertsList.contains(n.alert.id),"Can't focus non existing alert",n.alert.id);var r=this._getActiveLensMeta(t);return this._generateEventsFromState(e.currentLens.meta.id===t&&e.currentLens.meta.filter(n.alert)&&d.d.hasCards(e)?d.d.Prism.getLens().set(e.currentLens.select(n),e):this._createState(e,Object(i.Some)(n),r,this._lensAlerts(r)))},e.prototype.findClosestAlertHighlight=function(e,t){var n=this;return this._positionManager.findClosestAlertRange(e,function(e){return n._alertsList.containsRegistered(e)&&(!t||t(n._alertsList.get(e)))}).map(function(e){var t=n._alertsList.get(e.alertId);return{alert:t,highlightIndex:t.highlightRanges.findIndex(function(t){return t.isEqualTo(e)})}})},e.prototype.findNextAlertInText=function(e){var t=e.alert,n=e.highlightIndex;return Object(c.invariant)(n<t.highlightRanges.length,"AHI is out of highlightRanges length","hr length: "+t.highlightRanges.length+", ahi: "+n),this.findClosestAlertHighlight(t.highlightRanges[n].end,l.a.isAlert)},e.prototype.findNextAlertInLenses=function(e){var t=void 0,n=this._alertsList.getAllAlertsAsSortedArray(l.a.isRegistered),r=function(e){return void 0!==(t=n.find(function(t){return t.lensId===e.id}))},a=this.lenses.get();return(d.d.hasCards(e)&&a.get(e.currentLens.id).isEmpty()?function(){return a.findFrom(r,Math.min(e.focusedLensIndex,a.size-1))}:function(){return a.findFrom(r,e.focusedLensIndex+1).orElseL(function(){return a.findRightFrom(r,e.focusedLensIndex-1)})})().map(function(){return Object(c.invariant)(void 0!==t,"nextAlert should be defined"),{alert:t,highlightIndex:0}})},e.prototype.toString=function(){return JSON.stringify(this,void 0,2)},e.prototype.toJSON=function(){return{lenses:this.lenses.get(),plagiarism:this.getPersistentLens(u.a.SpecialId.Plagiarism).get()}},e._updateMetaSource=function(e){return function(t){return e.id===t.currentLens.id?d.d.Prism.getLens().set(t.currentLens.updateMeta(e),t):t}},e.prototype._getMetaChangesObservable=function(t){return d.d.isPersistent(t)?this.getPersistentLens(t.currentLens.id).view(e._updateMetaSource):d.d.isLensview(t)?this.lenses.distinctUntilChanged(function(e,t){return e.equals(t)}).map(e._transformLensesChangesToApplicator):d.d.Effect.Applicator.Source.empty},e.prototype._generateEventsFromState=function(t){return a.Observable.merge(this._alertsList.alertEvents.switchMap(e._filterALEvents(t.currentLens.meta.filter)).map(e._transformALEventsToApplicator),this._getMetaChangesObservable(t)).startWith(d.d.Effect.Applicator.Source.override(t))},e.prototype._getActiveLensMeta=function(t){var n=this,r=e._mapByActiveLensId(t,function(){return n.getPersistentLens(u.a.SpecialId.Plagiarism).get()},function(){return n.getPersistentLens(u.a.SpecialId.Premium).get()},function(){return n.getPersistentLens(t).get()},function(){return n._alertsList.lenses.get().get(t).map(function(e){return e.value}).orUndefined()});return Object(c.invariant)(void 0!==r,"unknown lensId:"+t),r},e.prototype._createState=function(t,n,r,a){var i=t.alertSource,o=t.switchOrder;Object(c.invariant)(n.forAll(function(e){var t=e.alert;return l.a.isRegistered(t)}),"we can create state only with alert in registered state",function(){return n.getOrElse("null").toString()});var s=e._createLens(r,a,n),u=s.type===d.f.lensview?this.lenses.get().get(s.id).map(function(e){return e.index}).getOrElse(-1):0;return d.d.create({currentLens:s,focusedLensIndex:u,alertSource:i,switchOrder:o})},e}();!function(e){var t=function(){function e(){this.lenses=o.Atom.create(m.a.Sorted.empty("id",u.a.comparator))}return e.prototype.findPremiumAlert=function(){throw new Error("Method not implemented.")},e.prototype.findNextAlertInLenses=function(e){throw new Error("Method not implemented.")},e.prototype.findNextAlertInText=function(e){throw new Error("Method not implemented.")},e.prototype.findClosestAlertHighlight=function(e){throw new Error("Method not implemented.")},e.prototype.getPersistentLens=function(e){if(u.a.isOutcomeId(e))return o.Atom.create(new u.a.LensImpl(u.a.Info.createOutcome(e),u.a.Meta.outcomeEmpty,{}));switch(e){case u.a.SpecialId.AllAlerts:return o.Atom.create(new u.a.LensImpl(u.a.Info.allAlerts,u.a.Meta.empty,{}));case u.a.SpecialId.Premium:return o.Atom.create(new u.a.LensImpl(u.a.Info.premium,u.a.Meta.empty,{}));case u.a.SpecialId.Plagiarism:return o.Atom.create(new u.a.LensImpl(u.a.Info.plagiarism,u.a.Meta.empty,{}));default:return Object(c.assertNever)(e)}},e.prototype.doesLensExist=function(){return!1},e.prototype.getFirstLensId=function(){return i.None},e.prototype.getLensEventsByLensId=function(e,t){throw new Error("Method not implemented.")},e.prototype.getLensEventsByAlert=function(e,t,n){throw new Error("Method not implemented.")},e}();e.Mock=t}(g||(g={}))},q9Ib:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return u});var r,a=n("CB9K"),i=n("ASSm"),o=n("oZTP"),s=n("fOM/"),c=n("t2Ba"),l=n("n3Ao");!function(e){!function(e){e.initial="initial",e.hovered="hovered",e.unhovered="unhovered",e.disabled="disabled"}(e.Type||(e.Type={}))}(r||(r={}));var u,d=300,p=function(){function e(e,t,n,u){var p=this;this._marksVM=e,this._closeEvent=t,this._alertsList=n,this._synonymsViewModel=u,this._hoveredAlertState=o.Atom.create({type:r.Type.initial}),this._subs=[],this._alertHovered=this._marksVM.alertHovered.map(function(e){return e.filter(function(e){return s.a.isRegistered(e.alert)})}),this._delayedAlert=function(e){return l.e.delay(e,d)},this._toMarkAndAlert=function(e){return e.filter(function(e){return p._alertsList.contains(e.alert.id)&&s.a.isRegistered(e.alert)}).flatMap(function(e){return Object(c.invariant)(!s.a.isPlagiarism(e.alert),"Can't hover plagiarism alert"),e.mark.map(function(t){return{mark:t,alert:e.alert}})})},this.state=this._hoveredAlertState.switchMap(function(e){switch(e.type){case r.Type.initial:return p._alertHovered.switchMap(function(e){return e.fold(function(){return a.Observable.of(i.None)},function(e){return p._delayedAlert(Object(i.Some)(e))})});case r.Type.hovered:return p._alertsList.alertEvents.filter(function(t){return"alert_removed"===t.kind&&t.alerts.some(function(t){return t.id===e.ma.alert.id})}).mapTo(i.None);case r.Type.unhovered:return p._alertHovered.switchMap(function(t){return t.fold(function(){return p._delayedAlert(i.Option.empty())},function(t){return t.alert.id===e.ma.alert.id?a.Observable.empty():a.Observable.of(i.None)})}).first().do(function(){requestAnimationFrame(function(){p._hoveredAlertState.set({type:r.Type.initial})})});case r.Type.disabled:return a.Observable.of(i.Option.empty());default:return Object(c.assertNever)(e)}}).distinctUntilChanged().map(this._toMarkAndAlert).do(function(e){return e.forEach(function(){return p._synonymsViewModel.close()})}).share(),this._subs.push(a.Observable.combineLatest(this._alertHovered,this._hoveredAlertState).subscribe(function(e){var t=e[0],n=e[1];t.fold(function(){switch(n.type){case r.Type.hovered:case r.Type.unhovered:break;case r.Type.initial:case r.Type.disabled:p._marksVM.highlightedAlert.set(i.None);break;default:Object(c.assertNever)(n)}},function(e){return p._marksVM.highlightedAlert.set("disabled"===n.type?i.None:Object(i.Some)(e.alert))})}),this._closeEvent.subscribe(function(){p._hoveredAlertState.modify(function(e){return e.type!==r.Type.disabled?{type:r.Type.initial,startWith:i.None}:e})}),this._synonymsViewModel.popupShown.skip(1).subscribe(function(e){return e?p._hoveredAlertState.set({type:r.Type.disabled}):p._hoveredAlertState.set({type:r.Type.initial})}))}return e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype.setAlertHoveredState=function(e){this._hoveredAlertState.set(e)},e}();!function(e){e.DATA_NAME="inline-card",e.isInlineCard=function(t){return!!t&&t.getAttribute("data-name")===e.DATA_NAME}}(u||(u={}))},qHHG:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return p});var r,a=n("ASSm"),i=n("n3Ao"),o=n("09XH");!function(e){e.above="above",e.below="below",e.hidden="hidden"}(r||(r={}));var s,c=5,l=5,u=3.4,d=u+1;!function(e){e.getCardViewportOffset=function(e){var t=e.cardTop,n=e.cardHeight,r=e.viewportHeight,a=e.padding,i=o.a.FromViewportTop.ISO.unwrap(t),s=i+n;return n>r?i:i<0?n+a.before<r?i-a.before:i:s>r?n+a.after<r?s-r+a.after:s-r:i<a.before?n+a.after<r?i-a.after:0:r-s<a.after&&n+a.after<r?a.after-(r-s):0},e.getRenderedView=function(e,t,n,r){return e.size<2||Math.floor(t.height/Math.min(e.getAt(0).get().position.height,e.getAt(1).get().position.height))>=e.size?{from:0,to:e.size}:{from:Math.max(0,i.a.Sorted.lowerBound(e,function(e){return e.position.absTop+e.position.height<n})-r),to:Math.min(e.size,i.a.Sorted.lowerBound(e,function(e){return e.position.absTop<n+t.height})+r)}},e.tryToChangeVisibility=function(e,t){return e.position.visible!==t?e.changePosition(e.position.changeVisible(t)):e},e.tryToCompleteAnimation=function(e){return!e.position.visible&&e.position.animationInProgress?e.changePosition(e.position.changeAnimationInProgress(!1)):e}}(s||(s={}));var p=function(e,t,n){var r=document.createElement("div");return r.setAttribute("data-name",t),r.style.position="fixed",r.style.top=e+"px",r.style.width="100vw",r.style.height="1px",r.style.backgroundColor=n,a.Option.of(document.querySelector("[data-name="+t+"]")).forEach(function(e){return e.parentElement.removeChild(e)}),document.body.appendChild(r),function(){return r.parentElement.removeChild(r)}}},qZDk:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("ASSm"),a=n("oZTP"),i=n("hQK4"),o=n("pt0e"),s=function(){return function(e){void 0===e&&(e=Object(o.b)());var t=this;this.getCardById=function(e){return t.state.view(function(t){return i.d.hasCards(t)?t.currentLens.visibleCards.get(e).map(function(e){return e.value}):r.None})},this.state=a.Atom.create(e),this.focusedCard=this.state.view(i.d.getActiveCard),this.focusedAlert=this.state.view(i.d.getActiveAlert),this.sidebarOpen=this.state.view(i.d.isSidebarOpened)}}()},rJIe:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("ERkP"),a=n("t2Ba"),i=function(e){switch(e.kind){case"ignore":return"Dismissed";case"ignoreAll":return r.createElement("div",null,r.createElement("span",null,e.alerts)," ",a.StringUtils.pluralize(e.alerts,"alert has been","alerts have been")," dismissed");case"replace":return"Corrected";case"replaceSynonym":return"Replaced";case"replaceTransform":return r.createElement("div",null,e.transform);case"addToDictionary":return r.createElement("div",null,r.createElement("b",null,e.word)," has been added to dictionary");case"report":return"Your report has been sent";case"markAsHelpful":return"Marked as “Will address”";case"markAsNotHelpful":return"Marked as “Not helpful”";default:return""}}},"rNz/":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,a=n("yrnK");!function(e){e.emit=function(e){return window.dispatchEvent(new CustomEvent("scrollaction",{detail:e}))},e.observe=a.Observable.fromEvent(window,"scrollaction")}(r||(r={}))},rc17:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("mrSG"),a=n("ERkP"),i=n("CB9K"),o=n("oZTP"),s=n("n3Ao"),c=n("PlcM");function l(e){var t=e.value,n=e.initValue,l=void 0===n?0:n,d=e.wrapperClass,p=e.progressClass,m=e.isLoading,f=void 0===m?i.Observable.of(!1):m,h=o.Atom.create(!1);requestAnimationFrame(function(){return requestAnimationFrame(function(){return h.set(!0)})});var g=i.Observable.combineLatest(s.e.toObservable(t),h,function(e,t){return t?e:l});return a.createElement(o.F.div,r.__assign({},Object(o.classes)(c.wrapper,d)),a.createElement(u,{width:g,progressClass:p,isLoading:f}))}function u(e){var t=e.width,n=e.progressClass,i=e.isLoading,s=t.map(function(e){return e+"%"}),l=t.map(function(e){return e>0?e+.75+"%":0}).startWith(0),u=i.switchMap(function(e){return e?s:"0"});return a.createElement(a.Fragment,null,a.createElement(o.F.div,r.__assign({},Object(o.classes)(c.borderContainer),{style:{width:l}})),a.createElement(o.F.div,r.__assign({},Object(o.classes)(n||c.defaultProgress,c.progressBar),{style:{width:s}})),a.createElement(o.F.div,{className:c.loading,style:{width:u}}))}},rjEp:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),a=n("ERkP"),i=n("CB9K"),o=n("Nh1y"),s=n("t2Ba"),c=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._subs=[],n._mode=n.props.mode||t.Mode.forwards,n}return r.__extends(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype._playWithDelay=function(){var e=this,t=this.props.startOn;t?this._subs.push(t.first().subscribe(function(){e._animation.play()})):this._animation.play()},t.prototype._init=function(){var e=this._animation.getDuration(!0),n=this.props.shiftByPercentage?e*Math.min(100,this.props.shiftByPercentage)/100:0;switch(this._animation.goToAndStop(n,!0),this._mode){case t.Mode.firstFrame:break;case t.Mode.lastFrame:this._animation.goToAndStop(e-n,!0);break;case t.Mode.loopForward:case t.Mode.forwards:this._playWithDelay();break;case t.Mode.loopBackward:case t.Mode.backwards:this._animation.goToAndStop(e-n,!0),this._animation.setDirection(-1),this._playWithDelay();break;default:Object(s.assertNever)(this._mode)}},t.prototype.componentDidMount=function(){var e=this;this._animation=Object(o.loadAnimation)({container:this._el,renderer:"svg",animationData:this.props.animation,loop:this._mode===t.Mode.loopForward||this._mode===t.Mode.loopBackward,autoplay:!1});var n=this.props.onComplete;n&&this._subs.push(i.Observable.fromEventPattern(function(t){return e._animation.addEventListener("complete",t)},function(t){return e._animation.removeEventListener("complete",t)}).subscribe(n)),this._init()},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[],this._animation.destroy()},t.prototype.render=function(){var e=this;return a.createElement("div",{"data-name":this.props.name,className:this.props.className,ref:function(t){return t&&(e._el=t)}})},t}(a.Component);!function(e){!function(e){e.firstFrame="firstFrame",e.lastFrame="lastFrame",e.forwards="forwards",e.backwards="backwards",e.loopForward="loopForward",e.loopBackward="loopBackward"}(e.Mode||(e.Mode={}))}(c||(c={}))},rtYL:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("kwyh"),a=n("ERkP"),i=n("CB9K"),o=n("oZTP"),s=n("t2Ba"),c=n("rNz/"),l=n("n3Ao"),u=n("EsFq"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._outOfTarget=function(e){return function(t){return!s.DOM.Rect.hasPoint(t.getBoundingClientRect(),e)}},t}return r.c(t,e),t.prototype.componentDidMount=function(){this._listenTooltipAppearance()},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[],this.context.hide()},t.prototype.render=function(){return a.createElement(o.F.div,{role:"tooltip"},this.context.state.view(this.props.children))},t.prototype._listenTooltipAppearance=function(){var e=this,t=i.Observable.fromEvent(document,"keydown").filter(function(e){return e.keyCode===s.Keys.ESC_CODE}),n=i.Observable.fromEvent(document,"mousedown").withLatestFrom(this.context.state).filter(function(t){var n=t[0];return t[1].map(function(e){return e.target}).filter(function(){return s.DOM.isDisabled(n.target)}).forAll(e._outOfTarget({x:n.clientX,y:n.clientY}))}),r=i.Observable.merge(t,n,i.Observable.fromEvent(document,"scroll"),c.a.observe.filter(function(e){return"show"===e.detail})).mapTo(l.e.voidValue).share();this._subs=[this.context.hasContent.filter(Boolean).switchMapTo(r.first()).subscribe(this.context.hide),this.context.hasContent.filter(Boolean).switchMapTo(i.Observable.merge(l.e.delay(!0,500),r.mapTo(!1)).first()).filter(Boolean).subscribe(this.context.show)]},t.contextType=u.a.Context,t}(a.Component)},rvzg:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"a",function(){return g});var r,a,i=n("mrSG"),o=n("ASSm"),s=n("hQK4"),c=n("fOM/"),l=n("p9uY"),u=n("t2Ba"),d=n("n3Ao"),p=function(){function e(e,t,n,r,i,o){this.meta=e,this.cardIndex=t,this.kind=o,this.type=s.f.lensview,this.id=this.meta.id,this.cardsHeight=0,this.isCardsHeightValid=!1,Object(u.invariant)(this.cardIndex.forAll(function(e){return e>-1}),"card index should be non negative number"),this.visibleCards=a.updateVisibleCards(n,t,i,r),this.cardsHeight=a.calculateCardsHeight(this.visibleCards),this.isCardsHeightValid=this.card.forAll(function(e){return e.position.isHeightValid})&&this.visibleCards.getAt(a.getRegularIndex(this.cardIndex)).forAll(function(e){return e.position.isHeightValid})}return e.initCardsHash=function(t,n,r){var a=this;Object(u.invariant)(r.forAll(function(e){var t=e.alertIndex;return void 0!==n[t]}),"Can not find alert for provided alertIndex");var i=d.a.Sorted.create(n.map(function(n,i){return r.exists(function(e){var t=e.alertIndex;return i===t})?s.b.createFocused(a.getCardId(t,n),[n],0,r.fold(function(){return 0},function(e){return e.highlightIndex}),e.getCardMeta(n)):s.b.createRendered(a.getCardId(t,n),[n],0,0,e.getCardMeta(n))}),"cardId",s.b.comparator);return{cardIndex:r.flatMap(function(e){var t=e.alertIndex;return i.find(function(e){return e.activeAlert.id===n[t].id})}).map(function(e){return e.index}),hash:i}},e.create=function(t,n,a){var i=e.initCardsHash(t,n,a),c=i.hash;return new e(t,i.cardIndex,c,r.skip,o.None,s.e.active)},e.getCardMeta=function(e){return new s.b.Meta.Impl(100*e.progress,e.explanation,c.a.getCheckingState(e),e.highlightRanges)},e.getCardId=function(e,t){return e.id+"_"+t.id},Object.defineProperty(e.prototype,"activeAlertsCount",{get:function(){return this.card.exists(function(e){return c.a.isCapiDone(e.activeAlert)})&&1===this.visibleCards.size?0:this.meta.count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"card",{get:function(){var e=this;return this.cardIndex.flatMap(function(t){return e.visibleCards.getAt(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldVerify",{get:function(){return this.card.exists(function(e){return e.scheduledToDispose})||this.visibleCards.find(function(e){return!e.scheduledToDispose}).isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"regularHeight",{get:function(){return a.getRegularCard(this.visibleCards,this.cardIndex).filter(function(e){return e.position.isHeightValid&&!e.scheduledToDispose}).map(function(e){return e.position.height})},enumerable:!0,configurable:!0}),e.prototype.add=function(t){var n=this,a=t.map(function(t){return s.b.createAdded(e.getCardId(n.meta,t),[t],0,0,e.getCardMeta(t))}),i=this.visibleCards.add(a),o=this.card.map(function(e){var t=e.cardId;return i.get(t).get().index}),c=o.equals(this.cardIndex)?r.force:r.skip;return new this.constructor(this.meta,o,i,c,this.regularHeight,this.kind)},e.prototype.remove=function(e){var t=this,n=new Set(e.map(function(e){return e.id})),a=this.visibleCards.map(function(e){return n.has(e.activeAlert.id)?e.remove([e.activeAlert],t.card):e}),i=this.cardIndex.flatMap(function(e){return a.findRightFrom(function(e){return e.scheduledToDispose},e).map(function(e){return e.index})}).nonEmpty()?r.skip:r.force;return new this.constructor(this.meta,this.cardIndex,a,i,o.None,this.kind)},e.prototype.update=function(t){var n=this,a=t.map(function(t){return[e.getCardId(n.meta,t),t]}),i=this.visibleCards.modifyWith(a,function(t,n,r){return r.map(function(e){return e.value}).map(function(t){return t.changeMeta(e.getCardMeta(n)).updateWith(n)}).getOrElseL(function(){return s.b.createAdded(t,[n],0,0,e.getCardMeta(n))})}),c=this.card.map(function(e){var t=e.cardId;return i.get(t).get().index});return new this.constructor(this.meta,c,i,r.proceed,o.None,this.kind)},e.prototype.select=function(e){var t=this,n=this.card,a=this.visibleCards.find(function(t){return t.activeAlert.id===e.alert.id});Object(u.invariant)(a.nonEmpty(),"Can not find card for provided alert. Unknown card or it is already disposed.");var i=a.get(),s=i.value,c=i.index,l=n.map(function(e){return t.visibleCards.add(e.unselect(Object(o.Some)(s)))}).getOrElse(this.visibleCards).add(s.select(e,n));return new this.constructor(this.meta,Object(o.Some)(c),l,r.force,this.regularHeight,this.kind)},e.prototype.findNextAlert=function(){var e=this;return this.cardIndex.flatMap(function(t){return u.ArrayUtils.lookAround(e.visibleCards.values(),t,a.cardCanBeFocused)}).map(function(e){return{alert:e.value.activeAlert,highlightIndex:0}})},e.prototype.updateMeta=function(e){return new this.constructor(e,this.cardIndex,this.visibleCards,r.proceed,o.None,this.kind)},e.prototype.changeVisibleCards=function(e){var t=this.card.flatMap(function(t){return e.get(t.cardId).map(function(e){return e.index})});return new this.constructor(this.meta,t,e,r.proceed,o.None,this.kind)},e.prototype.hashCode=function(){var e=7;return 31*(e=31*(e=31*e+Object(o.hashCodeOfString)(this.id))+this.card.hashCode())+this.meta.count},e.prototype.equals=function(e){return this.id===e.id&&this.card.equals(e.card)&&this.meta.equals(e.meta)&&this.visibleCards.equals(e.visibleCards)},e}(),m=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a,i,s.e.persistent)||this;return o.meta=t,o.cardIndex=n,o}return i.__extends(t,e),t.create=function(e,n,a){var i=p.initCardsHash(e,n,a),s=i.hash;return new t(e,i.cardIndex,s,r.skip,o.None)},Object.defineProperty(t.prototype,"isInSuccess",{get:function(){return 0===this.meta.count&&(0===this.visibleCards.size||this.visibleCards.find(function(e){return!e.scheduledToDispose}).isEmpty())},enumerable:!0,configurable:!0}),t}(p),f=function(){function e(e,t){this.meta=e,this.visibleCards=t,this.kind=s.e.active,this.type=s.f.advanced,this.id=l.a.SpecialId.Premium,this.cardIndex=Object(o.Some)(0),this.cardsHeight=0,this.isCardsHeightValid=!1,Object(u.invariant)(this.visibleCards.size>0,"PremiumLensViewImpl should have at least one card")}return e.create=function(t,n){return new e(t,d.a.Sorted.create(n.map(s.b.createFromAlert),"cardId",s.b.comparator))},Object.defineProperty(e.prototype,"card",{get:function(){var e=this;return this.cardIndex.flatMap(function(t){return e.visibleCards.getAt(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldVerify",{get:function(){return this.findNextAlert().isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeAlertsCount",{get:function(){return this.meta.count},enumerable:!0,configurable:!0}),e.prototype.add=function(t){var n=t.map(s.b.createFromAlert);return new e(this.meta,this.visibleCards.add(n))},e.prototype.remove=function(t){var n=new Set(t.map(function(e){return e.id})),r=this.visibleCards.map(function(e){return n.has(e.activeAlert.id)?e.remove([e.activeAlert]):e});return new e(this.meta,r)},e.prototype.update=function(e){var t=u.ArrayUtils.partition(e,c.a.isRegistered),n=t[0],r=t[1];return this.remove(r).add(n)},e.prototype.select=function(e){return this},e.prototype.changeVisibleCards=function(t){return new e(this.meta,t)},e.prototype.findNextAlert=function(){return this.visibleCards.find(a.cardCanBeFocused).map(function(e){return{alert:e.value.activeAlert,highlightIndex:e.value.activeHighlightIndex}})},e.prototype.updateMeta=function(t){return new e(t,this.visibleCards)},e.prototype.hashCode=function(){var e=7;return 31*(e=31*(e=31*e+Object(o.hashCodeOfString)(this.id))+this.card.hashCode())+this.meta.count},e.prototype.equals=function(e){return this.id===e.id&&this.card.equals(e.card)&&this.meta.equals(e.meta)&&this.visibleCards.equals(e.visibleCards)},e}(),h=function(){function e(e,t,n,r,i){this.meta=e,this.cardIndex=t,this.kind=s.e.persistent,this.type=s.f.plagiarism,this.id=l.a.SpecialId.Plagiarism,this.cardsHeight=0,this.isCardsHeightValid=!1,this.visibleCards=a.updateVisibleCards(n,t,i,r),this.cardsHeight=a.calculateCardsHeight(n),this.isCardsHeightValid=this.card.forAll(function(e){return e.position.isHeightValid})&&this.visibleCards.getAt(a.getRegularIndex(this.cardIndex)).forAll(function(e){return e.position.isHeightValid})}return e.create=function(t,n,a){Object(u.invariant)(t.id===l.a.SpecialId.Plagiarism,"Cannot create plagiarism lens vm on non-plagiarism lens",t.id);var i=d.a.Sorted.empty("cardId",s.b.comparator),c=this.groupAlertsByCardId(n),p=a.map(function(e){var t=e.alertIndex;return Object(u.invariant)(void 0!==n[t],"Can not find alert for provided alertIndex"),n[t]}),m=o.None,f=i.modifyWith(c,function(n,r){return p.map(function(e){return r.indexOf(e)}).filter(function(e){return e>-1}).fold(function(){return s.b.createRendered(n,r,0,0,e.getCardMeta(t,r))},function(a){var i=s.b.createFocused(n,r,a,0,e.getCardMeta(t,r));return m=Object(o.Some)(n),i})}),h=m.flatMap(function(e){return f.get(e).map(function(e){return e.index})});return new e(t,h,f,r.skip,o.None)},e.getCardMeta=function(e,t){var n=t.filter(c.a.isRegistered).map(function(e){return e.highlightTexts[0].length}).reduce(u.sum,0),r=e.percentile>0?Math.max(Math.round(e.percentile*n/e.textLength),1):0;Object(u.invariant)(r>=0,"percentile can not be negative"),Object(u.invariant)(r<=100,"percentile can not be above 100");var a=t.map(function(e){return e.highlightRanges[0]});return new s.b.Meta.Impl(r,"",c.a.CheckingState.IDLE,a)},e.updateCardWithLensMeta=function(e){var t=this;return function(n){return n.changeMeta(t.getCardMeta(e,n.alerts))}},e.groupAlertsByCardId=function(e){return d.a.groupBy("cardId",e)},Object.defineProperty(e.prototype,"shouldVerify",{get:function(){return this.card.exists(function(e){return e.scheduledToDispose})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"card",{get:function(){var e=this;return this.cardIndex.flatMap(function(t){return e.visibleCards.getAt(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeAlertsCount",{get:function(){return this.meta.count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"regularHeight",{get:function(){return a.getRegularCard(this.visibleCards,this.cardIndex).filter(function(e){return e.position.isHeightValid}).map(function(e){return e.position.height})},enumerable:!0,configurable:!0}),e.prototype.add=function(t){var n=this,a=e.groupAlertsByCardId(t),i=this.visibleCards.modifyWith(a,function(t,r,a){return a.map(function(e){return e.value.add(r)}).map(e.updateCardWithLensMeta(n.meta)).getOrElseL(function(){return s.b.createAdded(t,r,0,0,e.getCardMeta(n.meta,r))})}),o=this.card.map(function(e){var t=e.cardId;return i.get(t).get().index}),c=o.equals(this.cardIndex)?r.force:r.skip;return new e(this.meta,o,i,c,this.regularHeight)},e.prototype.remove=function(t){var n=this,a=e.groupAlertsByCardId(t),i=this.visibleCards.patchWith(a,function(t,r,a){return a.map(function(t){var a=t.value,i=e.updateCardWithLensMeta(n.meta)(a.remove(r,n.card));return i.activeAlertRemoved&&!i.scheduledToDispose?i.nextAlert().orElseL(function(){return i.prevAlert()}).map(function(e){return i.select({alert:e,highlightIndex:0})}).getOrElse(i):i})});return new e(this.meta,this.cardIndex,i,r.force,o.None)},e.prototype.update=function(e){var t=u.ArrayUtils.partition(e,c.a.isRegistered),n=t[0],r=t[1];return this.remove(r).add(n)},e.prototype.updateMeta=function(t){var n=this.visibleCards.map(e.updateCardWithLensMeta(t));return new e(t,this.cardIndex,n,r.proceed,o.None)},e.prototype.select=function(t){var n=this,a=this.visibleCards.get(t.alert.cardId);Object(u.invariant)(a.nonEmpty(),"Cannot select unknown alert");var i=a.get(),s=i.value,c=i.index,l=this.card.map(function(e){return n.visibleCards.add(e.unselect(Object(o.Some)(s)))}).getOrElse(this.visibleCards).add(s.select(t,this.card));return new e(this.meta,Object(o.Some)(c),l,r.force,this.regularHeight)},e.prototype.changeVisibleCards=function(t){var n=this.card.flatMap(function(e){return t.get(e.cardId).map(function(e){return e.index})});return new e(this.meta,n,t,r.proceed,o.None)},e.prototype.findNextAlert=function(){var e=this;return Object(u.invariant)(this.card.nonEmpty()===this.cardIndex.nonEmpty(),"Lens is in wrong state"),o.Option.map2(this.card,this.cardIndex,function(t,n){return t.nextAlert().orElseL(function(){return t.prevAlert()}).orElseL(function(){return u.ArrayUtils.lookAround(e.visibleCards.values(),n,a.cardCanBeFocused).map(function(e){return e.value.activeAlert})})}).flatMap(function(e){return e}).orElseL(function(){return e.visibleCards.find(a.cardCanBeFocused).map(function(e){return e.value.activeAlert})}).map(function(e){return{alert:e,highlightIndex:0}})},e.prototype.hashCode=function(){var e=7;return 31*(e=31*(e=31*e+Object(o.hashCodeOfString)(this.id))+this.card.hashCode())+this.meta.count},e.prototype.equals=function(e){return this.id===e.id&&this.card.equals(e.card)&&this.meta.equals(e.meta)&&this.visibleCards.equals(e.visibleCards)},e}(),g=function(){function e(){this.kind=s.e.abstract,this.type=s.f.closed,this.meta=l.a.createStaticLens({id:l.a.SpecialId.Closed,title:"Closed"}),this.id=l.a.SpecialId.Closed}return e.create=function(){return e.value},e.prototype.hashCode=function(){return Object(o.hashCodeOfString)(this.id)},e.prototype.equals=function(e){return this.id===e.id},e.value=new e,e}();!function(e){e.skip=function(){return!1},e.force=function(){return!0},e.proceed=function(e){return e.position.animationInProgress}}(r||(r={})),function(e){e.cardCanBeFocused=function(e){return!e.scheduledToDispose&&c.a.isRegistered(e.activeAlert)},e.calculateCardsHeight=function(e){return e.getAt(e.size-1).map(function(e){return e.position.absTop+e.position.height}).getOrElse(0)},e.getRegularIndex=function(e){return e.map(function(e){return 0===e?1:0}).getOrElse(0)},e.getRegularCard=function(t,n){return t.getAt(e.getRegularIndex(n)).map(function(e){return Object(u.invariant)(e.position.watched,"Regular card should be watched"),e})},e.updateVisibleCards=function(t,n,r,a){var i=e.getRegularIndex(n),o=n.flatMap(function(e){return t.getAt(e)}),c=r.orElseL(function(){return t.find(function(e){return e.position.watched&&o.forAll(function(t){return t.cardId!==e.cardId})}).filter(function(e){return e.value.position.isHeightValid&&!e.value.scheduledToDispose}).map(function(e){return e.value.position.height})}),l=0;return t.map(function(e,t,r){var o=n.contains(r),u=o||r===i,d=e.scheduledToDispose||(o?e.position.isHeightValid:c.nonEmpty()),p=e.scheduledToDispose?0:o?e.position.height:c.getOrElse(e.position.height),m=new s.b.PositionState.Impl(l,p,a(e,r),e.position.visible,d,u);return l+=p,e.position.equals(m)?e:e.changePosition(m)})}}(a||(a={}))},s7rr:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,a=n("mrSG"),i=n("ERkP"),o=n("ASSm"),s=n("CB9K"),c=n("oZTP"),l=n("t2Ba"),u=n("xEd5"),d=n("nQSW"),p=n("n3Ao");!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=u.Monitoring.Logging.getLogger("CardsListScrollManagerConnector.Classic",u.Logging.LogLevel.DEBUG),t._elements=c.Atom.create({scrollProvider:o.Option.empty(),scroll:o.Option.empty(),viewport:o.Option.empty(),title:o.Option.empty()}),t._subs=new d.e.Keeper,t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.isMaster&&this._setMaster()},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props.name;this._log.debug("lensview did update",{wasMaster:e.isMaster,nowMaster:this.props.isMaster,name:n}),this.props.isMaster?!1===e.isMaster?(this._log.info("reuse released view",n),this.forceUpdate(function(){t._setMaster(),t._log.trace("view force update complete",n)})):(this._log.trace("set master view",n),this._setMaster()):(this._log.trace("release master view",n),this._clearSubs())},t.prototype.componentWillUnmount=function(){this._clearSubs()},t.prototype.render=function(){return i.Children.only(this.props.children(this._elements))},t.prototype._setMaster=function(){this._setSubs()},t.prototype._setSubs=function(){var e=this.props.cardsListScrollManager;this._clearSubs(),this._subs.push(this._elements.view("scroll").switchMap(function(t){return t.map(function(t){return s.Observable.fromEvent(t,"scroll",function(){return t.scrollTop}).startWith(0).do(e.setScrollTop)}).getOrElse(s.Observable.empty())}).subscribe(),this._elements.view("scroll").switchMap(function(t){return t.forEach(function(e){return e.scrollTop=0}),t.map(function(t){return e.scrollOffset.do(function(e){t.scrollTop+=e})}).getOrElse(s.Observable.empty())}).subscribe(),this._elements.view("viewport").switchMap(function(e){return e.fold(function(){return s.Observable.empty()},function(e){return l.DOM.getResizeObservable(e).map(function(t){return{rect:t,top:e.getBoundingClientRect().top}})})}).subscribe(function(t){var n=t.rect,r=t.top;e.setViewport({top:n.top+r,left:n.left,right:n.right,bottom:n.bottom+r,height:n.height,width:n.width})}),this._elements.view("title").switchMap(function(e){return e.fold(function(){return s.Observable.empty()},function(e){return l.DOM.getResizeObservable(e)})}).map(function(e){return e.height}).subscribe(e.setTopPadding))},t.prototype._clearSubs=function(){this._subs.cleanAll()},t}(i.Component);e.Classic=t;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=u.Monitoring.Logging.getLogger("CardsListScrollManagerConnector.Modern",u.Logging.LogLevel.DEBUG),t._elements=c.Atom.create({scrollProvider:o.Option.empty(),scroll:o.Option.empty(),viewport:o.Option.empty(),title:o.Option.empty()}),t._subs=new d.e.Keeper,t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.isMaster&&this._setMaster()},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props.name;this._log.debug("lensview did update",{wasMaster:e.isMaster,nowMaster:this.props.isMaster,name:n}),this.props.isMaster?!1===e.isMaster?(this._log.info("reuse released view",n),this.forceUpdate(function(){t._setMaster(),t._log.trace("view force update complete",n)})):(this._log.trace("set master view",n),this._setMaster()):(this._log.trace("release master view",n),this._clearSubs())},t.prototype.componentWillUnmount=function(){this._clearSubs()},t.prototype.render=function(){return i.Children.only(this.props.children(this._elements))},t.prototype._setMaster=function(){this._setSubs()},t.prototype._setSubs=function(){var e=this;this.props.cardsListScrollManager.setTopPadding(0),this._clearSubs(),this._subs.push(this._elements.view("viewport").switchMap(l.OptionUtils.fold(function(){return s.Observable.empty()},function(e){return l.DOM.getResizeObservable(e).map(function(t){return a.__assign({},t,{top:e.offsetTop,height:e.offsetHeight})})})).subscribe(function(t){e.props.cardsListScrollManager.setViewport(t)}),this._elements.view("scrollProvider").switchMap(l.OptionUtils.fold(function(){return s.Observable.empty()},function(t){return s.Observable.fromEvent(t,"scroll",function(){return t.scrollTop}).startWith(t.scrollTop).do(function(t){return e.props.cardsListScrollManager.setScrollTop(t)}).mapTo(p.e.voidValue)})).subscribe(),this._elements.view("scroll").switchMap(l.OptionUtils.fold(function(){return s.Observable.empty()},function(t){return e.props.cardsListScrollManager.scrollOffset.scan(function(e,t){return e-t},0).do(function(n){t.style.transform="translateY("+n+"px)",e.props.cardsListScrollManager.setTopPadding(n)})})).subscribe())},t.prototype._clearSubs=function(){this._subs.cleanAll()},t}(i.Component);e.Modern=n}(r||(r={}))},s8rA:function(e,t){var n="";function r(){return n}e.exports=function(e){return n+=e.toString()+"\n",r}},sN39:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("ERkP"),a=n("CB9K"),i=n("ASSm"),o=n("oZTP"),s=n("t2Ba"),c=n("IGo4"),l=function(e){var t=e.documentModel,n=e.successLensViewModel,l=e.sidebarOpen,u=void 0===l?o.Atom.create(!0):l,d=e.successIcon,p=e.progressIcon,m=e.zeroIcon,f=void 0===m?null:m,h=t.score.view(s.OptionUtils.map(function(e){return e.rank})),g=o.Atom.combine(t.counters,n.textAmount,function(e,t){var n=e.critical,r=e.advanced;return 0===n&&0===r&&t!==c.a.TextAmount.zero}),v=u.switchMap(function(e){return e?h.startWith(i.None).pairwise().switchMap(function(e){var t=e[0];return e[1].fold(function(){return a.Observable.of(f)},function(e){return g.startWith(!1).pairwise().switchMap(function(n){var r=n[0];return n[1]?a.Observable.of(d):t.filter(function(){return!r}).fold(function(){return a.Observable.of(p(e)).delay(1).startWith(p(0))},function(){return a.Observable.of(p(e))})})})}):a.Observable.of(null)}).startWith(null);return r.createElement(o.F.Fragment,null,v)}},sqE2:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("t2Ba"),s=n("p9uY"),c=n("t5ZZ"),l=n("rI4P"),u=function(e){var t=e.card,n=e.cardsVM,u=t.get().activeAlert,d=u.outcome.fold(function(){return{cardStyle:s.a.typeMatch(u.alertType)({critical:l.dotCritical,advanced:l.dotAdvanced}),ctaStyle:void 0}},function(){return{cardStyle:s.a.outcomeTypeMatch(u.alertType)({correctness:l.dotCorrectness,clarity:l.dotClarity,engagement:l.dotEngagement,tone:l.dotTone}),ctaStyle:l.cta}}),p=d.cardStyle,m=d.ctaStyle;return a.createElement(c.a.Mini,r.__assign({},Object(i.classes)(l.wrapper,p),{cardsVM:n,cardId:t.get().cardId,getActiveAlert:function(){return u}}),a.createElement(i.F.div,{className:l.miniContainer},t.view("activeAlert").map(function(e){return a.createElement(a.Fragment,null,a.createElement("div",{className:l.highlightedText},e.highlightTexts[0]),a.createElement("div",{className:l.middleDot},"·"),a.createElement("div",{className:m},o.StringUtils.capitalize(e.todoAction)))})))}},t5ZZ:function(e,t,n){"use strict";var r,a=n("mrSG"),i=n("ERkP"),o=n("oZTP"),s=n("xEd5"),c=n("mEc7"),l=n("fOM/"),u=n("Jguk"),d=n("6v47"),p=n("aC+x"),m=n("rpZC"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._createCardToggler=function(e){return function(){return t.props.cardsVM.hoverEvents.next({type:e,cardId:t.props.cardId})}},t}return a.__extends(t,e),t.prototype.componentWillUnmount=function(){this._createCardToggler("unhover")()},t.prototype.render=function(){var e=this,n=this.props,r=n.getActiveAlert,s=n.cardId,c=n.cardsVM,f=n.children,h=n.className;return i.createElement(o.F.div,a.__assign({"data-aid":s,onClick:function(){e.context.gnarSpec.alertMinicardButtonClick(e.context.pageId,e.context.pageSessionId);var n=r();l.a.isRegistered(n)?c.actionEvents.next({type:p.a.Type.changeAlert,alertHighlight:{highlightIndex:0,alert:n}}):t._logger.warn("somehow we got click on non registered alert",n)},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},Object(o.classes)(h,m.wrapper,m.miniCard)),i.createElement(d.Base,{className:m.contentWrapper},f),i.createElement("div",{className:m.activateBtn},i.createElement(u.d.Arrow,{className:m.activeTopIcon}),i.createElement(u.d.Arrow,{className:m.activeBottomIcon})))},t._logger=s.Monitoring.Logging.getLogger("card.mini"),t}(c.a),h=n("ASSm"),g=n("gAIq"),v=n("BKbD"),b=function(e){var t=e.children;return i.createElement(o.F.div,{className:v.wrapper},t)},y=function(e){var t=e.children;return i.createElement(o.F.div,{role:"animation-wrapper",className:v.animationWrapper},t)},_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.getChildContext=function(){return g.a.emptyWithName("card")},t.prototype._transitionClassMapper=function(e){var t=e.from,n=e.transition;return e.incomplete?t.map(function(e){switch(e){case"added":case"rendered":switch(n.type){case"added":return{main:v.addedMain};case"focused":return{main:n.clockwise?v.rendered2focusedMainClockwise:v.rendered2focusedMain};case"removed":return{shade:v.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(n.type){case"rendered":return{main:v.focused2renderedMain,shade:n.clockwise?v.focused2renderedShadeClockwise:v.focused2renderedShade};case"removed":return{main:"",shade:n.clockwise?v.focused2renderedShadeClockwise:v.focused2renderedShade};default:return{}}case"success":switch(n.type){case"removed":return{main:"",shade:n.clockwise?v.focused2renderedShadeClockwise:v.focused2renderedShade};case"focused":return{main:v.success2FocusedMain};default:return{}}case"presuccess":switch(n.type){case"success":return{main:v.focused2successMain,shade:v.focused2successShade};default:return{}}case"removed":switch(n.type){case"added":return{main:v.addedMain};default:return{}}default:return{}}}).getOrElseL(function(){switch(n.type){case"added":return{main:v.addedMain};case"focused":return{main:v.openedMain};default:return{}}}):{}},t.prototype._stateToElement=function(e){switch(e){case"added":case"rendered":return this.props.miniCard;case"focused":case"expanded":case"presuccess":return this.props.fullCard;case"success":return this.props.successCard;default:return null}},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.card,n=e.cardsViewModel,r=t.get(),a=r.cardId,i=r.visualState;i.incomplete&&n.completeTransitionTo.next([a,i.transitionId])},t.prototype.render=function(){var e=this,t=this.props,n=t.cardsViewModel,r=t.card;return i.createElement(b,null,r.distinctUntilChanged(function(e,t){return e.cardId===t.cardId&&e.visualState.transitionId===t.visualState.transitionId}).map(function(t){if(!t.visualState.incomplete)return i.createElement(y,null,i.createElement("div",{key:t.visualState.transition.type},e._stateToElement(t.visualState.transition.type)));var r=e._transitionClassMapper(t.visualState),a=r.main,s=r.shade,c=o.Atom.create(t.visualState.from.filter(function(){return void 0!==s}));return!a&&c.get().isEmpty()&&requestAnimationFrame(function(){return n.completeTransitionTo.next([t.cardId,t.visualState.transitionId])}),i.createElement(y,null,c.view(function(r){return r.map(function(r){return i.createElement("div",{className:s,key:r,onAnimationEnd:function(){n.completeTransitionTo.next([t.cardId,t.visualState.transitionId]),e.context.appRouter.query.get("debug").contains("animation")||requestAnimationFrame(function(){return c.set(h.None)})}},e._stateToElement(r))}).orUndefined()}),i.createElement("div",{className:a,key:"expanded"===t.visualState.transition.type?"focused":t.visualState.transition.type,onAnimationEnd:function(){return n.completeTransitionTo.next([t.cardId,t.visualState.transitionId])},onTransitionEnd:function(){"presuccess"===t.visualState.transition.type&&n.startTransitionTo.next([t.cardId,{type:"success",clockwise:t.visualState.transition.clockwise}])}},e._stateToElement(t.visualState.transition.type)))}))},t.childContextTypes=g.a.contextTypes,t}(c.a),E=n("t2Ba"),w=n("ePPH"),C=n("SxgR");!function(e){e[e.stage0=0]="stage0",e[e.stage1=1]="stage1",e[e.stage2=2]="stage2"}(r||(r={}));var k,S,M=Object(c.f)(function(e,t){var n=e.actionEvents,a=e.isLastCard,s=t.textResources.denali.successLens.fixedText.titles,c=o.Atom.create(r.stage0),l=function(){return n.next({type:p.a.Type.switchToNext})};return i.createElement(o.F.div,{className:C.successWrapper},i.createElement(d.P1,{className:C.successText,onAnimationEnd:function(){c.set(r.stage1)}},s[Object(E.rand)(s.length)]),i.createElement(o.F.span,null,c.view(function(e){return e>=r.stage1&&i.createElement("span",{onAnimationEnd:function(){return c.set(r.stage2)}},i.createElement(u.d.CheckmarkAnimated,{className:C.successCheckMark}))})),i.createElement(o.F.span,{className:C.successBtnHolder},o.Atom.combine(a,c,function(e,t){return t<r.stage2?null:e?i.createElement(w.a.Caps,{className:C.doneBtn,name:"done",key:"done-btn",onClick:l},"Done"):i.createElement(w.a.Caps,{className:C.successBtn,name:"next",key:"next-card",onClick:l},"Next")})))});n.d(t,"a",function(){return k}),(S=k||(k={})).Mini=f,S.Card=_,S.Success=M,S.Wrapper=b},tpxX:function(e,t,n){"use strict";n.d(t,"b",function(){return w}),n.d(t,"a",function(){return C});var r=n("mrSG"),a=n("ERkP"),i=n("ASSm"),o=n("oZTP"),s=n("lycr"),c=n("t2Ba"),l=n("Jguk"),u=n("ePPH"),d=n("VI1M"),p=n("6v47"),m=n("RCFH"),f=n("mEc7"),h=n("ud1N"),g=n("0ZLt"),v=n("u3Lk"),b=n("Pe9T"),y=n("643X"),_=n("nQSW"),E=function(e){var t=e.title;return a.createElement(u.b,{title:t,titleAlign:"right",iconClass:y.infoIcon,iconWidth:10})},w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._localContext=o.Atom.create(t.props.documentContext),t._style=t._localContext.lens("style"),t._goals=t._localContext.lens("goals"),t._audience=t._localContext.lens("audience"),t._emotion=t._localContext.lens("emotion"),t._domain=t._localContext.lens("domain"),t._defaultDomain="general",t._showSetGoalsLoader=o.Atom.create(!t.props.features.demoMode&&t.props.settingsModel.enableSetGoalsLoader.get()),t._source="user",t._supportsSetGoalsLoader=!t.props.features.demoMode&&t.context.environment.has(_.b.Flag.supportsSetGoalsLoader),t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this._source=this.props.visibilitySource.view(function(e){return"setGoalsLoader"===e?"setGoalsLoader":"user"}).get(),this.context.gnarSpec.goalsPopupShow(this.context.pageId,this._source)},t.prototype.componentWillUnmount=function(){if("forceHidden"!==this.props.visibilitySource.get()){var e=this._localContext.get(),t=this.props.updateContext(e),n=this._showSetGoalsLoader.get();this.props.settingsModel.enableSetGoalsLoader.get()!==n&&(this.props.settingsModel.updateSetGoalsLoader(n),this.context.gnarSpec.showGoalsNewDocumentFormSuccess(n,this.context.pageId,this._source)),t&&this.context.gnarSpec.goalsFormSuccess(this.context.pageId,this._source,e.audience.getOrElse(void 0),e.domain,e.emotion.getOrElse(void 0),Array.from(e.goals),e.style.getOrElse(void 0))}},t.prototype.setDomain=function(e){Object(c.invariant)(s.DocumentContext.isStyleValidWithDomain(e,this._style.get()),"can't enter disabled domain "+e),this._domain.set(e)},t.prototype.toggleGoal=function(e){this._goals.modify(function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},t.prototype.setStyle=function(e){Object(c.invariant)(s.DocumentContext.isStyleValidWithDomain(this._domain.get(),e),"can't enter disabled style "+e),this._style.modify(this._toggle(e))},t.prototype.setAudience=function(e){this._audience.modify(this._toggle(e))},t.prototype.setEmotion=function(e){this._emotion.modify(this._toggle(e))},t.prototype._toggle=function(e){return function(t){return e.equals(t)?i.None:e}},t._getGoalLabel=function(e){var t=s.DocumentContext.goalsLabels[s.DocumentContext.goals.indexOf(e)];return Object(c.invariant)(void 0!==t,"Goal label should be defined"),t},t.prototype.render=function(){var e=this;return a.createElement(m.a,{className:y.wrapper},a.createElement(m.a.Header,{className:y.modalHeader},a.createElement(k,{className:y.image}),a.createElement(p.H1,{className:y.title},"Set goals"),a.createElement(p.Base,{className:y.description},this.context.textResources.denali.goals.header)),a.createElement(m.a.Body,{name:"goalsBody",className:y.modalBody},a.createElement("div",{className:y.row},a.createElement("div",{className:y.rowHeader},a.createElement(p.Paper,{className:y.rowHeader},"Intent"),a.createElement("div",{className:y.experimental},"Experimental ",a.createElement(E,{title:this.context.textResources.denali.performance.intentTooltip}))),a.createElement(u.a.Group,null,s.DocumentContext.goals.map(function(n){return a.createElement(u.a.White,{key:n,name:"context-goal-"+n,active:e._goals.view(function(e){return e.has(n)}),onClick:function(){return e.toggleGoal(n)}},t._getGoalLabel(n))}))),a.createElement("div",{className:y.row},a.createElement(p.Paper,{className:y.rowHeader},"Audience"),a.createElement(u.a.Group,{sticky:!0},s.DocumentContext.audiences.map(function(t){return a.createElement(u.a.White,{key:t,name:"context-audience-"+t,active:e._audience.view(function(e){return e.contains(t)}),onClick:function(){return e.setAudience(Object(i.Some)(t))}},t)}))),a.createElement("div",{className:y.row},a.createElement(p.Paper,{className:y.rowHeader},"Style"),a.createElement(u.a.Group,{sticky:!0},s.DocumentContext.styles.map(function(t){var n=e._domain.view(function(e){return!s.DocumentContext.isStyleValidWithDomain(e,Object(i.Some)(t))});return a.createElement(u.a.White,{key:t,name:"context-style-"+t,active:e._style.view(function(e){return e.contains(t)}),onClick:function(){return e.setStyle(Object(i.Some)(t))},disabled:n,title:n.view(function(n){return n?"Style "+t+" is incompatible with "+e._domain.get()+" domain":""})},t)}))),a.createElement(o.F.div,r.__assign({},Object(o.classes)(y.row,this.props.features.isFree.view(function(e){return e&&y.noBottomMargin}))),a.createElement("div",{className:y.rowHeader},a.createElement(p.Paper,{className:y.rowHeader},"Emotion"),a.createElement("div",{className:y.experimental},"Experimental ",a.createElement(E,{title:this.context.textResources.denali.performance.emotionTooltip}))),a.createElement(u.a.Group,{sticky:!0},s.DocumentContext.emotions.map(function(t){return a.createElement(u.a.White,{key:t,name:"context-emotion-"+t,active:e._emotion.view(function(e){return e.contains(t)}),onClick:function(){return e.setEmotion(Object(i.Some)(t))}},t)}))),a.createElement(o.F.div,r.__assign({},Object(o.classes)(this.props.features.isFree.view(function(e){return e?y.rowFree:y.row}))),a.createElement("div",r.__assign({},Object(o.classes)(y.row,y.noBottomMargin)),a.createElement(p.Paper,{className:y.rowHeader},"Domain"),a.createElement(d.a,{align:"right",vAlign:"top",label:a.createElement(u.a.White,{name:"domain-select",active:this._domain.view(function(t){return e._defaultDomain!==t}),className:y.select},this._domain,a.createElement(l.d.Arrow,{className:y.selectIcon})),theme:y,name:"goals-domain"},this._domain.view(function(t){return s.DocumentContext.domains.filter(function(e){return e!==t}).map(function(t){var n=o.Atom.combine(e.props.features.isFree,e._style,function(e,n){return e||!s.DocumentContext.isStyleValidWithDomain(t,n)});return a.createElement(u.a.Flat,{className:y.capitalize,key:t,name:"context-domain-"+t,onClick:function(){return e.setDomain(t)},title:e.props.features.isFree.switchMap(function(r){return r?o.Atom.create(""):n.view(function(n){return n?"Domain "+t+" is incompatible with "+e._style.get().get()+" style":""})}),disabled:n},t)})}))),this.props.features.isFree.view(function(t){return t&&a.createElement(p.Small,{className:y.freeBlock,key:"upgrade-button"},e.context.textResources.denali.goals.upgradeHookTitle," ",a.createElement(h.a,{size:"link",upgradeViewModel:e.props.upgradeViewModel,place:b.l.Place.DenaliDocument.editorDenaliGoals}))}))),a.createElement(m.a.Footer,{className:y.modalFooter},a.createElement("div",r.__assign({},Object(o.classes)(this._supportsSetGoalsLoader&&y.footerWrapper)),this._supportsSetGoalsLoader&&a.createElement(g.a,{checked:this._showSetGoalsLoader,name:"set-goals"},a.createElement("div",{className:y.checkboxText},"Show ",a.createElement("b",null,"Set Goals")," when I start a new document")),a.createElement(u.a.Primary,{name:"closeSetContext",onClick:this.props.close},"Done"))))},t}(f.a),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._visible=v.a.SetGoalsVisibilitySource.toVisible(t.props.visible,"user"),t._close=function(){return t._visible.set(!1)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this;return a.createElement(m.b,{visible:this._visible,animate:!0,smallResolution:"resize"},this.props.documentModel.context.view(function(t){return a.createElement(w,{key:"set-goals-view",features:e.props.features,updateContext:e.props.documentModel.updateContext,settingsModel:e.props.settingsModel,close:e._close,documentContext:t,upgradeViewModel:e.props.upgradeViewModel,visibilitySource:e.props.visible})}))},t}(a.Component),k=function(e){var t=e.className;return a.createElement("svg",{className:t,width:"69",height:"80",viewBox:"0 0 69 80"},a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M28.935 70C12.955 70 0 57.045 0 41.065 0 25.085 12.955 12.13 28.935 12.13c15.98 0 28.936 12.954 28.936 28.935C57.87 57.045 44.917 70 28.936 70zm0-12.242c9.22 0 16.694-7.474 16.694-16.693 0-9.22-7.475-16.694-16.695-16.694s-16.693 7.475-16.693 16.695 7.474 16.693 16.693 16.693z",fill:"#4C7AF1"}),a.createElement("path",{d:"M28.935 57.758c-9.22 0-16.693-7.474-16.693-16.693 0-9.22 7.474-16.694 16.693-16.694 9.22 0 16.694 7.475 16.694 16.695s-7.475 16.693-16.695 16.693zm0-11.13c3.074 0 5.565-2.49 5.565-5.563 0-3.074-2.49-5.565-5.565-5.565-3.073 0-5.564 2.49-5.564 5.565 0 3.073 2.492 5.564 5.565 5.564z",fill:"#BCDBFB"}),a.createElement("circle",{fill:"#FFF",cx:"28.935",cy:"41.065",r:"5.565"}),a.createElement("g",{stroke:"#4C7AF1",strokeWidth:"1.5",strokeLinecap:"round"},a.createElement("path",{d:"M15.024 68.016L9.46 78.5M41.734 68.016L47.298 78.5"})),a.createElement("path",{d:"M61.96 13.367c.356 0 .645.293.645.656 0 .362-.29.655-.646.655h-6.075L29.35 41.7c-.126.128-.29.192-.456.192-.166 0-.33-.064-.457-.192-.252-.256-.252-.67 0-.927L54.972 13.75V7.59c0-.363.288-.656.645-.656.357 0 .646.293.646.656v5.777h5.696zm3.17-3.215c.357 0 .646.293.646.655 0 .362-.29.655-.646.655h-6.34c-.358 0-.647-.293-.647-.655V4.372c0-.362.29-.655.646-.655.356 0 .644.293.644.655v5.78h5.696zm3.17-3.218c.358 0 .647.293.647.656 0 .362-.29.655-.646.655h-6.34c-.358 0-.647-.293-.647-.655V1.155c0-.362.29-.655.646-.655.356 0 .645.293.645.655v5.78H68.3z",fill:"#4C7AF1"}),a.createElement("path",{d:"M49.267 20.486l-8.586 8.757",stroke:"#FFF",strokeWidth:"1.3"})))}},"u/Xi":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("B8QE"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._rendered=i.Atom.create(!1),t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;requestAnimationFrame(function(){return e._rendered.set(!0)})},t.prototype.render=function(){var e=this.props.offset,t=this.props.theme||o,n=t.flowPosition,s=t.flowPositionAnimate;return a.createElement(i.F.div,r.__assign({style:{transform:"translate3d(0, "+e+", 0)"}},Object(i.classes)(n,this._rendered.view(function(e){return e&&s}))),this.props.children)},t}(a.Component)},u4Bo:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n("mrSG"),a=n("ERkP"),i=n("ASSm"),o=n("oZTP"),s=n("lycr"),c=n("t2Ba"),l=n("mEc7"),u=n("hQK4"),d=n("ePPH"),p=n("6v47"),m=n("5qyr"),f=n("Jguk"),h=n("kKaD"),g=n("E15D"),v=n("0oBX"),b=n("6/FP"),y=n("s7rr"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lensAlertsCount=t.props.state.view("currentLens","activeAlertsCount"),t._onCardFocus=function(){t.context.gnarSpec.alertCardShow(t.props.state.get().currentLens.id,t.context.pageId,t.props.state.get().switchOrder,t.context.pageSessionId)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,n=this.props,s=n.state,c=n.marksVM,l=n.cardsVM,d=n.alignmentVM,f=n.transition,h=n.onTransitionEnd,_=n.isMaster,E=s.get().currentLens.meta;return a.createElement(y.a.Classic,{key:E.id,cardsListScrollManager:this.props.cardsListScrollManager,name:E.id,isMaster:_},function(n){return a.createElement("div",{key:E.id,className:b.lensWrapper},a.createElement(o.F.div,r.__assign({},Object(o.classes)(f.map(function(e){return e.base}),b.headerWrapper),{onTransitionEnd:h}),a.createElement(v.a,{title:E.title,theme:{title:f.map(function(e){return e.title}),wrapper:b.header}},a.createElement(t.Dismiss,{count:e._lensAlertsCount,lens:E,theme:b}))),a.createElement("div",{ref:function(e){return n.lens("viewport").set(i.Option.of(e))},className:b.viewport},a.createElement(o.F.div,r.__assign({},Object(o.classes)(b.lensviewContentWrapper,f.map(function(e){return e.base}))),a.createElement(o.F.div,r.__assign({},Object(o.classes)(b.scrollWrapper,f.map(function(e){return e.content}))),a.createElement(m.a,{lensView:s.lens(u.d.Prism.getLens()),className:b.scroll,cardsVM:l,onMount:function(e){return n.lens("scroll").set(i.Option.of(e))},onTitleMount:function(e){return n.lens("title").set(i.Option.of(e))},renderCard:function(t){return a.createElement(g.a.Component,{key:t.get().cardId,card:t,lensId:E.id,marksVM:c,cardsVM:l,alignmentVM:d,lensAlertsCount:e._lensAlertsCount,onFocus:e._onCardFocus})}},a.createElement(p.Base,{className:b.info},E.description))))))})},t}(l.a);!function(e){e.Rechecking=function(e){var t=e.className,n=e.features;return a.createElement(o.F.div,r.__assign({key:"lensview-loader"},Object(o.classes)(t,b.rechecking)),a.createElement(h.a,{features:n}))};var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.lens,r=t.count,i=t.theme;return a.createElement(o.F.Fragment,null,r.view(function(t){return t>0?a.createElement(a.Fragment,{key:"alert-counter"},a.createElement(p.Small,{className:i.lensCounter},t),a.createElement(d.a.Ghost,{name:"dismiss-all",title:"Dismiss all",className:i.headerBtn,onClick:function(){n.sendFeedback(s.CAPI.LensFeedbackType.DISMISS_BY_LENS),e.context.gnarSpec.dismissAllButtonClick(c.StringUtils.camelize(n.title),e.context.pageId)}},a.createElement(f.d.Ignore,null))):null}))},t}(l.a);e.Dismiss=t}(_||(_={}))},uYVq:function(e,t,n){"use strict";var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("t2Ba"),s=n("lG5l"),c=n("9+Rj"),l=function(e){var t=e.model;return a.createElement("div",{className:c.content},a.createElement("div",{className:c.separatorRemover}),a.createElement(s.e,{title:t.title,author:t.author}),a.createElement(s.b,{stats:t.stats}),a.createElement(s.d,{score:t.score,critical:t.criticalIssues,advanced:t.advancedIssues}),t.plagiarism.map(function(e){return a.createElement(s.c,{plagiarismData:e})}).orNull(),!o.ObjectUtils.isEmptyObject(t.issues)&&a.createElement(s.f,{issues:t.issues}),a.createElement(s.a,{stats:t.stats}))},u=function(e){var t=e.title;return a.createElement("div",{style:{width:"100%",marginLeft:"17.4857px",marginRight:"38.4686px",fontFamily:"Akkurat Std",color:"#becafa",letterSpacing:"0.1px",position:"absolute",top:0}},a.createElement("div",{style:{width:"144px",position:"absolute",top:"15.7351px",left:0}},a.createElement("svg",{width:"83.5px",viewBox:"0 0 93 23"},a.createElement("path",{d:"M32.1137999,10.3020362 L32.1137999,10.2761929 C32.1137999,9.3346607 31.3716092,8.67717134 30.4082654,8.67717134 C29.4453916,8.67717134 28.7163619,9.3346607 28.7163619,10.2761929 L28.7163619,10.3020362 C28.7163619,11.2561408 29.4453916,11.9010577 30.4082654,11.9010577 C31.3716092,11.9010577 32.1137999,11.2433355 32.1137999,10.3020362 Z M27.6230525,15.7046709 C27.2846248,15.5761532 27.0632367,15.3053812 27.0632367,14.9440414 C27.0632367,14.5056376 27.4275165,14.1447634 27.8702927,14.1447634 C28.0004933,14.1447634 28.1046069,14.170141 28.1955593,14.2092551 C28.7683012,14.4669891 29.3802912,14.6215829 30.1222469,14.6215829 C31.4757227,14.6215829 32.1137999,13.9771316 32.1137999,12.7389841 L32.1137999,12.4037204 C31.527897,13.1003239 30.8902898,13.5256897 29.8357585,13.5256897 C28.2087204,13.5256897 26.7375,12.352034 26.7375,10.3020362 L26.7375,10.2761929 C26.7375,8.21315707 28.2345725,7.05253935 29.8357585,7.05253935 C30.9159069,7.05253935 31.5539841,7.50398123 32.0874778,8.08394085 L32.0874778,8.07113564 C32.0874778,7.54239686 32.530019,7.10399301 33.0766737,7.10399301 C33.6233284,7.10399301 34.0658696,7.54239686 34.0658696,8.08394085 L34.0658696,12.5327038 C34.0658696,13.7708513 33.7666901,14.6732694 33.1807872,15.2536947 C32.530019,15.8983788 31.527897,16.1821889 30.1744212,16.1821889 C29.2498556,16.1821889 28.4430346,16.0273622 27.6230525,15.7046709 Z M35.5315436,8.05210654 C35.5315436,7.49972039 35.9859169,7.05253935 36.5476701,7.05253935 C37.1089407,7.05253935 37.5633141,7.49972039 37.5633141,8.05210654 L37.5633141,8.36772184 C37.8574624,7.68400743 38.3383791,7.05253935 38.9399473,7.05253935 C39.5680588,7.05253935 39.9285653,7.46053565 39.9285653,8.02574589 C39.9285653,8.55200888 39.5810891,8.8673867 39.1670133,8.9597677 C38.1380977,9.19677603 37.5633141,9.97263396 37.5633141,11.3927841 L37.5633141,13.2608277 C37.5633141,13.8129763 37.1089407,14.2601574 36.5476701,14.2601574 C35.9859169,14.2601574 35.5315436,13.8129763 35.5315436,13.2608277 L35.5315436,8.05210654 Z M39.9285653,12.118996 L39.9285653,12.092591 C39.9285653,10.5651097 41.0750287,9.85971938 42.7113383,9.85971938 C43.406799,9.85971938 43.9094379,9.97736302 44.3988189,10.1471094 L44.3988189,10.0294657 C44.3988189,9.20690326 43.8964126,8.75000271 42.917418,8.75000271 C42.3764007,8.75000271 41.9384233,8.82827463 41.5648749,8.94591827 C41.4488097,8.98505423 41.3713554,8.99825672 41.281341,8.99825672 C40.8303382,8.99825672 40.4695825,8.64556156 40.4695825,8.18842524 C40.4695825,7.8362016 40.6884549,7.53560913 40.997807,7.41796549 C41.6162785,7.18291396 42.2859211,7.05253935 43.2009519,7.05253935 C44.269961,7.05253935 45.042876,7.33992932 45.532257,7.8362016 C46.0476887,8.35817158 46.279819,9.1288671 46.279819,10.0690732 L46.279819,13.2546461 C46.279819,13.7902901 45.8546344,14.2078189 45.3264099,14.2078189 C44.759342,14.2078189 44.3857936,13.8034926 44.3857936,13.3854922 L44.3857936,13.3722897 C43.9094379,13.9079337 43.2523555,14.2601574 42.2989464,14.2601574 C40.997807,14.2601574 39.9285653,13.5029001 39.9285653,12.118996 Z M47.256935,8.09698499 C47.256935,7.54859209 47.7036529,7.10464375 48.2557042,7.10464375 C48.8075183,7.10464375 49.2542362,7.54859209 49.2542362,8.09698499 L49.2542362,8.17549524 C49.713765,7.58772933 50.318483,7.05253935 51.3303003,7.05253935 C52.2498323,7.05253935 52.9463611,7.45711468 53.314079,8.16252808 C53.9316078,7.44414752 54.6675181,7.05253935 55.626906,7.05253935 C57.1117745,7.05253935 58.0052104,7.94043603 58.0052104,9.62498776 L58.0052104,13.2680519 C58.0052104,13.816209 57.5584925,14.2601574 57.0062039,14.2601574 C56.4543898,14.2601574 56.0076719,13.816209 56.0076719,13.2680519 L56.0076719,10.2778252 C56.0076719,9.33758838 55.5875246,8.85426703 54.838329,8.85426703 C54.0893707,8.85426703 53.6298419,9.33758838 53.6298419,10.2778252 L53.6298419,13.2680519 C53.6298419,13.816209 53.183124,14.2601574 52.6308354,14.2601574 C52.0790214,14.2601574 51.6323034,13.816209 51.6323034,13.2680519 L51.6323034,10.2778252 C51.6323034,9.33758838 51.2119188,8.85426703 50.4629605,8.85426703 C49.713765,8.85426703 49.2542362,9.33758838 49.2542362,10.2778252 L49.2542362,13.2680519 C49.2542362,13.816209 48.8075183,14.2601574 48.2557042,14.2601574 C47.7036529,14.2601574 47.256935,13.816209 47.256935,13.2680519 L47.256935,8.09698499 Z M59.4708843,8.09698499 C59.4708843,7.54859209 59.9176023,7.10464375 60.4696536,7.10464375 C61.0214677,7.10464375 61.4681856,7.54859209 61.4681856,8.09698499 L61.4681856,8.17549524 C61.9277144,7.58772933 62.5326696,7.05253935 63.5442497,7.05253935 C64.4637816,7.05253935 65.1603105,7.45711468 65.5280284,8.16252808 C66.1457945,7.44414752 66.8814675,7.05253935 67.8408553,7.05253935 C69.3257239,7.05253935 70.2191598,7.94043603 70.2191598,9.62498776 L70.2191598,13.2680519 C70.2191598,13.816209 69.7724419,14.2601574 69.2201533,14.2601574 C68.6685765,14.2601574 68.2218585,13.816209 68.2218585,13.2680519 L68.2218585,10.2778252 C68.2218585,9.33758838 67.8014739,8.85426703 67.0522784,8.85426703 C66.3033201,8.85426703 65.8437913,9.33758838 65.8437913,10.2778252 L65.8437913,13.2680519 C65.8437913,13.816209 65.3970734,14.2601574 64.8447848,14.2601574 C64.2929707,14.2601574 63.8462528,13.816209 63.8462528,13.2680519 L63.8462528,10.2778252 C63.8462528,9.33758838 63.4261055,8.85426703 62.6769099,8.85426703 C61.9277144,8.85426703 61.4681856,9.33758838 61.4681856,10.2778252 L61.4681856,13.2680519 C61.4681856,13.816209 61.0214677,14.2601574 60.4696536,14.2601574 C59.9176023,14.2601574 59.4708843,13.816209 59.4708843,13.2680519 L59.4708843,8.09698499 Z M70.7077178,12.118996 L70.7077178,12.092591 C70.7077178,10.5651097 71.8542231,9.85971938 73.4903601,9.85971938 C74.1863114,9.85971938 74.6882709,9.97736302 75.1779025,10.1471094 L75.1779025,10.0294657 C75.1779025,9.20690326 74.6757103,8.75000271 73.6964472,8.75000271 C73.1554102,8.75000271 72.7174168,8.82827463 72.3438547,8.94591827 C72.2277853,8.98505423 72.1507933,8.99825672 72.0603103,8.99825672 C71.6092911,8.99825672 71.2487548,8.64556156 71.2487548,8.18842524 C71.2487548,7.8362016 71.4678678,7.53560913 71.776766,7.41796549 C72.3952602,7.18291396 73.0653925,7.05253935 73.979759,7.05253935 C75.0492724,7.05253935 75.8222157,7.33992932 76.3118472,7.8362016 C76.8268326,8.35817158 77.0589714,9.1288671 77.0589714,10.0690732 L77.0589714,13.2546461 C77.0589714,13.7902901 76.6337712,14.2078189 76.10576,14.2078189 C75.538904,14.2078189 75.1653418,13.8034926 75.1653418,13.3854922 L75.1653418,13.3722897 C74.6882709,13.9079337 74.0313971,14.2601574 73.0781857,14.2601574 C71.776766,14.2601574 70.7077178,13.5029001 70.7077178,12.118996 Z M78.5246454,8.05210654 C78.5246454,7.49972039 78.9792601,7.05253935 79.540772,7.05253935 C80.1020425,7.05253935 80.5564159,7.49972039 80.5564159,8.05210654 L80.5564159,8.36772184 C80.8505642,7.68400743 81.3314809,7.05253935 81.9330491,7.05253935 C82.5611606,7.05253935 82.9216671,7.46053565 82.9216671,8.02574589 C82.9216671,8.55200888 82.5741909,8.8673867 82.1603564,8.9597677 C81.1311995,9.19677603 80.5564159,9.97263396 80.5564159,11.3927841 L80.5564159,13.2608277 C80.5564159,13.8129763 80.1020425,14.2601574 79.540772,14.2601574 C78.9792601,14.2601574 78.5246454,13.8129763 78.5246454,13.2608277 L78.5246454,8.05210654 Z M86.930076,16.0926159 C86.6386162,15.9887322 86.293794,15.7541713 86.293794,15.2728277 C86.293794,14.7907791 86.6780997,14.4654962 87.0892063,14.4654962 C87.2480973,14.4654962 87.3407039,14.4915846 87.4203887,14.517438 C87.5926802,14.5696149 87.6986873,14.5957033 87.8446565,14.5957033 C88.2024006,14.5957033 88.374692,14.5305997 88.5601447,14.1789933 L88.6266683,14.0229327 L86.2011873,8.50346419 C86.1483034,8.37349204 86.0951802,8.17794623 86.0951802,8.0482091 C86.0951802,7.48836521 86.5326091,7.09774365 87.0892063,7.09774365 C87.5926802,7.09774365 87.8843792,7.37108473 88.0566707,7.83950155 L89.5941327,11.9010727 L91.0782323,7.85266329 C91.2376019,7.43618832 91.5288223,7.09774365 92.0456967,7.09774365 C92.5628104,7.09774365 93,7.48836521 93,8.00872389 C93,8.16525455 92.9468768,8.38665378 92.9073933,8.47761078 L90.4290285,14.3223623 C89.8324693,15.7412445 89.2361494,16.275 88.0298698,16.275 C87.5792798,16.275 87.2614977,16.2098964 86.930076,16.0926159 Z M83.4102251,5.63428404 C83.4102251,5.09034375 83.8474903,4.65 84.387109,4.65 C84.9274239,4.65 85.364457,5.09034375 85.364457,5.63428404 L85.364457,13.2761072 C85.364457,13.8198136 84.9274239,14.2601574 84.387109,14.2601574 C83.8474903,14.2601574 83.4102251,13.8198136 83.4102251,13.2761072 L83.4102251,5.63428404 Z M44.4248696,11.6618596 L44.4248696,11.3091645 C44.0896995,11.1526206 43.6517221,11.0481795 43.1749012,11.0481795 C42.3373247,11.0481795 41.8223582,11.3876722 41.8223582,12.0145548 L41.8223582,12.0404883 C41.8223582,12.5761323 42.2603356,12.88922 42.8913673,12.88922 C43.8063981,12.88922 44.4248696,12.379981 44.4248696,11.6618596 Z M75.2037215,11.6618596 L75.2037215,11.3091645 C74.8687717,11.1526206 74.4307782,11.0481795 73.9544051,11.0481795 C73.1167979,11.0481795 72.6013474,11.3876722 72.6013474,12.0145548 L72.6013474,12.0404883 C72.6013474,12.5761323 73.0393408,12.88922 73.6708608,12.88922 C74.5854599,12.88922 75.2037215,12.379981 75.2037215,11.6618596 Z",fill:"#2B2D38"}),a.createElement("path",{d:"M22.0875,11.04375 C22.0875,17.1430211 17.1430211,22.0875 11.04375,22.0875 C4.94447894,22.0875 0,17.1430211 0,11.04375 C0,4.94447894 4.94447894,0 11.04375,0 C17.1430211,0 22.0875,4.94447894 22.0875,11.04375 Z M13.08629,12.2595253 C12.6265316,12.2595253 12.2634378,12.6652216 12.3492818,13.1315014 C12.4146868,13.4862794 12.7551774,13.72932 13.1230803,13.72932 L14.2820947,13.72932 L14.9536979,13.6369127 C13.8790847,15.1833207 12.0128791,15.8947626 9.9720999,15.5805306 C8.31100614,15.3247604 6.88387942,14.2231805 6.28200946,12.684316 C4.91523805,9.19122567 7.51749002,5.8563121 10.9086894,5.8563121 C12.6758257,5.8563121 14.2253463,6.86996364 15.1140844,8.09483187 L15.1143248,8.09483187 C15.1145653,8.09483187 15.1148058,8.12076249 15.1152867,8.12123396 C15.3509369,8.45479604 15.8181496,8.55026787 16.1583997,8.31924961 C16.4820581,8.0993108 16.5710281,7.68206354 16.3764964,7.35392332 L16.381546,7.35392332 C15.1523174,5.47301038 12.9436975,4.26912238 10.4599921,4.43224956 C7.22581273,4.64488065 4.60817136,7.23959285 4.42253668,10.4120864 C4.20636365,14.1034282 7.19335071,17.1175092 10.9086894,17.1175092 C12.8600177,17.1175092 14.6069554,16.2844291 15.7974701,14.9365083 L15.6565609,15.7094765 L15.6565609,16.4081889 C15.6565609,16.7688602 15.9044745,17.1026581 16.266366,17.1667774 C16.7419947,17.2509341 17.1558254,16.8949774 17.1558254,16.444256 L17.1558254,12.2595253 L13.08629,12.2595253 Z",fill:"#15C39A"}))),a.createElement("p",{style:{position:"absolute",left:"111.05px",width:"823px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",borderBottom:"2px solid #e4e6f2",transform:"scale(0.563)",transformOrigin:"top left",paddingBottom:"21px",top:0,fontSize:"19px"}},"Report: ",t))},d=function(){return a.createElement("div",{style:{marginLeft:"128.8807px",marginRight:"25.4686px",width:"100%",fontFamily:"Akkurat Std",fontSize:"19px",color:"#becafa",letterSpacing:"0.1px",lineHeight:"90px"}},a.createElement("div",{style:{position:"relative",top:"-19px",transform:"scale(0.563)",transformOrigin:"top left",width:"180%",borderTop:"1px solid #e4e6f2"}},a.createElement("div",{style:{position:"absolute",top:0,width:"100%",zIndex:1e3}},"Report was generated on ",(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),a.createElement("span",{style:{float:"right"}},"Page ",a.createElement("span",{className:"pageNumber"})," of ",a.createElement("span",{className:"totalPages"})))))},p=n("CNsr");n.d(t,"a",function(){return f});var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this._el.children;this.props.onElementsReady({header:e[0].outerHTML,body:e[1].outerHTML,footer:e[2].outerHTML})},t.prototype.render=function(){var e=this;return a.createElement("div",{ref:function(t){null!==t&&(e._el=t)}},a.createElement(u,{title:this.props.model.title}),a.createElement(l,{model:this.props.model}),a.createElement(d,null))},t}(a.Component),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype._prepareHTML=function(e){return'<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Report</title><style>'+("function"!=typeof c.__$extract?"":c.__$extract())+"</style></head><body>"+e+"</body></html>"},t.prototype.render=function(){var e=this,t=this.props.reportViewModel;return a.createElement(i.F.div,{className:p.invisible},t.reportData.view(function(n){return n.map(function(n){return a.createElement(m,{model:n,onElementsReady:function(n){var r=n.header,a=n.footer,i=n.body;return t.generateReport(e._prepareHTML(i),r,a)}})}).orNull()}))},t}(a.Component)},ud1N:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("mrSG"),a=n("ERkP"),i=n("oZTP"),o=n("mEc7"),s=n("ePPH"),c=n("Jguk"),l=n("4QeN"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this;return a.createElement(s.a,r.__assign({name:"upgrade"},Object(i.classes)("big"===this.props.size?l.baseBig:"link"===this.props.size?l.link:l.baseSmall,this.props.className),{onClick:function(){return e.props.upgradeViewModel.openUpgradeUrl(e.props.place)}}),"link"===this.props.size?a.createElement(c.d.PaidGraident,null):a.createElement(c.d.Paid,{className:"big"===this.props.size?l.bigIcon:l.smallIcon})," ","Go Premium")},t}(o.a)},vLzu:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return u});var r,a=n("mrSG"),i=n("lycr"),o=n("mEc7"),s=n("Pe9T"),c=n("t2Ba"),l=n("Skuv");!function(e){!function(e){e.idle="idle",e.loading="loading",e.uploaded="uploaded"}(e.State||(e.State={}))}(r||(r={}));var u=function(){function e(e,t,n,a,i){var u=this;this._doxApi=e,this._appRouter=t,this._notifications=n,this._telemetry=a,this.browser=i,this.uploadModel=new s.d.UploadModel(function(e){return u._upload(e)},function(e,t){u._appRouter.navigate(o.e.routes.denali_editor.href({docId:e}),{uploaded:!0,showDocumentUploadedNotification:!t||t.showDocumentUploadedNotification,openSidebar:!0})},this._notifications,this._telemetry),this.state=this.uploadModel.state.pairwise().map(function(e){var t=e[0],n=e[1];return l.a.isInProgress(n)?r.State.loading:l.a.isOk(n)||l.a.isIdle(n)&&l.a.isOk(t)?r.State.uploaded:r.State.idle}).startWith(r.State.idle),Object(c.registerDebugHelper)("showUploadNotification",function(){return u._showUploadNotification()})}return e.prototype.isUploaded=function(){return this._appRouter.locationState.exists(function(e){return!!e.uploaded})},e.prototype.showUploadNotificationIfNeeded=function(){this._appRouter.locationState.exists(function(e){return!!e.showDocumentUploadedNotification})&&this._showUploadNotification()},e.prototype._showUploadNotification=function(){var e=this;this._notifications.show(this._notifications.create.denaliDocumentUploaded(function(){return e._appRouter.navigate(o.e.routes.documents.href({}))}))},e.prototype._upload=function(e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this._doxApi.createDocument(i.DoxRequest.Create.file(e))];case 1:return[2,t.sent()]}})})},e}()},vXpH:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return f});var r,a,i=n("mrSG"),o=n("ERkP"),s=n("oZTP"),c=n("mEc7"),l=n("Jguk"),u=n("6v47"),d=n("ePPH"),p=n("RCFH"),m=n("TIXb");!function(e){e.TopLeft="topLeft",e.TopRight="topRight",e.BottomLeft="bottomLeft",e.BottomRight="bottomRight"}(r||(r={})),function(e){e.Left="Left",e.Right="Right"}(a||(a={}));var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.title,c=t.content,p=t.position,f=t.icon,h=t.iconPosition,g=t.label,v=t.buttons,b=t.isCloseButton;return o.createElement(s.F.Fragment,null,this.props.isVisibleAtom.view(function(t){return t&&o.createElement("div",i.__assign({id:e._id},Object(s.classes)(m.modalNotification,h===a.Right?m.modalNotificationReverse:"",m[p||r.BottomLeft])),!1!==b&&o.createElement(d.a,{name:"modal-notification-close",className:m.closeIcon,onClick:function(){return e._closeModal()}},o.createElement(l.d.Close,null)),(f||g)&&o.createElement("section",{className:m.iconSection},g&&o.createElement("div",{className:m.label},g),f&&o.createElement("div",{className:m.icon},f)),o.createElement("section",{className:m.contentSection},o.createElement(u.Paper,{className:m.title},n),o.createElement(u.Base,{className:m.content},c),v&&o.createElement("div",{className:m.btnGroup},v)))}))},Object.defineProperty(t.prototype,"_id",{get:function(){return this.props.id||"modal-notification"},enumerable:!0,configurable:!0}),t.prototype._closeModal=function(){this.props.isVisibleAtom.set(!1)},t}(c.a);!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){return o.createElement(o.Fragment,null,o.createElement(p.b,{preventClose:!1,visible:this.props.isVisibleAtom,alignment:"none",overlayType:"transparent"}),o.createElement(e,i.__assign({key:"modal-notification"},this.props)))},n}(o.Component);e.WithOverlay=t}(f||(f={}))},weRr:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("mrSG"),a=n("oZTP"),i=n("t2Ba"),o=n("mEc7"),s=n("nQSW"),c=n("Jguk"),l=n("ERkP"),u=n("ck2l"),d=2*Math.PI*32,p=function(e,t,n){return e<t?t:e>n?n:e},m=function(e){switch(e){case v.ColorType.eggBlue:return{type:"gradient",value:{coordinates:{x1:"0%",y1:"50%",x2:"50%",y2:"50%"},start:"#0bc7c3",end:"#0fd5bf"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.dandelion:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"35%",y2:"100%"},start:"#ffde66",end:"#ffc148"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.radicalRed:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"50%",x2:"40%",y2:"100%"},start:"#ff4562",end:"#ff153e"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.lightVisteria:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"50%",y2:"100%"},start:"#e191e2",end:"#c770c8"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.royalBlue:return{type:"gradient",value:{coordinates:{x1:"17%",y1:"15%",x2:"50%",y2:"100%"},start:"#2a42ef",end:"#6391ff"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.logan:return{type:"plain",value:"#a6adc9",background:"#f1f2fa",outline:"#fff"};case v.ColorType.electricViolet:return{type:"plain",value:"#913dcc",background:"#eed6ff"};case v.ColorType.crimson:return{type:"plain",value:"#ea1537",background:"#ffccd5"};case v.ColorType.blueRibbon:return{type:"plain",value:"#1a57ff",background:"#cdf"};case v.ColorType.green:return{type:"plain",value:"#15c39a",background:"#dcf6f6"};case v.ColorType.lightBlue:return{type:"plain",value:"#00bbcc",background:"#ccfbff"};case v.ColorType.orange:return{type:"plain",value:"#ffa600",background:"#fee8b4"};case v.ColorType.white:return{type:"plain",value:"#fff",background:"#fff",backgroundOpacity:.2};default:return Object(i.assertNever)(e)}},f=function(e){switch(e){case v.FontSize.normal:return 32;case v.FontSize.small:return 24;default:return Object(i.assertNever)(e)}},h=function(e){switch(e){case v.IconSize.pdf:case v.IconSize.normal:case v.IconSize.outcome:return 5;case v.IconSize.small:return 3;default:return Object(i.assertNever)(e)}},g=function(e){switch(e){case v.IconSize.pdf:return 110;case v.IconSize.normal:return 52;case v.IconSize.outcome:return 32;case v.IconSize.small:return 24;default:return Object(i.assertNever)(e)}},v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e,n,o,v,b,y=this.props,_=y.percentage,E=y.aimValue,w=void 0===E?100:E,C=y.colorType,k=void 0===C?t.ColorType.logan:C,S=y.fontSize,M=void 0===S?t.FontSize.normal:S,A=y.iconSize,T=void 0===A?t.IconSize.normal:A,x=y.description,O=y.theme,N=void 0===O?u:O,L=[l.createElement("circle",{key:"circle",id:"circle",cx:36,cy:36,r:32,fill:"none"})],I=f(M),P=h(T),F=p(_,0,100),D=p(w,F,100),R=F*d/100,V=D*d/100,B=360*P/d,j=F?d-R-2*P:d,H=m(k);if("plain"===H.type)n=e=H.value,o=H.outline,v=H.background,b=void 0===H.backgroundOpacity?1:H.backgroundOpacity;else{var W=H.value;this._gradientId=this._gradientId||"pb-gradient-"+t._nextGradientId++,L.push(l.createElement("linearGradient",r.__assign({id:this._gradientId,key:this._gradientId,gradientUnits:"userSpaceOnUse"},W.coordinates),l.createElement("stop",{stopColor:W.start,offset:"0%"}),l.createElement("stop",{stopColor:W.end,offset:"100%"}))),e="url(#"+this._gradientId+")",n="#2b2d38",o=H.outline,v=H.background,b=void 0===H.backgroundOpacity?1:H.backgroundOpacity}return l.createElement(c.e,r.__assign({},Object(a.classes)(u.iconWrapper,N.radialProgressBar),{width:g(T),viewBox:"0 0 72 72"}),l.createElement("defs",null,L),l.createElement("g",null,l.createElement("use",{className:u.valueCircle,stroke:F>=94&&o?o:v,strokeOpacity:b,strokeWidth:P,strokeDasharray:d,strokeDashoffset:d-V,transform:"rotate(-90 36 36)",strokeLinecap:"round",xlinkHref:"#circle"}),o&&l.createElement("use",{className:u.valueCircle,stroke:o,strokeWidth:P,strokeDasharray:d,strokeDashoffset:j,transform:"rotate("+(-90-B)+" 36 36)",strokeLinecap:"round",xlinkHref:"#circle"}),l.createElement("use",{className:u.valueCircle,stroke:e,strokeDasharray:d,strokeDashoffset:d-R,strokeLinecap:"round",transform:"rotate(-90 36 36)",strokeWidth:P,xlinkHref:"#circle"}),l.createElement("text",r.__assign({className:N.radialProgressText,y:"38",x:"36",fill:n,fontSize:I,fontStyle:"normal",textAnchor:"middle"},i.DOM.svgVerticalAlignment(this.context.environment.has(s.b.Flag.supportsSVGDominantBaseline))),F),x&&l.createElement("text",{className:N.radialProgressDescription,fill:n,x:"50%",y:"80%",fontStyle:"normal",textAnchor:"middle"},x)))},t._nextGradientId=0,t}(o.a);!function(e){!function(e){e.eggBlue="eggBlue",e.dandelion="dandelion",e.radicalRed="radicalRed",e.lightVisteria="lightVisteria",e.royalBlue="royalBlue",e.logan="logan",e.electricViolet="electricViolet",e.crimson="crimson",e.blueRibbon="blueRibbon",e.green="green",e.lightBlue="lightBlue",e.orange="orange",e.white="white"}(e.ColorType||(e.ColorType={})),function(e){e.normal="normal",e.small="small"}(e.FontSize||(e.FontSize={})),function(e){e.normal="normal",e.small="small",e.outcome="outcome",e.pdf="pdf"}(e.IconSize||(e.IconSize={}))}(v||(v={}))},woBb:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a});var r,a,i=n("ASSm"),o=n("lycr"),s=n("WhHs"),c=n("xEd5"),l=n("t2Ba"),u=function(){function e(e,t,n){this.delta=e,this.deltaId=t,this.alertId=n}return e.prototype.toString=function(){return"D(#"+this.deltaId+";"},e}(),d=function(){function e(e){this._documentDeltaHolder=e,this._log=c.Monitoring.Logging.getLogger("delta_manager",c.Logging.LogLevel.DEBUG),this._deltas=new Map}return e.prototype.pushChanges=function(e){o.Change.isFlush(e)||(o.Change.isReset(e)?this._deltas=new Map:this._deltas.forEach(function(t){t.delta=e.delta.transform(t.delta,!0)}))},e.prototype.registerDelta=function(t,n){var r=e.getDeltaId(n),a=new u(t,r,n);return this._deltas.set(r,a),a},e.prototype.deregisterDelta=function(e){var t=this;return this.getDelta(e).map(function(e){var n=e.delta,r=e.deltaId;return Object(l.invariant)(t._deltas.delete(r),"delta should exists before deletion"),n})},e.prototype.getDelta=function(e){var t=this;return i.Try.of(function(){if(!t._deltas.has(e)){var n="Tried to retrieve non-registered delta: "+e;throw t._log.error(n),new Error(n)}return t._deltas.get(e)})},e.prototype.getInvertedDelta=function(e){var t=this._documentDeltaHolder.getDocumentDelta();return t.compose(e).diff(t)},e._deltaCounter=0,e.getDeltaId=function(t){return"delta-"+t+"-"+e._deltaCounter++},e}();!function(e){e.mock={registerDelta:function(e,t){return new u(e,d.getDeltaId(t),t)},deregisterDelta:function(){return i.Try.success(new s.Delta)},getInvertedDelta:function(){return new s.Delta}}}(r||(r={})),function(e){e.mock={getDocumentDelta:function(){return new s.Delta}}}(a||(a={}))},x02P:function(e){e.exports={v:"5.1.9",fr:50,ip:0,op:70,w:64,h:64,nm:"Hide animation",ddd:0,assets:[{id:"comp_2",layers:[{ddd:0,ind:1,ty:4,nm:"Line",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[17,41,0],ix:2},a:{a:0,k:[6,2,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,1],[6,1]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.650979995728,.678430974483,.788235008717,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1,ix:5},lc:2,lj:2,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[200,200],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:70,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Line",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[22,35,0],ix:2},a:{a:0,k:[11,2,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,1],[11,1]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.650979995728,.678430974483,.788235008717,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1,ix:5},lc:2,lj:2,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[200,200],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:70,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Line",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[22,29,0],ix:2},a:{a:0,k:[11,2,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,1],[11,1]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.650979995728,.678430974483,.788235008717,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1,ix:5},lc:2,lj:2,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[200,200],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:70,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Line",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[22,23,0],ix:2},a:{a:0,k:[11,2,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,1],[11,1]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.650979995728,.678430974483,.788235008717,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1,ix:5},lc:2,lj:2,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[200,200],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:70,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"Line",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[22,17,0],ix:2},a:{a:0,k:[11,2,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,1],[11,1]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.650979995728,.678430974483,.788235008717,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1,ix:5},lc:2,lj:2,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[200,200],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:70,st:0,bm:0}]}],layers:[{ddd:0,ind:1,ty:4,nm:"Sidebar",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:21,s:[100],e:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:30,s:[0],e:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:39,s:[0],e:[100]},{t:49}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},n:"0p833_0p833_0p167_0p167",t:6,s:[53.021,40,0],e:[58.021,40,0],to:[.83333331346512,0,0],ti:[-.83333331346512,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},n:"0p833_0p833_0p167_0p167",t:30,s:[58.021,40,0],e:[58.021,40,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},n:"0p833_0p833_0p167_0p167",t:39,s:[58.021,40,0],e:[53.021,40,0],to:[-.83333331346512,0,0],ti:[.83333331346512,0,0]},{t:65}],ix:2},a:{a:0,k:[21.021,-2,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:1,k:[{i:{x:[.833,.833],y:[.833,.833]},o:{x:[.167,.167],y:[.167,.167]},n:["0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167"],t:6,s:[12,24],e:[4,24]},{i:{x:[.833,.833],y:[.833,.833]},o:{x:[.167,.167],y:[.167,.167]},n:["0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167"],t:30,s:[4,24],e:[4,24]},{i:{x:[.833,.833],y:[.833,.833]},o:{x:[.167,.167],y:[.167,.167]},n:["0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167"],t:39,s:[4,24],e:[12,24]},{t:65}],ix:2},p:{a:0,k:[0,-11],ix:3},r:{a:0,k:1,ix:4},nm:"Rectangle Path 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[.650980392157,.678431372549,.788235353956,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:4,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[21.079,-11.922],ix:2},a:{a:0,k:[7.057,-9.922],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Rectangle 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:70,st:0,bm:0},{ddd:0,ind:2,ty:0,nm:"text",refId:"comp_2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},n:"0p833_0p833_0p167_0p167",t:6,s:[32,32,0],e:[42.25,32,0],to:[1.70833337306976,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},n:"0p833_0p833_0p167_0p167",t:35,s:[42.25,32,0],e:[32,32,0],to:[0,0,0],ti:[1.70833337306976,0,0]},{t:65}],ix:2},a:{a:0,k:[32,32,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,ef:[{ty:5,nm:"Position - Smoothness",np:3,mn:"ADBE Slider Control",ix:1,en:1,ef:[{ty:0,nm:"Slider",mn:"ADBE Slider Control-0001",ix:1,v:{a:0,k:4,ix:1,x:"var $bm_rt;\n$bm_rt = clamp(value, 0, 100);"}}]},{ty:5,nm:"Position - Blend Precision",np:3,mn:"ADBE Slider Control",ix:2,en:1,ef:[{ty:0,nm:"Slider",mn:"ADBE Slider Control-0001",ix:1,v:{a:0,k:25,ix:1,x:"var $bm_rt;\n$bm_rt = clamp(value, 0, 100);"}}]},{ty:5,nm:"Position - Blend On/Off",np:3,mn:"ADBE Checkbox Control",ix:3,en:1,ef:[{ty:7,nm:"Checkbox",mn:"ADBE Checkbox Control-0001",ix:1,v:{a:0,k:1,ix:1}}]},{ty:5,nm:"Position - Smoothness",np:3,mn:"ADBE Slider Control",ix:4,en:1,ef:[{ty:0,nm:"Slider",mn:"ADBE Slider Control-0001",ix:1,v:{a:0,k:4,ix:1,x:"var $bm_rt;\n$bm_rt = clamp(value, 0, 100);"}}]},{ty:5,nm:"Position - Blend Precision",np:3,mn:"ADBE Slider Control",ix:5,en:1,ef:[{ty:0,nm:"Slider",mn:"ADBE Slider Control-0001",ix:1,v:{a:0,k:25,ix:1,x:"var $bm_rt;\n$bm_rt = clamp(value, 0, 100);"}}]},{ty:5,nm:"Position - Blend On/Off",np:3,mn:"ADBE Checkbox Control",ix:6,en:1,ef:[{ty:7,nm:"Checkbox",mn:"ADBE Checkbox Control-0001",ix:1,v:{a:0,k:1,ix:1}}]}],w:64,h:64,ip:0,op:70,st:0,bm:0}],markers:[]}},zN6a:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return r});var r,a=n("ASSm"),i=n("xEd5"),o=n("t2Ba"),s=n("fOM/"),c=n("7K1R"),l=n("YeQk"),u=function(){function e(e,t,n,r){var a=this;this._alertList=e,this.docId=t,this._environment=n,this._upgradeHook=r,this._log=i.Monitoring.Logging.getLogger("UpgradeViewModel"),this.getAdvancedGroupedLiteAlerts=function(){return a._getGroupedLiteAlerts(s.a.isPremium)}}return e.prototype.openUpgradeUrl=function(e){var t=this;a.Try.of(function(){return t._upgradeHook.fromDenaliDocument(e,t.docId,t._getGroupedLiteAlerts(Object(o.not)(s.a.isPlagiarism)),t._getGroupedLensAlerts(Object(o.not)(s.a.isPlagiarism)))}).flatMap(function(e){return t._environment.actions.openUrl(e)}).recover(function(e){t._log.fatal("unexpected error on open upgrade page",e)})},e.prototype._getGroupedLiteAlerts=function(e){return c.a.group(this._alertList.getAllAlertsAsArray().filter(e).map(function(e){return e.toLiteAlert()}))},e.prototype._getGroupedLensAlerts=function(e){return l.a.group(this._alertList.getAllAlertsAsArray().filter(e).map(function(e){return e.toLensAlert()}))},e}();!function(e){var t=function(){function e(){this.getAllAlertsLike=function(){return[]},this.getAdvancedGroupedLiteAlerts=function(){return[]},this.docId="1"}return e.prototype.openUpgradeUrl=function(){},e}();e.Mock=t}(r||(r={}))},zUSz:function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return r});var r,a=n("ASSm"),i=n("l1F0"),o=n("yrnK"),s=n("oZTP"),c=n("xEd5"),l=n("lycr"),u=n("t2Ba"),d=n("n3Ao"),p=n("Fgeo"),m=function(){function e(e,t,n,r,m,f,h,g){void 0===g&&(g=new Set);var v=this;this.capi=e,this.events=t,this._documentModel=n,this._dialectSettings=r,this._debugTools=g,this._log=c.Monitoring.Logging.getLogger("ObservableCAPIClientImpl"),this._subs=[],this._checkingStateInt=new i.Subject,this._receivedMessages=[],this._sentMessages=[],this.sessionIsActive=s.Atom.create(!1),this._log.debug("Constructing client with _hasAlertsCache = "+f),this._subs.push(this._documentModel.context.skip(1).subscribe(function(t){e.setContext(t),n.score.set(a.None),v._checkingStateInt.next(v.capi.checkingState)}));var b=l.CAPI.CAPIEvent.is("session_started"),y=l.CAPI.CAPIEvent.is("session_started","queue_msgs_dropped");this._subs.push(this.events.subscribe(function(t){"finish"===t.kind?(v._dialectSettings.dialect.get().isEmpty()&&Object(p.l)(t.dialect)&&v._dialectSettings.setDialectWeak(t.dialect),v._checkingStateInt.next(v.capi.checkingState)):"session_started"===t.kind&&m.getContainerId().then(function(t){e.setOption("gnar_containerId",t)}).catch(function(e){v._log.warn("Can not send user container id",e)})}),this.events.filter(y).map(b).switchMap(d.e.orEmptyRight(o.Observable.of(void 0).delay(1e3))).map(function(){return v.capi.checkingState}).subscribe(this._checkingStateInt),this.events.filter(y).map(b).switchMap(function(e){return e?v.events.filter(function(e){return"ack"===e.kind&&"submit_ot"===e.message.action}).first().mapTo(!0):o.Observable.of(!1)}).subscribe(d.e.toAtom(this.sessionIsActive)));var _=t.filter(b).skip(1).switchMapTo(t.filter(l.CAPI.CAPIEvent.is("finish")).first().mapTo(!1).startWith(!0)).startWith(!1),E=this._checkingStateInt.withLatestFrom(_,function(e,t){return t&&"full"===e?"checking":e}).share(),w=E.takeWhile(function(e){return"full"!==e}),C=E.filter(function(e){return"full"===e}).switchMap(function(){return w.combineLatest(o.Observable.timer(5e3),function(e){return e}).startWith("full")});this._subs.push(t.subscribe(function(e){"text_info"===e.kind?n.textInfo.set(Object(a.Some)(e.data)):"finish"===e.kind?n.score.set(e.score):"async_check_finished"===e.kind&&v._updateAsyncChecksState()})),this._subs.push(o.Observable.merge(w,C).skipWhile(function(e){return f&&"idle"!==e}).distinctUntilChanged().startWith(h>1?f?"checking":"full":"idle").subscribe(function(e){if(v._log.debug("Switching checking state to "+e),n.checkingState.set(e),"full"===e)try{v.capi.reportSystemFeedback(l.CAPI.SystemFeedbackType.RECHECK_SHOWN)}catch(e){v._log.error("Failed to send RECHECK_SHOWN event on Capi",e)}})),this._debugTools.has("captureCapiMessages")&&(this._subs.push(this.events.filter(l.CAPI.CAPIEvent.is("message_received")).subscribe(function(e){v._receivedMessages.push(e.message)}),this.events.filter(l.CAPI.CAPIEvent.is("message_sent")).subscribe(function(e){return v._sentMessages.push(e.message)})),Object(u.registerDebugHelper)("popReceivedMessages",function(){return v._receivedMessages.splice(0,v._receivedMessages.length)}),Object(u.registerDebugHelper)("popSentMessages",function(){return v._sentMessages.splice(0,v._sentMessages.length)})),Object(u.registerDebugHelper)("onCapiSessionStart",function(e){v.sessionIsActive.filter(Boolean).subscribe(e)})}return e.prototype.pushChanges=function(e){this.capi.pushChanges(e),this._checkingStateInt.next(this.capi.checkingState),this._updateAsyncChecksState()},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()})},e.prototype._updateAsyncChecksState=function(){this._documentModel.asyncChecksState.set(this.capi.asyncChecksState)},e}();!function(e){var t=function(){function e(){var e=this;this.events=new i.Subject,this.feedbacks=new i.Subject,this.capi={reportAlertFeedback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.feedbacks.next({type:"feedback",args:t})},dismissAll:u.noop,reportLensFeedback:u.noop,enablePlagiarismSearch:u.noop,disablePlagiarismSearch:u.noop},this.activeAlerts=new Set,this.activeLensIds=new Set,this.fireAdd=function(t){e.activeAlerts.add(t),e.activeLensIds.add(t.cardLayout.group),e.events.next({kind:"before_alert"}),e.events.next({kind:"alert_received",alert:t})},this.fireRemove=function(t,n,r){void 0===n&&(n=a.Option.empty()),void 0===r&&(r=a.Option.empty()),e.activeAlerts.delete(t),e.activeLensIds.delete(t.cardLayout.group),e.events.next({kind:"alert_removed",alertId:t.id,mergedIn:n,hint:r})}}return e.prototype.pushChanges=function(){},e}();e.Mock=t,e.getCapiHandler=function(e,t){var n=l.Reconnect.getDefaultReconnect(c.Monitoring.Logging.getLogger("CapiHandler"),l.Reconnect.ClientType.capi),r=function(t){return e.next(t)},a=new i.Subject;return a.switchMap(function(e){return"online"===e?o.Observable.of("online"):o.Observable.of("offline").delay(1e4)}).subscribe(function(e){return t.setState({type:"wsCapi",state:{type:e}})}),{onSessionStarted:function(e){a.next("online"),r(e)},onWaitForOT:r,onSessionInbound:r,beforeAlert:r,onAlert:r,onRemove:r,onChange:r,onSynonyms:r,onPlagiarism:r,onTextInfo:r,onBeforeAsyncCheckFinish:r,onAsyncCheckFinish:r,onError:r,onBeforeFinish:r,onFinish:r,onDisconnect:function(e,t,r,i){return a.next("offline"),n(e,t,r,i)},onQueueMsgDropped:r,onAck:r,onMessageReceived:r,onMessageSent:r}}}(r||(r={}))},zwFA:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("CB9K"),a=n("Skuv"),i=n("kVh0"),o=!0,s=i.a;function c(e){return!e&&o&&(r.Observable.defer(function(){return Promise.all([n.e(0),n.e(18)]).then(n.bind(null,"fOmg"))}).retryWhen(a.a.OperationRetrier.RetryStrategy.linear(3,1e3)).first().subscribe(function(e){return s=e.Illustration}),o=!1),s}}}]);